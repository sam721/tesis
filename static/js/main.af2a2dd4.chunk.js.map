{"version":3,"sources":["Actions/actions.js","utils/dataURItoBlob.js","utils/MediaRecorder.js","Components/UploadGraphModal.tsx","Components/InputModal.tsx","Processing/graph-processing.ts","resources/names_and_routes/algorithm_names.js","Components/Graph.tsx","Components/InputHeapModal.tsx","utils/heap-utils.js","resources/pseudocodes/heap.jsx","Algorithms/DS/PriorityQueue.js","Processing/heap-processing.ts","Components/Heap.tsx","resources/names_and_routes/algorithm_routes.js","Components/Home.tsx","utils/bst-utils.js","Components/InputBSTModal.tsx","utils/cy-utils.js","resources/pseudocodes/bst.jsx","Processing/bst-proccesing.tsx","Components/BST.tsx","Algorithms/DS/Queue.js","Algorithms/BFS.js","Algorithms/DFS.js","Algorithms/Dijkstra.js","Algorithms/BellmanFord.js","Algorithms/Prim.js","Algorithms/DS/DisjointSet.js","Algorithms/Kruskal.js","resources/pseudocodes/list.jsx","algorithm-properties.js","Algorithms/BubbleSort.js","Components/InputArrayModal.tsx","Components/BubbleSort.tsx","Algorithms/MergeSort.js","Processing/mergesort-processing.ts","Components/MergeSort.tsx","Algorithms/BubbleSort-util.js","Algorithms/BinarySearch.js","Components/BinarySearch.tsx","Algorithms/DS/LinkedListSimulator.js","Processing/list-processing.ts","Components/LinkedList.tsx","Editor.js","Components/CodeBlock.tsx","Components/OptionsMenu.tsx","Components/SpeedBar.tsx","Components/InfoModal.tsx","Components/Footer.tsx","Components/PhotoControl.tsx","Components/GIFControl.tsx","Components/MenuBar.tsx","resources/default_examples/example.js","Components/FreeGraph.tsx","Components/FreeGraphModal.tsx","App.tsx","serviceWorker.js","resources/pseudocodes/BFS.jsx","resources/pseudocodes/DFS.jsx","resources/pseudocodes/dijkstra.jsx","resources/pseudocodes/kruskal.jsx","resources/pseudocodes/bellmanFord.jsx","resources/pseudocodes/bubblesort.jsx","resources/pseudocodes/mergesort.jsx","resources/pseudocodes/prim.jsx","resources/pseudocodes/binarySearch.jsx","resources/information/BFS.jsx","resources/information/DFS.jsx","resources/information/Dijkstra.jsx","resources/information/BellmanFord.jsx","resources/information/Prim.jsx","resources/information/Kruskal.jsx","resources/information/BubbleSort.jsx","resources/information/MergeSort.jsx","resources/information/Heap.jsx","resources/information/BST.jsx","resources/information/BinarySearch.jsx","resources/information/LinkedList.jsx","resources/information/Queue.jsx","resources/information/Stack.jsx","resources/information/Deque.jsx","resources/information/AVL.jsx","Reducers/algorithmReducer.js","Reducers/animationReducer.js","Reducers/canvasReducer.js","Reducers/selectionReducer.js","Reducers/notificationsReducer.js","Reducers/reducer.js","index.js","Styles/Styles.ts","static/images/graph3.png","static/images/AVL.png","static/images/array.png"],"names":["actions","INITIAL","HOME","TOGGLE_TUTORIAL_MODAL","SELECT_BFS","SELECT_DFS","SELECT_BELLMAN_FORD","SELECT_DIJKSTRA","SELECT_KRUSKAL","SELECT_PRIM","SELECT_HEAP","SELECT_BST","SELECT_AVL","SELECT_BUBBLESORT","SELECT_MERGESORT","SELECT_BINARY_SEARCH","SELECT_LINKED_LIST","SELECT_SINGLE_LINKED_LIST","SELECT_DOUBLE_LINKED_LIST","SELECT_QUEUE","SELECT_STACK","SELECTION","NO_SELECTION","ANIMATION_START","ANIMATION_PAUSE","ANIMATION_CONTINUE","ANIMATION_END","CLEAR_GRAPH","CHANGE_PSEUDO","TOGGLE_PSEUDO","SHOW_PSEUDO","CLOSE_PSEUDO","INC_SPEED","DEC_SPEED","CHANGE_SPEED","CHANGE_OPTIONS","CHANGE_LINE","LOAD_GRAPH","FINISHED_LOAD","INC_GIF_LENGTH","RESET_GIF_LENGTH","START_GIF_ENCODING","FINISHED_GIF_ENCODING","NO_NODE_SELECTED_ERROR","NO_EDGE_SELECTED_ERROR","NO_ELEMENT_SELECTED_ERROR","INVALID_INTEGER_ERROR","INVALID_ARRAY_ERROR","INVALID_GRAPH_ERROR","INVALID_HEAP_ERROR","INVALID_BST_ERROR","INVALID_AVL_ERROR","ANIMATION_RUNNING_ERROR","GIF_ENCODING_ERROR","EMPTY_LIST_WARNING","EMPTY_QUEUE_WARNING","EMPTY_STACK_WARNING","EMPTY_HEAP_WARNING","DIJKSTRA_NEGATIVE_WEIGHT_WARNING","NEGATIVE_CYCLE_FOUND","AVL_NOT_FOUND_INFO","AVL_ELEMENT_ALREADY_INFO","STARTING_BFS_INFO","STARTING_DFS_INFO","STARTING_DIJKSTRA_INFO","STARTING_BELLMAN_FORD_INFO","STARTING_KRUSKAL_INFO","STARTING_PRIM_INFO","STARTING_BUBBLESORT_INFO","STARTING_MERGESORT_INFO","STARTING_BINARYSEARCH_INFO","STARTING_GIF_RECORDING_INFO","FINISHED_GIF_RECORDING_INFO","STARTING_BINARY_SEARCH_INFO","BINARY_SEARCH_NOT_FOUND_INFO","NO_FILE_SELECTED_INFO","FINISHED_GIF_SUCCESS","LOAD_GRAPH_SUCCESS","PHOTO_SUCCESS","FINISHED_ALGORITHM_SUCCESS","AVL_FOUND_SUCCESS","ARRAY_SORTED_SUCCESS","BINARY_SEARCH_FOUND_SUCCESS","dataURItoBlob","dataURI","byteString","atob","split","mimeString","arrayBuffer","ArrayBuffer","length","_ia","Uint8Array","i","charCodeAt","dataView","DataView","Blob","type","gifshot","require","MediaRecorder","_this2","this","dispatch","arguments","undefined","_action","Object","classCallCheck","_gifBuffer","_takingGif","_interval","_dispatch","downloadGif","buffer","width","height","createGIF","images","gifWidth","gifHeight","frameDuration","obj","error","console","log","image","link","document","createElement","setAttribute","window","URL","createObjectURL","style","display","body","appendChild","click","removeChild","cy","_this","download","jpg","push","takeGif","clearInterval","setInterval","takePicture","elements","graph","JSON","stringify","encodeURIComponent","input","value","connect","UploadGraphModal","uploadGraph","getElementById","files","file","reader","FileReader","onload","content","result","parse","props","payload","data","e","readAsText","handleClose","_this$props","show","react_default","a","Fragment","Modal_default","onHide","Header","className","closeButton","Title","Body","id","Footer","Button","variant","onClick","React","Component","InputModal","possibleConstructorReturn","getPrototypeOf","call","setStepInputRef","handleAccept","validateNumber","text","parseInt","callback","handleChange","setState","currentTarget","handleCancel","currentValue","toString","state","element","prevProps","test","min","max","ref","onChange","selection","weight","Styles","cytoscape","exportGraph","nodes","forEach","node","group","position","edges","edge","source","target","processCommands","commands","action","headless","steps","lastLines","_loop","pos","_commands$pos","eles","distance","duration","inst","lines","ele","index","prevStyle","objectSpread","NODE_POPPER","name","algorithmNames","BFS","DFS","Dijkstra","BellmanFord","Kruskal","Prim","MinHeap","BST","AVL","BubbleSort","MergeSort","BinarySearch","SingleLinkedList","DoubleLinkedList","Queue","Stack","autopanOnDrag","getNodeIdString","nodeId","Graph","_isMounted","_mediaRecorder","values","Array","showModal","showWeightModal","layout","run","stop","nodeStyle","NODE","edgeStyle","EDGE","undo","redo","options","step","animationTimeout","handleUndo","animation","currentElements","pop","loadGraph","handleRedo","handleRewind","clearTimeout","Math","_this$buffer$_this$st","handleForward","_this$buffer$_this$st2","handleRepeat","_this$buffer$_this$st3","handleEnd","_this$buffer$_this$st4","handlePauseContinue","paused","Promise","resolve","then","clearGraph","pushState","removeNode","remove","removeNodePopper","removeEdge","executeAnimation","notification","background-color","color","graphProcessing","algorithm","algoNames","runButton","createPopper","refreshLayout","reject","execute","autolock","removeButton","handleClickOnNode","prevNode","previous","directed","outgoers","contains","neighborhood","createEdge","NODE_SELECTED","handleClickOnEdge","edgeId","prevId","EDGE_SELECTED","changeWeight","weightButton","handleClickViewport","event","_event$position","x","y","createNode","weighted","EDGE_WEIGHTED","EDGE_DIRECTED","takeJson","initialize","photo","gif","rewind","forward","pause","repeat","end","clear","cookies","getAll","get","set","path","loadingGraph","cancelGif","removePoppers","_this3","withPoppers","container","selector","styleEnabled","hideEdgesOnViewport","hideLabelsOnViewport","userPanningEnabled","zoomingEnabled","textureOnViewport","motionBlur","motionBlurOpacity","pixelRatio","match","visibility","on","enabled","speed","makeLayout","_this4","add","withStyle","backgroundColor","borderWidth","zIndex","lineColor","targetArrowShape","targetArrowColor","lineStyle","label","textRotation","textMarginY","_this5","_this5$buffer","setTimeout","z-index","border-width","font-size","_this6","floor","random","_this7","Components_UploadGraphModal","Components_InputModal","w","withCookies","InputHeapModal","validateArray","map","n","left","right","Infinity","validateHeap","changeArray","ind","insert","heap","PriorityQueue","_comp","_eq","_data","isEmpty","NODE_BLACK","classes","parent","NODE_CORRECT","NODE_WRONG","_ref","l","r","_ref2","_ref3","_ref4","HeapProcessor","vw","vh","layoutProcessing","prev","addNode","concat","sep","getHeight","setSep","nx","ny","prevPosition","popper","prevPopPosition","lastDuration","val","src","layoutOptions","positions","padding","animate","animationDuration","Heap","showInsertModal","heapProcessor","pseudo","output","parseHeap","autoungrabify","grabbable","pannable","_this7$buffer","_this8","_this9","_this10","Components_InputHeapModal","v","algorithmRoutes","NavLink","HashRouter","AlgoThumb","imgSrc","title","children","Home","Row","Col","md","Home_AlgoThumb","to","routes","ArrayPic","isLeaf","getChildren","lca","InputAVLModal","addEdge","balanced","recursion","correct","balance","sign","current","abs","validateBST","_this$props2","search","avl","bst","BSTProcessor","treeRoot","found","anc","pushStep","newChild","suc","inorderSuccessor","root","updateLayout","refresh","_getChildren","_getChildren2","slicedToArray","propagate","levels","dfs","depth","_getChildren3","_getChildren4","hleft","hright","bal","iter","j","b","_getChildren5","_getChildren6","dif","_getChildren7","_getChildren8","_getChildren9","_getChildren10","C","_getChildren11","_getChildren12","A","B","_getChildren13","_getChildren14","_getChildren15","_getChildren16","start","_getChildren17","_getChildren18","lh","rh","rotateRight","rotateLeft","newNode","insertion","_getChildren19","_getChildren20","bsearch","_getChildren21","_getChildren22","getNext","warnings","showSearchModal","showRemoveModal","update","parseAVL","keep","_this6$buffer","_this$BSTProcessor$se","InputBSTModal","shift","param","level","q","NODE_GRAY","front","next","EDGE_TRAVERSE","class","EDGE_VISITED","visited","pq","dist","fill","_pq$top","top","NODE_RED","nextId","prevDistance","pre","currentId","u","negativeCycle","part_of_tree","EDGE_NO_MST","EDGE_MST","connectedEdges","t","nextStyle","DisjointSet","_parent","find","nodeX","nodeY","sorted","ds","connected","join","pseudocodes_list","singlySet","main","pushFront","pushBack","popFront","popBack","insertBefore","insertAfter","doublySet","queueSet","stackSet","properties","pseudoset","pseudocodes","bcolor","swap","InputArrayModal","currentValues","size","prevValues","toConsumableArray","valuesToGraph","Bubblesort","prevState","shape","_this4$buffer","Components_InputArrayModal","mergeSortAnimation","mid","mergeSort","h","focus","nofocus","shadows","rshadows","cmd","p","slice","li","ri","shadow","addShadow","Mergesort","Sort","defaultStyle","lo","hi","showInputModal","BinarySearchAlgo","LinkedListSimulator","slow","newId","caseLines","ListProcessor","doubly","list","doublyLinked","_ele$data","splice","unshift","_ele$data2","_this2$list$_data","rest","apply","_ele$data3","_this2$list$_data2","_ele$data4","_ele$data5","push_front","push_back","pop_front","pop_back","where","insert_before","insert_after","delete_position","LinkedList","showDeleteModal","showPushBeforeModal","showPushBackModal","showPushFrontModal","showPushAfterModal","EDGE_DOUBLE","_this11","_this12","_this13","_this14","Route","Switch","Editor","Editor_HashRouter","key","names","render","Components_Graph","Components_Heap","Components_BST","Components_BubbleSort","Components_MergeSort","Components_BinarySearch","Components_LinkedList","Components_Home","CodeLine","line","LINE_FOCUS","LINE_STD","paddingRight","paddingLeft","CodeBlock","code","codelines","CodeBlock_CodeLine","includes","showPseudo","OptionsMenu","op","links","option","xs","InfoModal","es_Modal","close","article","algoDict","interval","ControlButton","delay","onMouseDown","onMouseUp","showActions","showInfo","control","sm","index_es","icon","faStepBackward","Footer_ControlButton","faBackward","faPlay","faPause","faForward","faStepForward","faUndo","faRedo","faTimes","faTrash","Components_InfoModal","Components_OptionsMenu","Components_SpeedBar","span","offset","faInfo","PhotoControl","handleClick","GIFControl","processing","timeEllapsed","ss","ms","disabled","gifLength","processingGif","MenuBar","searchAlgorithms","MenuBar_NavLink","mstAlgorithms","arrays","dataStructures","MenuBar_HashRouter","Components_PhotoControl","Components_GIFControl","example","FreeGraph","assertThisInitialized","FreeGraphModal","showTutorialModal","Components_FreeGraph","App","Container","dist_default","Components_FreeGraphModal","Components_CodeBlock","Components_MenuBar","src_Editor","Components_Footer","Boolean","location","hostname","dijkstra","kruskal","bellmanFord","bubblesort","mergesort","prim","binarySearch","complexity","Table","striped","bordered","hover","latex_default","react_tex","texContent","Deque","algorithmReducer","BFSInfo","DFSInfo","DijkstraInfo","BellmanFordInfo","KruskalInfo","PrimInfo","HeapInfo","BSTInfo","AVLInfo","bubbleSortInfo","mergeSortInfo","binarySearchInfo","nextState","listPseudo","LinkedListInfo","DequeInfo","QueueInfo","StackInfo","animationReducer","canvasReducer","selectionReducer","createNotification","message","store","addNotification","animationIn","animationOut","dismiss","onscreen","showIcon","notificationsReducer","SORTING_BINARY_SEARCH_INFO","initialState","reducer","finalState","createStore","ReactDOM","es","es6","src_App","navigator","serviceWorker","ready","registration","unregister","__webpack_require__","__webpack_exports__","d","border-style","border-opacity","border-color","text-valign","text-halign","line-color","curve-style","line-style","target-arrow-color","target-arrow-shape","source-arrow-color","source-arrow-shape","text-margin-y","text-rotation","module","exports"],"mappings":"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","file":"static/js/main.af2a2dd4.chunk.js","sourcesContent":["const actions = {\r\n\r\n    INITIAL: 'INITIAL',\r\n    HOME: 'HOME',\r\n    TOGGLE_TUTORIAL_MODAL: 'TOGGLE_TUTORIAL_MODAL',\r\n    \r\n    SELECT_BFS: 'SELECT_BFS',\r\n    SELECT_DFS: 'SELECT_DFS',\r\n    SELECT_BELLMAN_FORD: 'SELECT_BELLMAN_FORD',\r\n    SELECT_DIJKSTRA: 'SELECT_DIJKSTRA',\r\n    SELECT_KRUSKAL: 'SELECT_KRUSKAL',\r\n    SELECT_PRIM: 'SELECT_PRIM',\r\n    SELECT_HEAP: 'SELECT_HEAP',\r\n    SELECT_BST: 'SELECT_BST',\r\n    SELECT_AVL: 'SELECT_AVL',\r\n    SELECT_BUBBLESORT: 'SELECT_BUBBLESORT',\r\n    SELECT_MERGESORT: 'SELECT_MERGESORT',\r\n    SELECT_BINARY_SEARCH: 'SELECT_BINARY_SEARCH',\r\n    SELECT_LINKED_LIST: 'SELECT_LINKED_LIST',\r\n    SELECT_SINGLE_LINKED_LIST: 'SELECT_SINGLE_LINKED_LIST',\r\n    SELECT_DOUBLE_LINKED_LIST: 'SELECT_DOUBLE_LINKED_LIST',\r\n    SELECT_QUEUE: 'SELECT_QUEUE',\r\n    SELECT_STACK: 'SELECT_STACK',\r\n\r\n    SELECTION: 'SELECTION',\r\n    NO_SELECTION: 'NO_SELECTION',\r\n    ANIMATION_START: 'ANIMATION_START',\r\n    ANIMATION_PAUSE: 'ANIMATION_PAUSE',\r\n    ANIMATION_CONTINUE: 'ANIMATION_CONTINUE',\r\n    ANIMATION_END: 'ANIMATION_END',\r\n    CLEAR_GRAPH: 'CLEAR_GRAPH',\r\n    \r\n    CHANGE_PSEUDO: 'CHANGE_PSEUDO',\r\n    TOGGLE_PSEUDO: 'TOGGLE_PSEUDO',\r\n    SHOW_PSEUDO: 'SHOW_PSEUDO',\r\n    CLOSE_PSEUDO: 'CLOSE_PSEUDO',\r\n    INC_SPEED: 'INC_SPEED',\r\n    DEC_SPEED: 'DEC_SPEED',\r\n    CHANGE_SPEED: 'CHANGE_SPEED',\r\n    CHANGE_OPTIONS: 'CHANGE_OPTIONS',\r\n    CHANGE_LINE: 'CHANGE_LINE',\r\n\r\n    LOAD_GRAPH: 'LOAD_GRAPH',\r\n    FINISHED_LOAD: 'FINISHED_LOAD',\r\n    INC_GIF_LENGTH: 'INC_GIF_LENGTH',\r\n    RESET_GIF_LENGTH: 'RESET_GIF_LENGTH',\r\n    START_GIF_ENCODING: 'START_GIF_ENCODING',\r\n    FINISHED_GIF_ENCODING: 'FINISHED_GIF_ENCODING',\r\n\r\n    NO_NODE_SELECTED_ERROR: 'NO_NODE_SELECTED_ERROR',\r\n    NO_EDGE_SELECTED_ERROR: 'NO_EDGE_SELECTED_ERROR',\r\n    NO_ELEMENT_SELECTED_ERROR: 'NO_ELEMENT_SELECTED_ERROR',\r\n    INVALID_INTEGER_ERROR: 'INVALID_INTEGER_ERROR',\r\n    INVALID_ARRAY_ERROR: 'INVALID_ARRAY_ERROR',\r\n    INVALID_GRAPH_ERROR: 'INVALID_GRAPH_ERROR',\r\n    INVALID_HEAP_ERROR: 'INVALID_HEAP_ERROR',\r\n    INVALID_BST_ERROR: 'INVALID_BST_ERROR',\r\n    INVALID_AVL_ERROR: 'INVALID_AVL_ERROR',\r\n    ANIMATION_RUNNING_ERROR: 'ANIMATION_RUNNING_ERROR',\r\n    GIF_ENCODING_ERROR: 'GIF_ENCODING_ERROR',\r\n\r\n    EMPTY_LIST_WARNING: 'EMPTY_LIST_WARNING',\r\n    EMPTY_QUEUE_WARNING: 'EMPTY_QUEUE_WARNING',\r\n    EMPTY_STACK_WARNING: 'EMPTY_STACK_WARNING',\r\n    EMPTY_HEAP_WARNING: 'EMPTY_HEAP_WARNING',\r\n    DIJKSTRA_NEGATIVE_WEIGHT_WARNING: 'DIJKSTRA_NEGATIVE_WEIGHT_WARNING',\r\n    NEGATIVE_CYCLE_FOUND: 'NEGATIVE_CYCLE_FOUND',\r\n\r\n    AVL_NOT_FOUND_INFO: 'AVL_NOT_FOUND_INFO',\r\n    AVL_ELEMENT_ALREADY_INFO: 'AVL_ELEMENT_ALREADY_INFO',\r\n    STARTING_BFS_INFO: 'STARTING_BFS_INFO',\r\n    STARTING_DFS_INFO: 'STARTING_DFS_INFO',\r\n    STARTING_DIJKSTRA_INFO: 'STARTING_DIJKSTRA_INFO',\r\n    STARTING_BELLMAN_FORD_INFO: 'STARTING_BELLMAN_FORD_INFO',\r\n    STARTING_KRUSKAL_INFO: 'STARTING_KRUSKAL_INFO',\r\n    STARTING_PRIM_INFO: 'STARTING_PRIM_INFO',\r\n    STARTING_BUBBLESORT_INFO: 'STARTING_BUBBLESORT_INFO',\r\n    STARTING_MERGESORT_INFO: 'STARTING_MERGESORT_INFO',\r\n    STARTING_BINARYSEARCH_INFO: 'STARTING_BINARYSEARCH_INFO',\r\n    STARTING_GIF_RECORDING_INFO: 'STARTING_GIF_RECORDING_INFO',\r\n    FINISHED_GIF_RECORDING_INFO: 'FINISHED_GIF_RECORDING_INFO',\r\n    STARTING_BINARY_SEARCH_INFO: 'STARTING_BINARY_SEARCH_INFO',\r\n    BINARY_SEARCH_NOT_FOUND_INFO: 'BINARY_SEARCH_NOT_FOUND_INFO',\r\n    NO_FILE_SELECTED_INFO: 'NO_FILE_SELECTED_INFO',\r\n\r\n    FINISHED_GIF_SUCCESS: 'FINISHED_GIF_SUCCESS',\r\n    LOAD_GRAPH_SUCCESS: 'LOAD_GRAPH_SUCCESS',\r\n    PHOTO_SUCCESS: 'PHOTO_SUCCESS',\r\n    FINISHED_ALGORITHM_SUCCESS: 'FINISHED_ALGORITHM_SUCCESS',\r\n    AVL_FOUND_SUCCESS: 'AVL_FOUND_SUCCESS',\r\n    ARRAY_SORTED_SUCCESS: 'ARRAY_SORTED_SUCCESS',\r\n    BINARY_SEARCH_FOUND_SUCCESS: 'BINARY_SEARCH_FOUND_SUCCESS',\r\n    \r\n}\r\nexport default actions;","/*\r\nThe MIT License (MIT)\r\nCopyright (c) 2016 David Gomez-Urquiza\r\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\r\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n*/\r\n\r\nfunction dataURItoBlob(dataURI) {\r\n  // convert base64 to raw binary data held in a string\r\n  var byteString = atob(dataURI.split(',')[1]);\r\n\r\n  // separate out the mime component\r\n  var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];\r\n\r\n  // write the bytes of the string to an ArrayBuffer\r\n  var arrayBuffer = new ArrayBuffer(byteString.length);\r\n  var _ia = new Uint8Array(arrayBuffer);\r\n  for (var i = 0; i < byteString.length; i++) {\r\n      _ia[i] = byteString.charCodeAt(i);\r\n  }\r\n\r\n  var dataView = new DataView(arrayBuffer);\r\n  var blob = new Blob([dataView], { type: mimeString });\r\n  return blob;\r\n}\r\n\r\nexport default dataURItoBlob;","import dataURItoBlob from './dataURItoBlob';\r\nimport actions from '../Actions/actions';\r\nconst gifshot = require('gifshot');\r\nclass MediaRecorder{\r\n\r\n  _gifBuffer = [];\r\n  _takingGif = false;\r\n  _interval = 0;\r\n  _dispatch = null;\r\n  \r\n  constructor(dispatch = (_action) => {}){\r\n    this._dispatch = dispatch;\r\n  }\r\n\r\n  downloadGif = (buffer, width, height) => {\r\n    const dispatch = this._dispatch;\r\n    try{\r\n      gifshot.createGIF({\r\n        'images': buffer,\r\n        'gifWidth': width,\r\n        'gifHeight': height,\r\n        'frameDuration': 1,\r\n        }, function(obj) {\r\n          if(!obj.error) {\r\n            const image = dataURItoBlob(obj.image);\r\n      \r\n            let link = document.createElement('a');\r\n            link.setAttribute('href', window.URL.createObjectURL(image));\r\n            link.setAttribute('download', 'test.gif');\r\n            link.setAttribute('target', '_blank');\r\n            link.style.display = 'none';\r\n            document.body.appendChild(link);\r\n            link.click();\r\n            document.body.removeChild(link);\r\n            dispatch({\r\n              type: actions.FINISHED_GIF_SUCCESS,\r\n            });\r\n            dispatch({\r\n              type: actions.FINISHED_GIF_ENCODING,\r\n            });\r\n          }else{\r\n            dispatch({\r\n              type: actions.FINISHED_GIF_SUCCESS,\r\n            });\r\n            \r\n            console.log(obj.error);\r\n          }\r\n        }\r\n      );\r\n    }catch(error){\r\n      console.log(error);\r\n      dispatch({\r\n        type: actions.FINISHED_GIF_ENCODING,\r\n      });\r\n      dispatch({\r\n        type: actions.GIF_ENCODING_ERROR,\r\n      });\r\n    }\r\n  }\r\n  takePicture(cy, _this = null, download = true){\r\n    let image = cy.jpg();\r\n    if(download){\r\n      let link = document.createElement('a');\r\n      link.setAttribute('href', image);\r\n      link.setAttribute('download', 'test.jpg');\r\n      link.setAttribute('target', '_blank');\r\n      link.style.display = 'none';\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n    }else if(_this._gifBuffer.length < 300){\r\n      _this._gifBuffer.push(image);\r\n      _this._dispatch({\r\n        type: actions.INC_GIF_LENGTH,\r\n      });\r\n    }else{\r\n      _this.takeGif(cy);\r\n    }\r\n  }\r\n\r\n  cancelGif(){\r\n    this._takingGif = false;\r\n    this._dispatch({type: actions.RESET_GIF_LENGTH});\r\n    clearInterval(this._interval);\r\n  }\r\n\r\n  takeGif(cy){\r\n    if(!this._takingGif){\r\n      this._takingGif = true;\r\n      this._dispatch({type: actions.STARTING_GIF_RECORDING_INFO});\r\n      this._interval = setInterval(this.takePicture, 300, cy, this, false);\r\n    }else{\r\n      clearInterval(this._interval);\r\n      this._dispatch({type: actions.FINISHED_GIF_RECORDING_INFO});\r\n      this._dispatch({type: actions.RESET_GIF_LENGTH});\r\n      this._dispatch({type: actions.START_GIF_ENCODING});\r\n      this.downloadGif(this._gifBuffer, cy.width(), cy.height());\r\n      this._takingGif = false;\r\n      this._gifBuffer = [];\r\n    }\r\n  }\r\n\r\n  takeJson(elements){\r\n   \r\n    const graph = JSON.stringify(elements); \r\n    let link = document.createElement('a');\r\n    link.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(graph));\r\n    link.setAttribute('download', 'graph.json');\r\n    link.setAttribute('target', '_blank');\r\n    link.style.display = 'none';\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n  }\r\n\r\n  readJson(){\r\n    /*\r\n    const graph = prompt(\"Insertar grafo en formato JSON\");\r\n    if(graph){\r\n      console.log(JSON.parse(graph));\r\n      cy.json(JSON.parse(graph));\r\n    }\r\n    */\r\n   let input = document.createElement('input');\r\n   input.setAttribute('type', 'file');\r\n   input.setAttribute('id','myFile');\r\n   input.setAttribute('style', 'position: absolute');\r\n   document.body.appendChild(input);\r\n   input.click();\r\n   console.log(input.value);\r\n  }\r\n\r\n  \r\n}\r\n\r\nexport default MediaRecorder;","import React from 'react';\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport { Button } from 'react-bootstrap';\r\nimport actions from '../Actions/actions';\r\n\r\nconst { connect } = require('react-redux');\r\ntype Props = {\r\n  show: boolean,\r\n  handleClose: () => void,\r\n  dispatch: (action: Object) => Object,\r\n}\r\n\r\nclass UploadGraphModal extends React.Component<Props>{\r\n\r\n  uploadGraph = () => {\r\n    const input = (document.getElementById('graphUploadInput') as HTMLInputElement);\r\n    if(input.files && input.files.length > 0){\r\n      const file = input.files[0];\r\n      const reader = new FileReader();\r\n      reader.onload = () => {\r\n        const content = reader.result;\r\n        if(typeof content === 'string'){\r\n          try{\r\n            JSON.parse(content);\r\n            this.props.dispatch({\r\n              type: actions.LOAD_GRAPH,\r\n              payload: {\r\n                data: content,\r\n              }\r\n            });\r\n          }catch(e){\r\n            this.props.dispatch({type: actions.INVALID_GRAPH_ERROR});\r\n          }\r\n        }\r\n      }\r\n      reader.readAsText(file);\r\n      this.props.handleClose();\r\n    }else{\r\n      this.props.dispatch({\r\n        type: actions.NO_FILE_SELECTED_INFO,\r\n      });\r\n    }\r\n  }\r\n  render(){\r\n    const {show, handleClose} = this.props;\r\n    return (\r\n      <>\r\n        <Modal show={show} onHide={handleClose}>\r\n          <Modal.Header className='modal-header' closeButton>\r\n            <Modal.Title>Seleccione un archivo</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <p>El archivo debe contener un grafo valido, previamente descargado </p>\r\n            <input type=\"file\" id=\"graphUploadInput\"/>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={handleClose}>\r\n              Cancelar\r\n            </Button>\r\n            <Button variant=\"primary\" onClick={() => this.uploadGraph()}>\r\n              Subir grafo\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect()(UploadGraphModal);","import React, { ReactElement } from 'react';\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport { Button, FormControl } from 'react-bootstrap';\r\nimport actions from '../Actions/actions';\r\n\r\nconst { connect } = require('react-redux');\r\n//5(3(1(.)(.))(4(.)(.)))(9(7(6(.)(.))(8(.)(.)))(15(11(.)(.))(.)))\r\ntype Props = {\r\n  show: boolean,\r\n  handleClose: () => void,\r\n  callback: (value: number) => void,\r\n  currentValue: number,\r\n  dispatch: (action:Object) => void,\r\n}\r\n\r\ntype storeState = {\r\n  selection: {weight: number},\r\n}\r\n\r\ntype State = {\r\n  text: string,\r\n}\r\n\r\nconst mapStateToProps = (state:storeState) => {\r\n  return {\r\n    currentValue: (state.selection ? state.selection.weight : 0),\r\n  }\r\n}\r\nclass InputModal extends React.Component<Props, State>{\r\n  input:HTMLInputElement | null;\r\n  setStepInputRef:(element:HTMLInputElement)=>void;\r\n\r\n  constructor(props:Props){\r\n    super(props);\r\n    this.input = null;\r\n    this.state = {\r\n      text: this.props.currentValue.toString(),\r\n    }\r\n    this.setStepInputRef = element => {\r\n      this.input = element;\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(prevProps:Props){\r\n    const {currentValue} = this.props;\r\n    if(currentValue != null && currentValue != prevProps.currentValue){\r\n      this.setState({\r\n        text: this.props.currentValue.toString(),\r\n      })\r\n    }\r\n  }\r\n\r\n  validateNumber(text: string) {\r\n    let regex = /^([-]?([0-9]{1,3}))$/;\r\n    if (text && regex.test(text)) {\r\n      return true;\r\n    } else {\r\n      this.props.dispatch({\r\n        type: actions.INVALID_INTEGER_ERROR,\r\n      })\r\n      return false;\r\n    }\r\n  }\r\n\r\n  handleAccept = () => {\r\n    if(this.input && this.validateNumber(this.input.value)){\r\n      const text = this.input.value;\r\n      const value = parseInt(text);\r\n      this.props.callback(value);\r\n      this.props.handleClose();\r\n    }\r\n  }\r\n\r\n  handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    this.setState({text: e.currentTarget.value});\r\n  }\r\n\r\n  handleCancel = () => {\r\n    if(this.props.currentValue) this.setState({text: this.props.currentValue.toString()});\r\n    this.props.handleClose();\r\n  }\r\n  render(){\r\n    const {show, handleClose} = this.props;\r\n    return (\r\n      <Modal show={show} onHide={handleClose}>\r\n        <Modal.Header className='modal-header' closeButton>\r\n          <Modal.Title>Introduzca un numero entero</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <p>El numero debe estar entre -999 y 999</p>\r\n          <input \r\n            id=\"IntInput\"\r\n            type=\"number\" \r\n            min={-999}\r\n            max={999}\r\n            ref={this.setStepInputRef} \r\n            value={this.state.text}\r\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) => this.handleChange(e)}\r\n          />\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={this.handleCancel}>\r\n            Cancelar\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={this.handleAccept}>\r\n            Aceptar\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(InputModal);","import actions from '../Actions/actions';\r\nimport { CytoscapeElement, CytoEvent, AnimationStep } from '../Types/types';\r\nconst Styles = require('../Styles/Styles');\r\nconst cytoscape = require('cytoscape');\r\nconst { connect } = require('react-redux');\r\n\r\nconst exportGraph = (cy: any) => {\r\n  const elements:Array<Object> = [];\r\n  cy.nodes().forEach((node:CytoscapeElement) => {\r\n    elements.push({\r\n      group: 'nodes',\r\n      data: {\r\n        id: node.id(),\r\n        value: node.data('value'),\r\n        style: node.data('style'),\r\n        position: node.data('position'),\r\n      },\r\n      position: node.data('position'),\r\n    })\r\n  });\r\n  cy.edges().forEach((edge:CytoscapeElement) => {\r\n    elements.push({\r\n      group: 'edges',\r\n      data: {\r\n        id: edge.id(),\r\n        source: edge.source().id(), target: edge.target().id(),\r\n        weight: edge.data('weight'),\r\n        style: edge.data('style'),\r\n        /*\r\n        style: {\r\n          lineColor: edge.style('line-color'),\r\n          targetArrowShape: edge.style('target-arrow-shape'),\r\n          targetArrowColor: edge.style('target-arrow-color'),\r\n          lineStyle: edge.style('line-style'),\r\n        }\r\n        */\r\n      }\r\n    })\r\n  });\r\n  //console.log(elements);\r\n  return JSON.parse(JSON.stringify(elements));\r\n}\r\n\r\n\r\nconst processCommands = (elements: Array<Object>, commands:Array<AnimationStep>) => {\r\n  \r\n  const cy = cytoscape({\r\n    elements: JSON.parse(JSON.stringify(elements)),\r\n    headless: true,\r\n  });\r\n\r\n  const steps:Array<{elements:Array<Object>, lines: Array<number>, duration: number, action?: string}>=[];\r\n\r\n  let lastLines:Array<number> = [];\r\n  let action:string|undefined;\r\n  for(let pos = 0; pos < commands.length; pos++){\r\n    let { eles, distance, style, duration, inst, lines, data } = commands[pos];\r\n\r\n    if(duration == null) duration = 1000;\r\n    if(lines == null) lines = lastLines;\r\n\r\n    steps.push({elements: exportGraph(cy), lines: lastLines, duration});\r\n    lastLines = lines;\r\n    if (eles) {\r\n      eles.forEach((ele, index) => {\r\n        let prevStyle = cy.getElementById(ele).data('style');\r\n        if(style) cy.getElementById(ele).data('style', {...prevStyle, ...style[index]});\r\n        if(data) cy.getElementById(ele).data('value', data[index].value);\r\n        if (distance !== undefined){\r\n          cy.getElementById(ele+'-popper').data('style', Styles.NODE_POPPER);\r\n          cy.getElementById(ele+'-popper').data('value', distance[index]);\r\n        }\r\n      });\r\n    }\r\n\r\n    if(inst){\r\n      console.log(inst);\r\n      inst.forEach(ele => {\r\n        if(ele.name === 'update_level'){\r\n          const {data} = ele;\r\n          if(data){\r\n            const id = data.id, value = data.value;\r\n            if(id != null && value != null){\r\n              cy.getElementById(id+'-popper').data('style', Styles.NODE_POPPER);\r\n              cy.getElementById(id+'-popper').data('value', value);\r\n            }\r\n          }\r\n        }else if(ele.name === 'negative_cycle'){\r\n          action = actions.NEGATIVE_CYCLE_FOUND;\r\n        }\r\n      });\r\n    }\r\n  }\r\n  steps.push({elements: exportGraph(cy), lines: lastLines, duration: 0, action});\r\n\r\n  return steps;\r\n}\r\n\r\nexport default processCommands;","const algorithmNames = {\r\n  BFS: 'BFS',\r\n  DFS: 'DFS',\r\n  Dijkstra: 'Dijkstra',\r\n  BellmanFord: 'BellmanFord',\r\n  Kruskal: 'Kruskal',\r\n  Prim: 'Prim',\r\n  MinHeap: 'MinHeap',\r\n  BST: 'BST',\r\n  AVL: 'AVL',\r\n  BubbleSort: 'BubbleSort',\r\n  MergeSort: 'MergeSort',\r\n  BinarySearch: 'BusquedaBinaria',\r\n  SingleLinkedList: 'ListaEnlazada',\r\n  DoubleLinkedList: 'ListaDoblementeEnlazada',\r\n  Queue: 'Cola',\r\n  Stack: 'Pila',\r\n};\r\n\r\nexport default algorithmNames;","import React from 'react';\r\nimport actions from '../Actions/actions';\r\nimport { CytoscapeElement, CytoEvent, AnimationStep } from '../Types/types';\r\nimport MediaRecorder from '../utils/MediaRecorder';\r\nimport MyModal from './UploadGraphModal';\r\nimport InputModal from './InputModal';\r\nimport graphProcessing from '../Processing/graph-processing';\r\nimport algoNames from '../resources/names_and_routes/algorithm_names'\r\nimport { instanceOf } from 'prop-types';\r\nimport { withCookies, Cookies } from 'react-cookie';\r\n\r\nconst Styles = require('../Styles/Styles');\r\nconst cytoscape = require('cytoscape');\r\nconst { connect } = require('react-redux');\r\n\r\n\r\nconst autopanOnDrag = require('cytoscape-autopan-on-drag');\r\nautopanOnDrag(cytoscape);\r\n\r\ntype Props = {\r\n\t\r\n\tdispatch: (action: Object) => Object,\r\n\r\n\tweighted: Boolean,\r\n\tdirected: Boolean,\r\n\r\n\taction: string,\r\n\talgorithm: string,\r\n\texecute: (param: Object) => Array<AnimationStep>,\r\n\r\n\tanimation: Boolean,\r\n\tselection: {\r\n\t\ttype: string,\r\n\t\tid: string,\r\n\t\tweight: string,\r\n\t}\r\n\tspeed: number,\r\n\r\n\tloadingGraph: Boolean,\r\n\tdata: string,\r\n\tpaused: boolean,\r\n\r\n\tcookies: any,\r\n}\r\n\r\ntype Element = {\r\n\tvalue: number,\r\n\tclass: string,\r\n}\r\n\r\ntype storeState = {\r\n\tselection: Object,\r\n\talgorithm: string,\r\n\tanimation: Boolean,\r\n\tspeed: number,\r\n\tloadingGraph: Boolean,\r\n\tdata: string,\r\n\tpaused: boolean,\r\n}\r\n\r\ntype State = {\r\n\tvalues: Array<string>,\r\n\tshowModal: boolean,\r\n\tshowWeightModal: boolean,\r\n}\r\n\r\nconst getNodeIdString = (nodeId: string) => {\r\n\treturn 'node-' + nodeId;\r\n}\r\n\r\nconst mapStateToProps = (state: storeState) => {\r\n\treturn {\r\n\t\tselection: state.selection,\r\n\t\talgorithm: state.algorithm,\r\n\t\tanimation: state.animation,\r\n\t\tspeed: state.speed,\r\n\t\tloadingGraph: state.loadingGraph,\r\n\t\tdata: state.data,\r\n\t\tpaused: state.paused,\r\n\t}\r\n}\r\n\r\nclass Graph extends React.Component<Props, State>{\r\n\r\n\t_isMounted = false;\r\n\r\n\t_mediaRecorder = new MediaRecorder();\r\n\r\n\tstate = {\r\n\t\tvalues: new Array(),\r\n\t\tshowModal: false,\r\n\t\tshowWeightModal: false,\r\n\t}\r\n\r\n\tlayout = {\r\n\t\trun: () => { },\r\n\t\tstop: () => { },\r\n\t};\r\n\r\n\tnodeStyle = Styles.NODE;\r\n\tedgeStyle = Styles.EDGE;\r\n\r\n\tundo: Array<Array<Object>> = [];\r\n\tredo: Array<Array<Object>> = [];\r\n\t\r\n\toptions: Array<{name: string, run: () => void}>;\r\n\tcy = cytoscape();\r\n\r\n\tbuffer: Array<{elements: Array<Object>, lines: Array<number>, duration: number, action?:string}> = [];\r\n\r\n\tstep:number=0;\r\n\tanimationTimeout = 0;\r\n\tconstructor(props: Props) {\r\n\t\tsuper(props);\r\n\t\tif (this.props.weighted) {\r\n\t\t\tthis.edgeStyle = { ...this.edgeStyle, ...Styles.EDGE_WEIGHTED };\r\n\t\t}\r\n\t\tif (this.props.directed) {\r\n\t\t\tthis.edgeStyle = { ...this.edgeStyle, ...Styles.EDGE_DIRECTED };\r\n\t\t}\r\n\r\n\t\tthis._mediaRecorder = new MediaRecorder(props.dispatch);\r\n\t\tthis.options = [\r\n\t\t\t{\r\n\t\t\t\tname: 'Ejecutar',\r\n\t\t\t\trun: this.runButton,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Cambiar peso',\r\n\t\t\t\trun: this.weightButton,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Descargar grafo',\r\n\t\t\t\trun: () => this._mediaRecorder.takeJson(this.exportGraph()),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Subir grafo',\r\n\t\t\t\trun: () => this.setState({showModal: true}),\r\n\t\t\t}\r\n\t\t];\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis._isMounted = true;\r\n\t\tthis.initialize([]);\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: this.props.action,\r\n\t\t\tpayload:{\r\n\t\t\t\trun: this.runButton,\r\n\t\t\t\tphoto: () => this._mediaRecorder.takePicture(this.cy),\r\n\t\t\t\tgif: () => this._mediaRecorder.takeGif(this.cy),\r\n\t\t\t\tundo: this.handleUndo,\r\n\t\t\t\tredo: this.handleRedo,\r\n\t\t\t\toptions: this.options,\r\n\t\t\t\trewind: this.handleRewind,\r\n\t\t\t\tforward: this.handleForward,\r\n\t\t\t\tpause: this.handlePauseContinue,\r\n\t\t\t\trepeat: this.handleRepeat,\r\n\t\t\t\tend: this.handleEnd,\r\n\t\t\t\tremove: this.removeButton,\r\n\t\t\t\tclear: this.clearGraph,\r\n\t\t\t}\r\n\t\t});\r\n\t\tconst {cookies} = this.props;\r\n\t\tconsole.log(cookies.getAll());\r\n\t\tif(this.props.action === actions.SELECT_DIJKSTRA){\r\n\t\t\tif(!cookies.get('dijkstra_warning')){\r\n\t\t\t\tcookies.set('dijkstra_warning', 'true', {path: '/'});\t\t\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.DIJKSTRA_NEGATIVE_WEIGHT_WARNING,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(!cookies.get('visited')){\r\n\t\t\tcookies.set('visited', 'true', {path: '/' });\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.TOGGLE_TUTORIAL_MODAL,\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps:Props){\r\n\t\tif(!prevProps.loadingGraph && this.props.loadingGraph){\r\n\t\t\tconst elements = JSON.parse(this.props.data);\r\n\t\t\tif(elements){\r\n\t\t\t\tthis.pushState();\r\n\t\t\t\tthis.loadGraph(elements);\r\n\t\t\t}\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.FINISHED_LOAD,\r\n\t\t\t});\r\n\t\t}\r\n\t\tif(!prevProps.animation && this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.CHANGE_OPTIONS,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\toptions: [\r\n\t\t\t\t\t\t{ name: 'Volver a edicion', run: this.runButton}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}else if(prevProps.animation && !this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.CHANGE_OPTIONS,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\toptions: this.options,\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentWillUnmount() {\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.ANIMATION_END,\r\n\t\t});\r\n\t\t\r\n\t\tthis._isMounted = false;\r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis._mediaRecorder.cancelGif();\r\n\t\tthis.removePoppers();\r\n\t}\r\n\r\n\r\n\tinitialize(elements: Array<Object>, withPoppers:boolean=false){\r\n\t\tconsole.log(elements);\r\n\t\t\r\n\t\tlet edgeStyle = Styles.EDGE;\r\n\t\tif (this.props.weighted) {\r\n\t\t\tedgeStyle = { ...edgeStyle, ...Styles.EDGE_WEIGHTED };\r\n\t\t}\r\n\t\tif (this.props.directed) {\r\n\t\t\tedgeStyle = { ...edgeStyle, ...Styles.EDGE_DIRECTED };\r\n\t\t}\r\n\r\n\t\tthis.cy = cytoscape({\r\n\r\n\t\t\tcontainer: document.getElementById('canvas'), // container to render in\r\n\r\n\t\t\telements: JSON.parse(JSON.stringify(elements)),\r\n\r\n\t\t\tstyle: [ // the stylesheet for the graph\r\n\t\t\t\t{\r\n\t\t\t\t\tselector: 'node',\r\n\t\t\t\t\tstyle: Styles.NODE,\r\n\t\t\t\t},\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\tselector: 'edge',\r\n\t\t\t\t\tstyle: edgeStyle,\r\n\t\t\t\t}\r\n\t\t\t],\r\n\r\n\t\t\tlayout: {\r\n\t\t\t\tname: 'preset',\r\n\t\t\t},\r\n\t\t\theadless: false,\r\n\t\t\tstyleEnabled: true,\r\n\t\t\thideEdgesOnViewport: false,\r\n\t\t\thideLabelsOnViewport: false,\r\n\t\t\tuserPanningEnabled: false,\r\n\t\t\tzoomingEnabled: false,\r\n\t\t\ttextureOnViewport: false,\r\n\t\t\tmotionBlur: false,\r\n\t\t\tmotionBlurOpacity: 0.2,\r\n\t\t\tpixelRatio: '1.0'\r\n\t\t});\r\n\t\tif(!withPoppers) this.removePoppers();\r\n\t\telse{\r\n\t\t\tthis.cy.nodes().forEach((node:CytoscapeElement) => {\r\n\t\t\t\tif(node.id().match('popper')) node.style({'visibility': 'hidden'});\r\n\t\t\t});\r\n\t\t}\r\n\t\tthis.cy.on('tap', (event: CytoEvent) => this.handleClickViewport(event));\r\n\t\tthis.cy.on('tap', 'node', (event: CytoEvent) => this.handleClickOnNode(event.target));\r\n\t\tthis.cy.on('tap', 'edge', (event: CytoEvent) => this.handleClickOnEdge(event.target));\r\n\t\tthis.cy.autopanOnDrag({ enabled: true, speed: 0.01 });\r\n\t\tthis.layout = this.cy.elements().makeLayout({\r\n\t\t\tname: 'preset',\r\n\t\t});\r\n\t\tthis.layout.run();\r\n\t}\r\n\r\n\thandleUndo = () => {\r\n\t\tconsole.log(this.undo);\r\n\t\tif(this.undo.length === 0){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif(this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.NO_SELECTION,\r\n\t\t});\r\n\r\n\t\tconst currentElements = this.exportGraph();\r\n\t\tlet elements = this.undo.pop();\r\n\t\tconsole.log(elements);\r\n\t\tthis.redo.push(currentElements);\r\n\t\t\r\n\t\tif(elements !== undefined) this.loadGraph(elements);\r\n\t\t\r\n\t}\r\n\r\n\thandleRedo = () => {\r\n\t\tif(this.redo.length === 0){\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif(this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.NO_SELECTION,\r\n\t\t});\r\n\r\n\t\tconst currentElements = this.exportGraph();\r\n\t\tconst elements = this.redo.pop();\r\n\t\tthis.undo.push(currentElements);\r\n\t\tif(elements !== undefined) this.loadGraph(elements);\r\n\t}\r\n\r\n\tpushState(){\r\n\t\tthis.redo = [];\r\n\t\tthis.undo.push(this.exportGraph());\r\n\t}\r\n\r\n\thandleRewind = () => { \r\n\t\tconsole.log(this.animationTimeout);\r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = Math.max(this.step-1, 0);\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandleForward = () => { \r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = Math.min(this.step+1, this.buffer.length-1);\r\n\t\tconsole.log(this.step);\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandleRepeat = () => {\r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = 0;\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandleEnd = () => {\r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = this.buffer.length - 1;\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandlePauseContinue = () => {\r\n\t\tif(!this.props.paused){\r\n\t\t\tclearTimeout(this.animationTimeout);\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_PAUSE,\r\n\t\t\t})\r\n\t\t}else{\r\n\t\t\tnew Promise(resolve => {\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.ANIMATION_CONTINUE\r\n\t\t\t\t})\r\n\t\t\t\tresolve();\r\n\t\t\t}).then(() => this.animation());\r\n\t\t}\r\n\t}\r\n\t\r\n\tloadGraph(elements:Array<Object>, withPoppers:boolean = false){\r\n\t\ttry{\r\n\t\t\tconst nodes = this.cy.nodes();\r\n\t\t\tfor(let i = 0; i < nodes.length; i++){\r\n\t\t\t\tthis.removeNode(nodes[i].id());\r\n\t\t\t}\r\n\t\t\tfor(let i = 0; i < elements.length; i++) this.cy.add(JSON.parse(JSON.stringify(elements[i])));\r\n\t\t\tthis.cy.nodes().forEach((node:CytoscapeElement) => {\r\n\t\t\t\tconst style = node.data('style');\r\n\t\t\t\tif(style != null) node.style(style);\r\n\t\t\t})\r\n\t\t\tthis.cy.edges().forEach((edge:CytoscapeElement) => {\r\n\t\t\t\tconst style = edge.data('style');\r\n\t\t\t\tedge.style(this.edgeStyle);\r\n\t\t\t\tif(style != null) edge.style(style);\r\n\t\t\t})\r\n\t\t}catch(error){\r\n\t\t\tthis.props.dispatch({ type: actions.INVALID_GRAPH_ERROR});\r\n\t\t}\r\n\t}\r\n\r\n\texportGraph(withStyle:boolean=false){\r\n\t\tconst elements:Array<Object> = [];\r\n\t\tthis.cy.nodes().forEach((node:CytoscapeElement) => {\r\n\t\t\telements.push({\r\n\t\t\t\tgroup: 'nodes',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: node.id(),\r\n\t\t\t\t\tvalue: node.data('value'),\r\n\t\t\t\t\tposition: node.position(),\r\n\t\t\t\t\tstyle: (withStyle? {\r\n\t\t\t\t\t\tcolor: node.style('color'),\r\n\t\t\t\t\t\tbackgroundColor: node.style('background-color'),\r\n\t\t\t\t\t\tborderWidth: node.style('border-width'),\r\n\t\t\t\t\t\twidth: node.style('width'),\r\n\t\t\t\t\t\theight: node.style('height'),\r\n\t\t\t\t\t\tvisibility: node.style('visibility'),\r\n\t\t\t\t\t\tzIndex: node.style('z-index'),\r\n\r\n\t\t\t\t\t} : {}),\r\n\t\t\t\t},\r\n\t\t\t\tposition: {\r\n\t\t\t\t\tx: node.position().x,\r\n\t\t\t\t\ty: node.position().y,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t\tthis.cy.edges().forEach((edge:CytoscapeElement) => {\r\n\t\t\telements.push({\r\n\t\t\t\tgroup: 'edges',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: edge.id(),\r\n\t\t\t\t\tsource: edge.source().id(), target: edge.target().id(),\r\n\t\t\t\t\tweight: edge.data('weight'),\r\n\t\t\t\t\tstyle: (withStyle? {\r\n\t\t\t\t\t\tlineColor: edge.style('line-color'),\r\n\t\t\t\t\t\ttargetArrowShape: edge.style('target-arrow-shape'),\r\n\t\t\t\t\t\ttargetArrowColor: edge.style('target-arrow-color'),\r\n\t\t\t\t\t\tlineStyle: edge.style('line-style'),\r\n\t\t\t\t\t\tlabel: edge.style('label'),\r\n\t\t\t\t\t\ttextRotation: edge.style('text-rotation'),\r\n\t\t\t\t\t\ttextMarginY: edge.style('text-margin-y'),\t\r\n\t\t\t\t\t} : {}),\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t\treturn elements;\r\n\t}\r\n\r\n\t\r\n\trefreshLayout() {\r\n\t\tthis.layout.stop();\r\n\t\tthis.layout = this.cy.elements().makeLayout({ name: 'preset' });\r\n\t\tthis.layout.run();\r\n\t}\r\n\r\n\tclearGraph = () => {\r\n\t\tif(this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.CLEAR_GRAPH,\r\n\t\t});\r\n\t\tlet nodes = this.cy.nodes();\r\n\t\tif(nodes.length === 0) return;\r\n\t\tthis.pushState();\r\n\t\tfor (let i = 0; i < nodes.length; i++) {\r\n\t\t\tthis.removeNode(nodes[i].id());\r\n\t\t}\r\n\t}\r\n\r\n\tremoveNodePopper(node: string) {\r\n\t\tthis.cy.remove('node[id=\"' + node + '-popper\"]');\r\n\r\n\t}\r\n\r\n\tremoveNode = (node: string) => {\r\n\t\tthis.cy.remove('node[id=\"' + node + '\"]');\r\n\t\tthis.removeNodePopper(node);\r\n\t}\r\n\r\n\tremoveEdge = (edge: string) => {\r\n\t\tthis.cy.remove('edge[id=\"' + edge + '\"]');\r\n\t}\r\n\r\n\tanimation(){\r\n\t\tlet step = () => {\r\n\t\t\tif(!this._isMounted) return;\r\n\t\t\tif(this.step === this.buffer.length){\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.FINISHED_ALGORITHM_SUCCESS,\r\n\t\t\t\t});\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.ANIMATION_PAUSE,\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!this.props.animation) {\r\n\t\t\t\tthis.cy.nodes().style(this.nodeStyle);\r\n\t\t\t\tthis.cy.edges().style(this.edgeStyle);\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.ANIMATION_END,\r\n\t\t\t\t});\r\n\t\t\t\tthis.cy.autolock(false);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(this.props.paused) return;\r\n\t\t\tconst {elements, lines, duration, action} = this.buffer[this.step++];\r\n\t\t\tif(action){\r\n\t\t\t\tthis.props.dispatch({ type: action });\r\n\t\t\t}\r\n\t\t\tthis.loadGraph(elements, true);\r\n\t\t\tif(lines) this.props.dispatch({type: actions.CHANGE_LINE, payload: { lines }});\r\n\t\t\tthis.refreshLayout();\r\n\t\t\tthis.animationTimeout = window.setTimeout(step, ((duration === undefined) ? 1000 : duration)/(this.props.speed));\r\n\t\t}\r\n\t\tstep();\r\n\t}\r\n\texecuteAnimation = (commands:Array<AnimationStep>) => {\r\n\t\tthis.cy.nodes().style({\r\n\t\t\t'background-color': 'white',\r\n\t\t\t'color': 'black',\r\n\t\t});\r\n\t\tthis.buffer = graphProcessing(this.exportGraph(true), commands);\r\n\t\tlet notification;\r\n\t\tif(this.props.algorithm === algoNames.BFS) notification = actions.STARTING_BFS_INFO;\r\n\t\telse if(this.props.algorithm === algoNames.DFS) notification = actions.STARTING_DFS_INFO;\r\n\t\telse if(this.props.algorithm === algoNames.Dijkstra) notification = actions.STARTING_DIJKSTRA_INFO;\r\n\t\telse if(this.props.algorithm === algoNames.BellmanFord) notification = actions.STARTING_BELLMAN_FORD_INFO;\r\n\t\telse if(this.props.algorithm === algoNames.Kruskal) notification = actions.STARTING_KRUSKAL_INFO;\r\n\t\telse if(this.props.algorithm === algoNames.Prim) notification = actions.STARTING_PRIM_INFO;\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: notification,\r\n\t\t});\r\n\t\tthis.step = 0;\r\n\t\tthis.animation();\r\n\t}\r\n\r\n\trunButton = () => {\r\n\t\tif (this.props.animation === true) {\r\n\t\t\t//this.setState({values: Array()});\r\n\t\t\tnew Promise((resolve) => {\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.ANIMATION_END,\r\n\t\t\t\t});\r\n\t\t\t\tthis.cy.autolock(false);\r\n\t\t\t\tclearTimeout(this.animationTimeout);\r\n\t\t\t\tresolve();\r\n\t\t\t}).then(() => {this.handleUndo(); this.redo.pop()});\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.pushState();\r\n\t\tlet { selection } = this.props;\r\n\t\tif (this.props.algorithm !== algoNames.Kruskal && this.props.algorithm !== algoNames.Prim) {\r\n\t\t\tconsole.log(this.props.algorithm);\r\n\t\t\tif (!selection || selection.type !== 'node') {\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.NO_NODE_SELECTED_ERROR,\r\n\t\t\t\t})\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst nodes = this.cy.nodes();\r\n\t\tnodes.forEach((node:CytoscapeElement) => {\r\n\t\t\tthis.createPopper(node.id());\r\n\t\t});\r\n\t\tthis.refreshLayout();\r\n\t\tlet animationPromise = new Promise((resolve: (commands:Array<AnimationStep>) => void, reject) => {\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_START,\r\n\t\t\t});\r\n\t\t\tlet commands = this.props.execute({ cy: this.cy, selection: this.props.selection });\r\n\t\t\tresolve(commands);\r\n\t\t});\r\n\r\n\t\tanimationPromise.then((commands:Array<AnimationStep>) => {\r\n\t\t\tthis.cy.autolock(true);\r\n\r\n\t\t\tthis.executeAnimation(commands);\r\n\t\t});\r\n\t}\r\n\r\n\tremoveButton = () => {\r\n\t\tif(this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet { selection } = this.props;\r\n\t\tif (!selection) {\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.NO_ELEMENT_SELECTED_ERROR,\r\n\t\t\t})\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.pushState();\r\n\t\tif (selection.type === 'node') {\r\n\t\t\tthis.removeNode(selection.id);\r\n\t\t} else if (selection.type === 'edge') {\r\n\t\t\tthis.removeEdge(selection.id);\r\n\t\t}\r\n\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.NO_SELECTION,\r\n\t\t});\r\n\r\n\t}\r\n\thandleClickOnNode = (node: CytoscapeElement) => {\r\n\t\tif (this.props.animation === true) return;\r\n\t\tlet nodeId = node.id();\r\n\t\tlet { selection } = this.props;\r\n\r\n\t\tif (!selection || selection.type !== 'node') {\r\n\t\t\tnode.style(Styles.NODE_SELECTED);\r\n\r\n\t\t\tif (selection && selection.type === 'edge') {\r\n\t\t\t\tlet edge = this.cy.getElementById(selection.id);\r\n\t\t\t\tedge.style(this.edgeStyle);\r\n\t\t\t}\r\n\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.SELECTION,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\tselection: {\r\n\t\t\t\t\t\tid: nodeId, type: 'node'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (selection.type === 'node') {\r\n\t\t\tlet prevNode = selection.id;\r\n\t\t\tif (prevNode === nodeId) {\r\n\t\t\t\tnode.style(Styles.NODE);\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.NO_SELECTION,\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tlet previous = this.cy.getElementById(prevNode);\r\n\t\t\t\tif (prevNode) {\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\t(this.props.directed && !previous.outgoers().contains(node)) ||\r\n\t\t\t\t\t\t(!this.props.directed && !previous.neighborhood().contains(node))) {\r\n\t\t\t\t\t\tthis.createEdge(prevNode, nodeId);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\t\ttype: actions.NO_SELECTION,\r\n\t\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\t\tselection: null,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tprevious.style(Styles.NODE);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\thandleClickOnEdge = (edge: CytoscapeElement) => {\r\n\t\tif (this.props.animation === true) return;\r\n\t\tlet edgeId = edge.id();\r\n\r\n\t\tlet { selection } = this.props;\r\n\r\n\t\tlet prevId = null;\r\n\t\tif (selection) {\r\n\t\t\tprevId = selection.id;\r\n\t\t\tlet previous = this.cy.getElementById(prevId);\r\n\t\t\tif (selection.type === 'edge') {\r\n\t\t\t\tprevious.style(this.edgeStyle);\r\n\t\t\t} else if (selection.type === 'node') {\r\n\t\t\t\tprevious.style(this.nodeStyle);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (prevId === edgeId) {\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.NO_SELECTION,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\tselection: null,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tlet previous = this.cy.getElementById(prevId);\r\n\t\t\tprevious.style(this.edgeStyle);\r\n\t\t} else {\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.SELECTION,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\tselection: {\r\n\t\t\t\t\t\ttype: 'edge',\r\n\t\t\t\t\t\tid: edgeId,\r\n\t\t\t\t\t\tweight: this.cy.getElementById(edgeId).data('weight'),\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tedge.style(Styles.EDGE_SELECTED);\r\n\t\t}\r\n\t}\r\n\r\n\tcreateNode(x: string, y: string) {\r\n\t\tlet id = 1;\r\n\t\twhile (this.cy.getElementById(getNodeIdString(id.toString())).length > 0) {\r\n\t\t\tid++;\r\n\t\t}\r\n\t\tlet nodeId = getNodeIdString(id.toString());\r\n\t\tthis.pushState();\r\n\t\tthis.cy.add({\r\n\t\t\tgroup: 'nodes',\r\n\t\t\tdata: { id: nodeId, value: id },\r\n\t\t\tposition: { x, y }\r\n\t\t});\r\n\t}\r\n\r\n\tcreatePopper(nodeId: string){\r\n\t\tconst ele = this.cy.getElementById(nodeId);\r\n\t\tconst position = ele.position();\r\n\t\tthis.cy.add({\r\n\t\t\tgroup: 'nodes',\r\n\t\t\tdata: {id : nodeId+'-popper'},\r\n\t\t\tposition: {\r\n\t\t\t\tx: position.x,\r\n\t\t\t\ty: position.y+32,\r\n\t\t\t},\r\n\t\t\tstyle: {\r\n\t\t\t\t'z-index': 0,\r\n\t\t\t\t'border-width': 0,\r\n\t\t\t\t'font-size': 15,\r\n\t\t\t\t'width': 10,\r\n\t\t\t\t'height': 10,\r\n\t\t\t\t'visibility': 'hidden',\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tremovePoppers(){\r\n\t\t\r\n\t\tconst nodes = this.cy.nodes();\r\n\t\tnodes.forEach((node:CytoscapeElement) => {\r\n\t\t\tthis.removeNode(node.id()+'-popper');\r\n\t\t})\r\n\t\t\r\n\t}\r\n\r\n\tcreateEdge(x: string, y: string) {\r\n\t\tthis.pushState();\r\n\t\tthis.cy.add({\r\n\t\t\tgroup: 'edges',\r\n\t\t\tdata: {\r\n\t\t\t\tid: x + '-' + y,\r\n\t\t\t\tweight: Math.floor(Math.random() * 15) - (this.props.algorithm === 'BellmanFord' ? 7 : 0),\r\n\t\t\t\tsource: x,\r\n\t\t\t\ttarget: y,\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tchangeWeight = (weight: number) => {\r\n\t\tconst { selection } = this.props;\r\n\t\tif (selection.type === 'edge') {\r\n\t\t\tconst { id } = selection;\r\n\t\t\tif(this.cy.getElementById(id).data('weight') === weight) return;\r\n\t\t\tthis.pushState();\r\n\t\t\tthis.cy.getElementById(id).data('weight', weight);\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.SELECTION,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\tselection: {\r\n\t\t\t\t\t\ttype: 'edge',\r\n\t\t\t\t\t\tweight,\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tweightButton = () => {\r\n\t\tconst {selection} = this.props;\r\n\t\tif(selection && selection.type === 'edge'){\r\n\t\t\tthis.setState({showWeightModal: true});\r\n\t\t}else{\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.NO_EDGE_SELECTED_ERROR,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\thandleClickViewport = (event: CytoEvent) => {\r\n\t\tif (this.props.animation === true){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t})\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet { selection } = this.props;\r\n\t\tif (event.target === this.cy) {\r\n\t\t\tif (selection) {\r\n\t\t\t\tlet previous = this.cy.getElementById(selection.id);\r\n\t\t\t\tif (selection.type === 'node') {\r\n\t\t\t\t\tprevious.style(Styles.NODE);\r\n\t\t\t\t} else if (selection.type === 'edge') {\r\n\t\t\t\t\tprevious.style(this.edgeStyle);\r\n\t\t\t\t}\r\n\t\t\t\tthis.props.dispatch({ type: actions.NO_SELECTION });\r\n\t\t\t} else {\r\n\t\t\t\tlet { x, y } = event.position;\r\n\t\t\t\tthis.createNode(x, y);\r\n\t\t\t\tthis.refreshLayout();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet edgeWeight = null;\r\n\t\tlet { selection } = this.props;\r\n\t\tif (selection && selection.type === 'edge') {\r\n\t\t\tconst id = selection.id;\r\n\t\t\tedgeWeight = this.cy.getElementById(id).data('weight');\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<MyModal show={this.state.showModal} handleClose={() => this.setState({showModal: false})}/>\r\n\t\t\t\t<InputModal \r\n\t\t\t\t\tshow={this.state.showWeightModal} \r\n\t\t\t\t\thandleClose = {() => this.setState({showWeightModal: false})}\r\n\t\t\t\t\tcallback = {(w:number) => this.changeWeight(w)}\r\n\t\t\t\t/>\r\n\t\t\t\t<div id = \"canvas\" className=\"standard-struct\"/>\r\n\t\t\t\t{\r\n\t\t\t\t\t/*\r\n\t\t\t\t<GraphArray array={this.state.values}/>\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t<ControlBar\r\n\t\t\t\t\t\trun={this.runButton}\r\n\t\t\t\t\t\tremove={this.removeButton}\r\n\t\t\t\t\t\tclearGraph={this.clearGraph}\r\n\t\t\t\t\t\tchangeWeight={this.changeWeight}\r\n\t\t\t\t\t\tweighted={this.props.weighted}\r\n\t\t\t\t\t\tedgeWeight={edgeWeight}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<button onClick={() => this._mediaRecorder.takePicture(this.cy)}>Test picture</button>\r\n\t\t\t\t\t<button onClick={() => this._mediaRecorder.takeGif(this.cy)}>Test gif</button>\r\n\t\t\t\t\t*/\r\n\t\t\t\t}\r\n\t\t\t</>\r\n\t\t)\r\n\t}\r\n};\r\n\r\nexport default withCookies(connect(mapStateToProps)(Graph));","import React, { ReactElement } from 'react';\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport { Button, FormControl } from 'react-bootstrap';\r\nimport { validateHeap } from '../utils/heap-utils';\r\nimport actions from '../Actions/actions';\r\n\r\nconst { connect } = require('react-redux');\r\ntype Props = {\r\n  show: boolean,\r\n  changeArray: (values: Array<number>) => void;\r\n  handleClose: () => void,\r\n  dispatch: (action:Object)=>void,\r\n\r\n}\r\ntype State = {\r\n  text: string,\r\n}\r\nclass InputHeapModal extends React.Component<Props, State>{\r\n  input:HTMLInputElement | null;\r\n  setStepInputRef:(element:HTMLInputElement)=>void;\r\n\r\n  constructor(props:Props){\r\n    super(props);\r\n    this.input = null;\r\n    this.setStepInputRef = element => {\r\n      this.input = element;\r\n    };\r\n  }\r\n\r\n  uploadGraph = () => {\r\n    const input = (document.getElementById('HeapUploadInput') as HTMLInputElement);\r\n    if(input.files){\r\n      const file = input.files[0];\r\n      const reader = new FileReader();\r\n      reader.onload = () => {\r\n        console.log(reader.result);\r\n        if(typeof reader.result === 'string'){\r\n          const text = reader.result;\r\n          this.validateArray(text);\r\n        }\r\n      }\r\n      reader.readAsText(file);\r\n    }\r\n  }\r\n\r\n  validateArray(text: string) {\r\n    let regex = /^(([-]?([0-9]{1,3})[,]){0,15})([-]?([0-9]{1,3}))$/;\r\n    console.log(text);\r\n    if (text && regex.test(text)) {\r\n      const values = text.split(',').map(x => parseInt(x));\r\n      console.log(values);\r\n      if(validateHeap(values)){\r\n        this.props.changeArray(values);\r\n        this.props.handleClose();\r\n      }else{\r\n        this.props.dispatch({\r\n          type: actions.INVALID_HEAP_ERROR,\r\n        });\r\n      }\r\n    } else {\r\n      this.props.dispatch({\r\n        type: actions.INVALID_HEAP_ERROR,\r\n      });\r\n      return false;\r\n    }\r\n  }\r\n\r\n  handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    this.setState({text: e.currentTarget.value});\r\n  }\r\n\r\n  handleCancel = () => {\r\n    this.props.handleClose();\r\n  }\r\n  render(){\r\n    const {show, handleClose} = this.props;\r\n    return (\r\n      <Modal show={show} onHide={handleClose}>\r\n        <Modal.Header className='modal-header' closeButton>\r\n          <Modal.Title>Seleccione un archivo</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <p>El archivo debe contener un Heap valido, previamente descargado</p>\r\n          <input type=\"file\" id=\"HeapUploadInput\"/>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={this.handleCancel}>\r\n            Cancelar\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={this.uploadGraph}>\r\n            Aceptar\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect()(InputHeapModal);","export function validateHeap(values){\r\n  const n = values.length;\r\n  console.log('VALIDANDO', values);\r\n  for(let i = 1; 2*i < n; i++){\r\n    const left = values[2*i], right = ((2*i + 1) === n ? Infinity : values[2*i+1]);\r\n    console.log(values[i], left, right);\r\n    if(left < values[i] || right < values[i]) return false;\r\n  }\r\n  return true;\r\n}\r\n\r\nexport function parseHeap(values){\r\n  const output = values.toString();\r\n  let link = document.createElement('a');\r\n  link.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(output));\r\n  link.setAttribute('download', 'avl.txt');\r\n  link.setAttribute('target', '_blank');\r\n  link.style.display = 'none';\r\n  document.body.appendChild(link);\r\n  link.click();\r\n  document.body.removeChild(link);\r\n}","export const remove = [\r\n  {text: 'extraer_minimo(Arreglo A de longitud n)', ind: 0},\r\n  {text: 'intercambiar(A[1], A[n])', ind: 1},\r\n  {text: 'n--', ind: 1},\r\n  {text: 'hundir(1)', ind: 1},\r\n  {text: '\\u2063', ind: 0},\r\n  {text: 'hundir(Entero i): ', ind: 0},\r\n  {text: 'Si no es_hoja(i):', ind: 1},\r\n  {text: 'Si A[2*i] < A[2*i+1]:', ind: 2},\r\n  {text: 'h = 2*i', ind: 3},\r\n  {text: 'Sino: ', ind : 2},\r\n  {text: 'h = 2*i+1', ind: 3},\r\n  {text: 'Si A[i] > A[h]:', ind: 2},\r\n  {text: 'hundir(h)', ind: 3},\r\n]\r\n\r\nexport const insert = [\r\n\r\n  {text: 'insertar(Arreglo A de longitud n, Entero v):', ind: 0},\r\n  {text: 'A[n++] = v', ind: 1},\r\n  {text: 'flotar(n)', ind: 1},\r\n  {text: '\\u2063', ind: 0},\r\n  {text: 'flotar(entero i):', ind: 0},\r\n  {text: 'Si i/2 > 0 y A[i/2] > A[i]:', ind: 1},\r\n  {text: 'intercambiar(A[i/2], A[i])', ind: 2},\r\n  {text: 'flotar(i/2)', ind: 2},\r\n];\r\n\r\nexport const heap = [\r\n  { text: 'MinHeap{', ind: 0},\r\n  { text: 'Arreglo A', ind: 1},\r\n  { text: 'insertar(entero v)', ind: 1},\r\n  { text: 'extraer_minimo()', ind: 1},\r\n  { text: 'flotar(entero i)', ind: 1},\r\n  { text: 'hundir(entero i)', ind: 1},\r\n  { text: '}', ind: 0},\r\n];\r\n","const Styles = require('../../Styles/Styles')\r\nclass PriorityQueue {\r\n\t_data = [0];\r\n\t_comp = null;\r\n\t_eq = null\r\n\r\n\tconstructor(_comp = (x, y) => x >= y, _eq = (x, y) => x === y) {\r\n\t\tthis._comp = _comp;\r\n\t\tthis._eq = _eq;\r\n\t}\r\n\r\n\tisEmpty() {\r\n\t\treturn this._data.length === 1;\r\n\t}\r\n\r\n\tlength() {\r\n\t\treturn this._data.length;\r\n\t}\r\n\t\r\n\ttop() {\r\n\t\tif (this.isEmpty()) return null;\r\n\t\treturn this._data[1];\r\n\t}\r\n\r\n\tpush(ele, animation = false) {\r\n\t\tconst commands = [];\r\n\t\tthis._data.push(ele);\r\n\t\tlet pos = this._data.length - 1;\r\n\t\tif (animation) {\r\n\t\t\tcommands.push({\r\n\t\t\t\teles: [pos.toString()],\r\n\t\t\t\tstyle: [Styles.NODE_BLACK],\r\n\t\t\t\tclasses: ['heap-focus'],\r\n\t\t\t\tlines: [4],\r\n\t\t\t});\r\n\t\t}\r\n\t\twhile (pos > 1) {\r\n\t\t\tlet parent = Math.floor(pos / 2);\r\n\t\t\tif (this._comp(this._data[parent], this._data[pos]) || this._eq(this._data[parent], this._data[pos])) {\r\n\t\t\t\tif (animation) {\r\n\t\t\t\t\tcommands.push(\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\teles: [parent.toString()],\r\n\t\t\t\t\t\t\tstyle: [Styles.NODE_CORRECT],\r\n\t\t\t\t\t\t\tclasses: ['heap-correct'],\r\n\t\t\t\t\t\t\tlines: [-1],\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif (animation) {\r\n\t\t\t\tcommands.push(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\teles: [parent.toString()],\r\n\t\t\t\t\t\tstyle: [Styles.NODE_WRONG],\r\n\t\t\t\t\t\tclasses: ['heap-wrong'],\r\n\t\t\t\t\t\tlines: [5,6,7],\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\teles: [parent.toString(), pos.toString()],\r\n\t\t\t\t\t\tstyle:\r\n\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\tStyles.NODE_BLACK,\r\n\t\t\t\t\t\t\t\tStyles.NODE,\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\tdata:\r\n\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t{ 'value': this._data[pos] },\r\n\t\t\t\t\t\t\t\t{ 'value': this._data[parent] }\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\tclasses:\r\n\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t'heap-focus',\r\n\t\t\t\t\t\t\t\t'heap-default',\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\tlines: [4],\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\t[this._data[parent], this._data[pos]] = [this._data[pos], this._data[parent]];\r\n\t\t\tpos = parent;\r\n\t\t}\r\n\t\treturn commands;\r\n\t}\r\n\r\n\tpop(animation = false) {\r\n\t\tconst commands = [];\r\n\t\tif (!this.isEmpty()) {\r\n\t\t\tlet x = this._data[this._data.length - 1];\r\n\t\t\tthis._data.pop();\r\n\t\t\tif (this.isEmpty()) return commands;\r\n\t\t\tlet pos = 1;\r\n\t\t\tthis._data[1] = x;\r\n\r\n\t\t\tif (animation) {\r\n\t\t\t\tcommands.push({\r\n\t\t\t\t\teles: [pos.toString()],\r\n\t\t\t\t\tstyle: [Styles.NODE_BLACK],\r\n\t\t\t\t\tclasses: ['heap-focus'],\r\n\t\t\t\t\tlines: [5],\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\twhile (2 * pos < this._data.length) {\r\n\t\t\t\t\r\n\t\t\t\tlet l = this._data[2 * pos],\r\n\t\t\t\t\tr = (2 * pos + 1 < this._data.length ? this._data[2 * pos + 1] : null);\r\n\t\t\t\tx = this._data[pos];\r\n\t\t\t\tif (r == null) {\r\n\t\t\t\t\tif (this._comp(l, x)) {\r\n\t\t\t\t\t\tif (animation) {\r\n\t\t\t\t\t\t\tcommands.push(\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\teles: [(2 * pos).toString()],\r\n\t\t\t\t\t\t\t\t\tstyle: [Styles.NODE_WRONG],\r\n\t\t\t\t\t\t\t\t\tclasses: ['heap-wrong'],\r\n\t\t\t\t\t\t\t\t\tlines: [7, 8],\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\teles: [pos.toString(), (2 * pos).toString()],\r\n\t\t\t\t\t\t\t\t\tstyle: [\r\n\t\t\t\t\t\t\t\t\t\tStyles.NODE,\r\n\t\t\t\t\t\t\t\t\t\tStyles.NODE_BLACK,\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tdata: [\r\n\t\t\t\t\t\t\t\t\t\t{ 'value': this._data[2 * pos] },\r\n\t\t\t\t\t\t\t\t\t\t{ 'value': this._data[pos] }\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tclasses: [\r\n\t\t\t\t\t\t\t\t\t\t'heap-default',\r\n\t\t\t\t\t\t\t\t\t\t'heap-focus',\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tlines: [11,12],\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t[this._data[2 * pos], this._data[pos]] = [this._data[pos], this._data[2 * pos]];\r\n\t\t\t\t\t\tpos = 2 * pos;\r\n\t\t\t\t\t} else break;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif ((this._comp(l, r) || this._eq(l, r)) && this._comp(l, x)) {\r\n\t\t\t\t\t\tif (animation) {\r\n\t\t\t\t\t\t\tcommands.push(\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\teles: [(2 * pos).toString()],\r\n\t\t\t\t\t\t\t\t\tstyle: [Styles.NODE_WRONG],\r\n\t\t\t\t\t\t\t\t\tclasses: ['heap-wrong'],\r\n\t\t\t\t\t\t\t\t\tlines: [7, 8],\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\teles: [pos.toString(), (2 * pos).toString()],\r\n\t\t\t\t\t\t\t\t\tstyle: [\r\n\t\t\t\t\t\t\t\t\t\tStyles.NODE,\r\n\t\t\t\t\t\t\t\t\t\tStyles.NODE_BLACK,\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tdata: [\r\n\t\t\t\t\t\t\t\t\t\t{ 'value': this._data[2 * pos] },\r\n\t\t\t\t\t\t\t\t\t\t{ 'value': this._data[pos] }\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tclasses: [\r\n\t\t\t\t\t\t\t\t\t\t'heap-default',\r\n\t\t\t\t\t\t\t\t\t\t'heap-focus',\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tlines: [11, 12],\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t[this._data[2 * pos], this._data[pos]] = [this._data[pos], this._data[2 * pos]];\r\n\t\t\t\t\t\tpos = 2 * pos;\r\n\t\t\t\t\t} else if ((this._comp(r, l) || this._eq(r, l)) && this._comp(r, x)) {\r\n\t\t\t\t\t\tif (animation) {\r\n\t\t\t\t\t\t\tcommands.push(\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\teles: [(2 * pos + 1).toString()],\r\n\t\t\t\t\t\t\t\t\tstyle: [Styles.NODE_WRONG],\r\n\t\t\t\t\t\t\t\t\tclasses: ['heap-wrong'],\r\n\t\t\t\t\t\t\t\t\tlines: [9, 10],\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\teles: [pos.toString(), (2 * pos + 1).toString()],\r\n\t\t\t\t\t\t\t\t\tstyle: [\r\n\t\t\t\t\t\t\t\t\t\tStyles.NODE,\r\n\t\t\t\t\t\t\t\t\t\tStyles.NODE_BLACK,\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tdata: [\r\n\t\t\t\t\t\t\t\t\t\t{ 'value': this._data[2 * pos + 1] },\r\n\t\t\t\t\t\t\t\t\t\t{ 'value': this._data[pos] }\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tclasses: [\r\n\t\t\t\t\t\t\t\t\t\t'heap-default',\r\n\t\t\t\t\t\t\t\t\t\t'heap-focus',\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tlines: [11,12],\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t[this._data[2 * pos + 1], this._data[pos]] = [this._data[pos], this._data[2 * pos + 1]];\r\n\t\t\t\t\t\tpos = 2 * pos + 1;\r\n\t\t\t\t\t} else break;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn commands;\r\n\t}\r\n\r\n\tclear(){\r\n\t\twhile(!this.isEmpty()) this.pop();\r\n\t}\r\n}\r\n\r\nexport default PriorityQueue;","import { CytoscapeElement, CytoEvent, AnimationStep } from '../Types/types';\r\nimport PriorityQueue from '../Algorithms/DS/PriorityQueue'\r\nconst Styles = require('../Styles/Styles');\r\nconst cytoscape = require('cytoscape');\r\nconst { connect } = require('react-redux');\r\n\r\nclass HeapProcessor{\r\n\theap = new PriorityQueue((x, y) => x < y, (x, y) => x === y);\r\n  cy = cytoscape();\r\n  vh:number;\r\n  vw:number;\r\n  constructor(vw: number, vh: number){\r\n    this.vh = vh; this.vw = vw; \r\n  }\r\n\r\n  loadGraph(elements:Array<Object>=[]){\r\n    this.cy = cytoscape({\r\n      elements: JSON.parse(JSON.stringify(elements)),\r\n    });\r\n\r\n    this.heap._data = [0];\r\n    this.cy.nodes().forEach((node:CytoscapeElement) => {\r\n      if(!node.id().match('popper')){\r\n        this.heap._data[parseInt(node.id())] = node.data('value');\r\n        node.data('style', Styles.NODE);\r\n      }else{\r\n        node.data('style', Styles.NODE_POPPER);\r\n      }\r\n    });\r\n    console.log(this.heap._data);\r\n  }\r\n  \r\n\texportGraph = () => {\r\n    const elements:Array<Object> = [];\r\n    this.layoutProcessing();\r\n    this.cy.nodes().forEach((node:CytoscapeElement) => {\r\n      let prev = node.data('prevPosition');\r\n      if(!prev) prev = node.data('position');\r\n      elements.push({\r\n        group: 'nodes',\r\n        data: {\r\n          id: node.id(),\r\n          value: node.data('value'),\r\n          style: node.data('style'),\r\n          position: node.data('position'),\r\n        },\r\n        position: prev,\r\n      })\r\n    });\r\n    this.cy.edges().forEach((edge:CytoscapeElement) => {\r\n      elements.push({\r\n        group: 'edges',\r\n        data: {\r\n          id: edge.id(),\r\n          source: edge.source().id(), target: edge.target().id(),\r\n          weight: edge.data('weight'),\r\n          style: edge.data('style'),\r\n          /*\r\n          style: {\r\n            lineColor: edge.style('line-color'),\r\n            targetArrowShape: edge.style('target-arrow-shape'),\r\n            targetArrowColor: edge.style('target-arrow-color'),\r\n            lineStyle: edge.style('line-style'),\r\n          }\r\n          */\r\n        }\r\n      })\r\n    });\r\n    //console.log(elements);\r\n    return JSON.parse(JSON.stringify(elements));\r\n  }\r\n  \r\n  createPopper(nodeId: string, value: number){\r\n\t\tconst ele = this.cy.getElementById(nodeId);\r\n\t\tconst position = ele.data('position');\r\n\t\tthis.cy.add({\r\n\t\t\tgroup: 'nodes',\r\n\t\t\tdata: {\r\n        id : nodeId+'-popper', \r\n        value,\r\n        style: Styles.NODE_POPPER,\r\n        position: {\r\n          x: position.x,\r\n          y: position.y+30,\r\n        },\r\n      },\r\n\t\t\tposition: {\r\n\t\t\t\tx: position.x,\r\n\t\t\t\ty: position.y+30,\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\taddNode(node: string, value: number, position: {x: number, y: number} = {x: 0, y: 0}){\r\n\t\tthis.cy.add(\r\n\t\t\t{\r\n\t\t\t\tgroup: 'nodes',\r\n\t\t\t\tdata: { \r\n          id: node.toString(), \r\n          value, \r\n          position: {x:position.x, y: position.y}\r\n        },\r\n        position: {x:position.x, y: position.y},\r\n      },\r\n\t\t)\r\n\t\tthis.createPopper(node, parseInt(node));\r\n  }\r\n  \r\n  layoutProcessing() {\r\n    if(this.heap._data.length === 0) return;\r\n\t\tconst getHeight = (node: CytoscapeElement) => {\r\n\t\t\tlet outgoers = node.outgoers('node');\r\n\t\t\tlet height = 0;\r\n\t\t\tfor (let i = 0; i < outgoers.length; i++) {\r\n\t\t\t\theight = Math.max(height, getHeight(outgoers[i]));\r\n\t\t\t}\r\n\t\t\treturn height + 1;\r\n\t\t}\r\n\t\tlet height = getHeight(this.cy.getElementById(\"1\"));\r\n\r\n\t\tlet sep = (1 << height) * 5;\r\n\r\n\t\tconst setSep = (node: CytoscapeElement, nx: number, ny: number, sep: number) => {\r\n      const prevPosition = node.data('position');\r\n      node.data('prevPosition', prevPosition);\r\n      node.data('position', { x: nx, y: ny });\r\n      const popper = this.cy.getElementById(node.id() + '-popper');\r\n      const prevPopPosition = popper.data('position');\r\n      popper.data('prevPosition', prevPopPosition);\r\n\t\t\tpopper.data('position', { x: nx, y: ny + 32 });\r\n\t\t\tif (node.outgoers('node').length) setSep(node.outgoers('node')[0], nx - sep, ny + 50, sep / 2);\r\n\t\t\tif (node.outgoers('node').length === 2) setSep(node.outgoers('node')[1], nx + sep, ny + 50, sep / 2);\r\n\t\t}\r\n\t\tsetSep(this.cy.getElementById(\"1\"), this.vw / 2, this.vh / 4, sep);\r\n\t\treturn true;\r\n  }\r\n  \r\n\tprocessCommands(commands: Array<AnimationStep>){\r\n\t\tthis.cy.nodes().forEach((node: CytoscapeElement) => {\r\n\t\t\tif(!node.id().match('-popper')){\r\n\t\t\t\tnode.style({\r\n\t\t\t\t\t'background-color': 'white',\r\n\t\t\t\t\t'color': 'black',\r\n\t\t\t\t})\r\n\t\t\t}\r\n    })\r\n    let steps:Array<{elements:Array<Object>, lines: Array<number>, duration: number}>=[];\r\n    let lastLines:Array<number> = [];\r\n    let lastDuration = 0;\r\n    for(let pos = 0; pos < commands.length; pos++){\r\n      let { eles, style, duration, data, classes, lines} = commands[pos];\r\n      if(duration == null) duration = 1000;\r\n      if(lines == null) lines = lastLines;\r\n\r\n      steps.push({elements: this.exportGraph(), lines: lastLines, duration: lastDuration});\r\n      lastLines = lines;\r\n      lastDuration = duration;\r\n      if (eles) {\r\n        eles.forEach((ele, index) => {\r\n          if(style){\r\n            const node = this.cy.getElementById(ele);\r\n            node.data('style', style[index]);\r\n          }\r\n          if(data != null){\r\n            this.cy.getElementById(ele).data(data[index]);\r\n          }\r\n        });\r\n      }\r\n    }\r\n    steps.push({elements: this.exportGraph(), lines: lastLines, duration: 1000});\r\n    return steps;\r\n  }\r\n\r\n\tinsert(val = 0) {\r\n    let steps:Array<{elements:Array<Object>, lines: Array<number>, duration: number}>=[];\r\n\r\n\t\tif (this.heap.length()-1 === 0) {\r\n      this.addNode(\"1\", val);\r\n      steps.push({\r\n        elements: this.exportGraph(),\r\n        duration: 1000,\r\n        lines: [1,2,3,4]\r\n      });\r\n      const commands = this.heap.push(val, true);\r\n      steps = steps.concat(this.processCommands(commands));\r\n\t\t} else {\r\n\t\t\tlet nodeId = this.heap.length();\r\n\t\t\tconsole.log(nodeId);\r\n\t\t\tlet src = this.cy.getElementById(Math.floor(nodeId / 2).toString());\r\n\t\t\tthis.addNode(nodeId.toString(), val, src.data('position'));\r\n\t\t\tthis.cy.add(\r\n\t\t\t\t{\r\n\t\t\t\t\tgroup: 'edges',\r\n\t\t\t\t\tdata: { id: src.id() + '-' + nodeId.toString(), source: src.id(), target: nodeId.toString() }\r\n\t\t\t\t}\r\n      )\r\n      steps.push({\r\n        elements: this.exportGraph(),\r\n        duration: 1000,\r\n        lines: [1,2,3,4]\r\n      });\r\n      const commands = this.heap.push(val, true);\r\n      steps = steps.concat(this.processCommands(commands));\r\n\t\t}\r\n\r\n    this.cy.nodes().forEach((node:CytoscapeElement) => {\r\n      if(!node.id().match('popper')){\r\n        node.data('style', Styles.NODE);\r\n      }\r\n    });\r\n    steps.push({elements: this.exportGraph(), lines: [], duration: 0});\r\n    return steps;\r\n\t}\r\n\r\n  removeNode = (node: string) => {\r\n\t\tthis.cy.remove('node[id=\"' + node + '\"]');\r\n\t\tthis.cy.remove('node[id=\"' + node + '-popper\"]');\r\n  }\r\n  \r\n\tremove = () => {\r\n\t\tconst n = this.heap.length()-1;\r\n\t\tconst outgoers = this.cy.getElementById(\"1\").outgoers('node');\r\n\t\tthis.removeNode(\"1\");\r\n    let commands:Array<AnimationStep>;\r\n\t\tcommands = this.heap.pop(true);\r\n\r\n\t\tif (n === 1) {\r\n\t\t\treturn [{ elements: this.exportGraph(), lines: [], duration: 1000}];\r\n\t\t}\r\n\r\n\t\tconst position = this.cy.getElementById(n.toString()).data('position');\r\n\t\tconst value = this.cy.getElementById(n.toString()).data('value');\r\n\t\tthis.removeNode(n.toString());\r\n\r\n\t\tthis.addNode(\"1\", value, position);\r\n\r\n    let steps:Array<{elements:Array<Object>, lines: Array<number>, duration: number}>=[];    \r\n\t\tfor (let i = 0; i < outgoers.length; i++) {\r\n\t\t\tif (this.cy.getElementById(outgoers[i].id()).length === 0) continue;\r\n\t\t\tthis.cy.add({\r\n\t\t\t\tgroup: 'edges',\r\n\t\t\t\tdata: { id: \"1-\" + outgoers[i].id(), source: \"1\", target: outgoers[i].id() }\r\n\t\t\t});\r\n\t\t}\r\n    steps = steps.concat({elements: this.exportGraph(), lines: [], duration: 1000});\r\n\r\n    steps = steps.concat(this.processCommands(commands));\r\n\r\n    this.cy.nodes().forEach((node:CytoscapeElement) => {\r\n      if(!node.id().match('popper')){\r\n        node.data('style', Styles.NODE);\r\n      }\r\n    });\r\n    steps.push({elements: this.exportGraph(), lines: [], duration: 0});\r\n    return steps;\r\n\t}\r\n}\r\n\r\nexport default HeapProcessor;","import React from 'react';\r\nimport actions from '../Actions/actions';\r\n\r\nimport { CytoscapeElement, CytoEvent, AnimationStep } from '../Types/types';\r\nimport TreeBar from './TreeBar';\r\nimport { Row, Container } from 'react-bootstrap';\r\nimport PriorityQueue from '../Algorithms/DS/PriorityQueue'\r\nimport downloadGif from '../utils/gifshot-utils';\r\nimport HeapArray from './HeapArray';\r\nimport { number, string } from 'prop-types';\r\nimport InputHeapModal from './InputHeapModal';\r\nimport MediaRecorder from '../utils/MediaRecorder';\r\nimport { parseHeap } from '../utils/heap-utils';\r\nimport InputModal from './InputModal';\r\nimport { insert, remove } from '../resources/pseudocodes/heap';\r\nimport HeapProcessor from '../Processing/heap-processing';\r\nconst Styles = require('../Styles/Styles');\r\nconst cytoscape = require('cytoscape');\r\nconst { connect } = require('react-redux');\r\n\r\ntype options = {\r\n\tname: string,\r\n\tpositions: { [id: string]: { x: number, y: number } },\r\n\tpadding: number,\r\n\tanimate: boolean,\r\n\tanimationDuration: number,\r\n}\r\n\r\nlet layoutOptions: options = {\r\n\tname: 'preset',\r\n\tpositions: {}, // map of (node id) => (position obj); or function(node){ return somPos; }\r\n\tpadding: 30, // padding on fit\r\n\tanimate: true, // whether to transition the node positions\r\n\tanimationDuration: 500, // duration of animation in ms if enabled\r\n};\r\n\r\ntype storeState = {\r\n\tanimation: string,\r\n\tspeed: number,\r\n\tpaused: boolean,\r\n}\r\n\r\ntype Element = {\r\n\tvalue: number,\r\n\tclass: string,\r\n}\r\n\r\ntype State = {\r\n\tshow: boolean,\r\n\tshowInsertModal: boolean,\r\n}\r\n\r\ntype stackState = {\r\n\theap: Array<number>,\r\n\telements: Array<Object>,\r\n}\r\n\r\ntype Props = {\r\n\taction: string,\r\n\tanimation: boolean,\r\n\tspeed: number,\r\n\tdispatch: (action: Object) => Object,\r\n\tpaused: boolean,\r\n}\r\nconst mapStateToProps = (state: storeState) => {\r\n\treturn {\r\n\t\tanimation: state.animation,\r\n\t\tspeed: state.speed,\r\n\t\tpaused: state.paused,\r\n\t}\r\n}\r\nclass Heap extends React.Component<Props, State>{\r\n\r\n\t_isMounted = false;\r\n\t_mediaRecorder = new MediaRecorder();\r\n\r\n\tundo: Array<Array<Object>> = [];\r\n\tredo: Array<Array<Object>> = [];\r\n\r\n\tstate = {\r\n\t\tshow: false,\r\n\t\tshowInsertModal: false,\r\n\t}\r\n\r\n\tlayout = {\r\n\t\trun: () => { },\r\n\t\tstop: () => { },\r\n\t};\r\n\r\n\tnodeStyle = Styles.NODE;\r\n\tedgeStyle = Styles.EDGE;\r\n\tcy = cytoscape();\r\n\r\n\theapProcessor:any;\r\n\tbuffer: Array<{ elements: Array<Object>, lines: Array<number>, duration: number }> = [];\r\n\toptions: Array<{ name: string, run: () => void }>;\r\n\r\n\tanimationTimeout = 0;\r\n\tstep = 0;\r\n\r\n\tconstructor(props: Props) {\r\n\t\tsuper(props);\r\n\t\tthis._mediaRecorder = new MediaRecorder(props.dispatch);\r\n\t\tthis.options = [\r\n\t\t\t{\r\n\t\t\t\tname: 'Insertar',\r\n\t\t\t\trun: () => this.setState({ showInsertModal: true }),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Extraer minimo',\r\n\t\t\t\trun: this.remove,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Subir Heap',\r\n\t\t\t\trun: () => this.setState({ show: true }),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Descargar Heap',\r\n\t\t\t\trun: () => { \r\n\t\t\t\t\tif(!this.props.animation) parseHeap(this.heapProcessor.heap._data)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\r\n\tinitialize() {\r\n\t\tlet edgeStyle = Styles.EDGE;\r\n\t\tthis.cy = cytoscape({\r\n\r\n\t\t\tcontainer: document.getElementById('canvas'), // container to render in\r\n\r\n\t\t\telements: [],\r\n\r\n\t\t\tstyle: [ // the stylesheet for the graph\r\n\t\t\t\t{\r\n\t\t\t\t\tselector: 'node',\r\n\t\t\t\t\tstyle: Styles.NODE,\r\n\t\t\t\t},\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\tselector: 'edge',\r\n\t\t\t\t\tstyle: edgeStyle,\r\n\t\t\t\t}\r\n\t\t\t],\r\n\r\n\t\t\theadless: false,\r\n\t\t\tstyleEnabled: true,\r\n\t\t\thideEdgesOnViewport: false,\r\n\t\t\thideLabelsOnViewport: false,\r\n\t\t\tuserPanningEnabled: false,\r\n\t\t\tzoomingEnabled: false,\r\n\t\t\ttextureOnViewport: false,\r\n\t\t\tmotionBlur: false,\r\n\t\t\tmotionBlurOpacity: 0.2,\r\n\t\t\tpixelRatio: '1.0',\r\n\t\t\tautoungrabify: true,\r\n\t\t});\r\n\t\tthis.cy.nodes().forEach((node: CytoscapeElement) => {\r\n\t\t\tif (node.id().match('-popper')) {\r\n\t\t\t\tnode.style(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t'z-index': 0,\r\n\t\t\t\t\t\t'border-width': 0,\r\n\t\t\t\t\t\t'font-size': 15,\r\n\t\t\t\t\t\t'width': 10,\r\n\t\t\t\t\t\t'height': 10,\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.cy.on('resize', () => this.refreshLayout(false));\r\n\t\tthis.layout = this.cy.elements().makeLayout({ ...layoutOptions, animate: false });\r\n\t\tthis.layout.run();\r\n\r\n\t\tthis.refreshLayout();\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis._isMounted = true;\r\n\t\tthis.initialize();\r\n\t\tthis.heapProcessor = new HeapProcessor(this.cy.width(), this.cy.height());\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: this.props.action,\r\n\t\t\tpayload: {\r\n\t\t\t\tphoto: () => this._mediaRecorder.takePicture(this.cy),\r\n\t\t\t\tgif: () => this._mediaRecorder.takeGif(this.cy),\r\n\t\t\t\tundo: this.handleUndo,\r\n\t\t\t\tredo: this.handleRedo,\r\n\t\t\t\toptions: this.options,\r\n\t\t\t\trewind: this.handleRewind,\r\n\t\t\t\tforward: this.handleForward,\r\n\t\t\t\trepeat: this.handleRepeat,\r\n\t\t\t\tend: this.handleEnd,\r\n\t\t\t\tpause: this.handlePauseContinue,\r\n\t\t\t\tclear: this.clearGraph,\r\n\t\t\t\tremove: null,\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps: Props) {\r\n\t\tlayoutOptions.animationDuration = 500 / this.props.speed;\r\n\r\n\t\tif (prevProps.animation && !this.props.animation) {\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.CHANGE_OPTIONS,\r\n\t\t\t\tpayload: { options: this.options }\r\n\t\t\t});\r\n\t\t} else if (!prevProps.animation && this.props.animation) {\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.CHANGE_OPTIONS,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\toptions: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tname: 'Volver a edicion',\r\n\t\t\t\t\t\t\trun: () => {\r\n\t\t\t\t\t\t\t\tthis.loadGraph(this.buffer[this.buffer.length-1].elements);\r\n\t\t\t\t\t\t\t\tthis.props.dispatch({ type: actions.ANIMATION_END })\r\n\t\t\t\t\t\t\t\tclearTimeout(this.animationTimeout);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.ANIMATION_END,\r\n\t\t});\r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis._isMounted = false;\r\n\t\tlet nodes = this.cy.nodes();\r\n\t\tnodes.forEach((node: CytoscapeElement) => {\r\n\t\t\tthis.removeNode(node.id());\r\n\t\t});\r\n\t}\r\n\r\n\thandleUndo = () => {\r\n\t\tif (this.undo.length === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (this.props.animation) {\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.NO_SELECTION,\r\n\t\t});\r\n\r\n\t\tconst currentElements = this.exportGraph();\r\n\r\n\t\tlet state = this.undo.pop();\r\n\t\tif (state !== undefined) {\r\n\t\t\tthis.redo.push(currentElements);\r\n\t\t\tthis.loadGraph(state);\r\n\t\t\tthis.heapProcessor.loadGraph(state);\r\n\t\t}\r\n\t}\r\n\r\n\thandleRedo = () => {\r\n\t\tif (this.redo.length === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (this.props.animation) {\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.NO_SELECTION,\r\n\t\t});\r\n\r\n\t\tconst currentElements = this.exportGraph();\r\n\r\n\t\tlet state = this.redo.pop();\r\n\t\tif (state !== undefined) {\r\n\t\t\tthis.undo.push(currentElements);\r\n\t\t\tthis.loadGraph(state);\r\n\t\t\tthis.heapProcessor.loadGraph(state);\r\n\t\t}\r\n\t}\r\n\r\n\tpushState() {\r\n\t\tthis.redo = [];\r\n\t\tthis.undo.push(this.exportGraph());\r\n\t}\r\n\r\n\thandleRewind = () => { \r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = Math.max(this.step-1, 0);\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandleForward = () => { \r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = Math.min(this.step+1, this.buffer.length-1);\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandleRepeat = () => {\r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = 0;\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandleEnd = () => {\r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = this.buffer.length - 1;\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandlePauseContinue = () => {\r\n\t\tif(!this.props.paused){\r\n\t\t\tclearTimeout(this.animationTimeout);\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_PAUSE,\r\n\t\t\t})\r\n\t\t}else{\r\n\t\t\tnew Promise(resolve => {\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.ANIMATION_CONTINUE\r\n\t\t\t\t})\r\n\t\t\t\tresolve();\r\n\t\t\t}).then(() => this.animation());\r\n\t\t}\r\n\t}\r\n\r\n\tloadGraph(elements: Array<Object>) {\r\n\t\tconst nodes = this.cy.nodes();\r\n\t\tnodes.forEach((node: CytoscapeElement) => {\r\n\t\t\tthis.cy.remove(node);\r\n\t\t})\r\n\r\n\t\tfor (let i = 0; i < elements.length; i++) {\r\n\t\t\tthis.cy.add(elements[i]);\r\n\t\t}\r\n\r\n\t\tthis.cy.nodes().forEach((node: CytoscapeElement) => {\r\n\t\t\tconst style = node.data('style');\r\n\t\t\tif (style != null) node.style(style);\r\n\t\t\tconst position = node.data('position');\r\n\t\t\t//console.log(\"PREV\", node.position());\r\n\t\t\t//console.log(\"NEXT\", position);\r\n\t\t\tif (position != null) {\r\n\t\t\t\tlayoutOptions.positions[node.id()] = JSON.parse(JSON.stringify(position));\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tthis.cy.edges().forEach((edge: CytoscapeElement) => {\r\n\t\t\tconst style = edge.data('style');\r\n\t\t\tif (style != null) edge.style(style);\r\n\t\t})\r\n\r\n\t\tthis.refreshLayout();\r\n\t}\r\n\r\n\texportGraph() {\r\n\t\tconst elements: Array<Object> = [];\r\n\t\tthis.cy.nodes().forEach((node: CytoscapeElement) => {\r\n\t\t\telements.push({\r\n\t\t\t\tgroup: 'nodes',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: node.id(),\r\n\t\t\t\t\tvalue: node.data('value'),\r\n\t\t\t\t\tposition: {\r\n\t\t\t\t\t\tx: node.position().x,\r\n\t\t\t\t\t\ty: node.position().y,\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tstyle: node.style(),\r\n\t\t\t\tposition: {\r\n\t\t\t\t\tx: node.position().x,\r\n\t\t\t\t\ty: node.position().y,\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t});\r\n\t\tthis.cy.edges().forEach((edge: CytoscapeElement) => {\r\n\t\t\telements.push({\r\n\t\t\t\tgroup: 'edges',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: edge.id(),\r\n\t\t\t\t\tsource: edge.source().id(), target: edge.target().id(),\r\n\t\t\t\t\tweight: edge.data('weight'),\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t});\r\n\t\treturn elements;\r\n\t}\r\n\r\n\tcreatePopper(nodeId: string, value: number) {\r\n\t\tconst ele = this.cy.getElementById(nodeId);\r\n\t\tconst position = ele.position();\r\n\t\tthis.cy.add({\r\n\t\t\tgroup: 'nodes',\r\n\t\t\tdata: { id: nodeId + '-popper', value },\r\n\t\t\tposition: {\r\n\t\t\t\tx: position.x,\r\n\t\t\t\ty: position.y + 32,\r\n\t\t\t},\r\n\t\t\tstyle: {\r\n\t\t\t\t'z-index': 0,\r\n\t\t\t\t'border-width': 0,\r\n\t\t\t\t'font-size': 15,\r\n\t\t\t\t'width': 10,\r\n\t\t\t\t'height': 10,\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\taddNode(node: string, value: number, position: { x: number, y: number } = { x: 0, y: 0 }) {\r\n\t\tthis.cy.add(\r\n\t\t\t{\r\n\t\t\t\tgroup: 'nodes',\r\n\t\t\t\tdata: { id: node.toString(), value },\r\n\t\t\t\tgrabbable: false,\r\n\t\t\t\tpannable: false,\r\n\t\t\t\tposition: { x: position.x, y: position.y },\r\n\t\t\t},\r\n\t\t)\r\n\t\tthis.createPopper(node, parseInt(node));\r\n\t}\r\n\tremoveNode = (node: string) => {\r\n\t\tthis.cy.remove('node[id=\"' + node + '\"]');\r\n\t\tthis.cy.remove('node[id=\"' + node + '-popper\"]');\r\n\t}\r\n\r\n\tanimation() {\r\n\t\tlet step = () => {\r\n\t\t\tif (this.step === this.buffer.length) {\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.FINISHED_ALGORITHM_SUCCESS,\r\n\t\t\t\t});\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.ANIMATION_PAUSE,\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!this.props.animation) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst { elements, lines, duration } = this.buffer[this.step++];\r\n\t\t\tif(this.props.paused) return;\r\n\t\t\tthis.loadGraph(elements);\r\n\t\t\tif (lines) this.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines } });\r\n\t\t\tconsole.log(duration);\r\n\t\t\tthis.animationTimeout = window.setTimeout(step, ((duration === undefined) ? 1000 : duration) / (this.props.speed));\r\n\t\t}\r\n\t\tstep();\r\n\t}\r\n\r\n\texecuteAnimation = () => {\r\n\t\tthis.cy.nodes().forEach((node: CytoscapeElement) => {\r\n\t\t\tif (!node.id().match('-popper')) {\r\n\t\t\t\tnode.style({\r\n\t\t\t\t\t'background-color': 'white',\r\n\t\t\t\t\t'color': 'black',\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t\tnew Promise((resolve, reject) => {\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_START,\r\n\t\t\t});\r\n\t\t\tresolve();\r\n\t\t}).then(() => {\r\n\t\t\tthis.step = 0;\r\n\t\t\tthis.animation();\r\n\t\t})\r\n\t}\r\n\r\n\trefreshLayout(animate: boolean = true) {\r\n\t\tthis.layoutProcessing();\r\n\t\tthis.layout.stop();\r\n\t\tthis.layout = this.cy.elements().makeLayout({ ...layoutOptions, animate });\r\n\t\tthis.layout.run();\r\n\t}\r\n\t\r\n\tclearGraph = () => {\r\n\t\tif(this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.CLEAR_GRAPH,\r\n\t\t});\r\n\t\tlet nodes = this.cy.nodes();\r\n\t\tif(nodes.length === 0) return;\r\n\t\tthis.pushState();\r\n\t\tthis.heapProcessor.loadGraph();\r\n\t\tfor (let i = 0; i < nodes.length; i++) {\r\n\t\t\tthis.removeNode(nodes[i].id());\r\n\t\t}\r\n\t}\r\n\r\n\tlayoutProcessing() {\r\n\t\tconst getHeight = (node: CytoscapeElement) => {\r\n\t\t\tlet outgoers = node.outgoers('node');\r\n\t\t\tlet height = 0;\r\n\t\t\tfor (let i = 0; i < outgoers.length; i++) {\r\n\t\t\t\theight = Math.max(height, getHeight(outgoers[i]));\r\n\t\t\t}\r\n\t\t\treturn height + 1;\r\n\t\t}\r\n\t\tlet height = getHeight(this.cy.getElementById(\"1\"));\r\n\r\n\t\tlet sep = (1 << height) * 5;\r\n\r\n\t\tconst setSep = (node: CytoscapeElement, nx: number, ny: number, sep: number) => {\r\n\t\t\tlayoutOptions.positions[node.id()] = { x: nx, y: ny }\r\n\t\t\tnode.data('position', {x: nx, y: ny});\r\n\t\t\tconst popper = this.cy.getElementById(node.id() + '-popper');\r\n\t\t\tlayoutOptions.positions[popper.id()] = { x: nx, y: ny + 32 }\r\n\t\t\tpopper.data('position', {x: nx, y: ny+32});\r\n\t\t\tif (node.outgoers('node').length) setSep(node.outgoers('node')[0], nx - sep, ny + 50, sep / 2);\r\n\t\t\tif (node.outgoers('node').length === 2) setSep(node.outgoers('node')[1], nx + sep, ny + 50, sep / 2);\r\n\t\t}\r\n\t\tconst vw = this.cy.width(), vh = this.cy.height();\r\n\t\tsetSep(this.cy.getElementById(\"1\"), vw / 2, vh / 4, sep);\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tinsert(val = 0) {\r\n\t\tif (this.props.animation) {\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.CHANGE_PSEUDO,\r\n\t\t\tpayload: {\r\n\t\t\t\tpseudo: insert,\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.pushState();\r\n\r\n\t\tthis.buffer = this.heapProcessor.insert(val);\r\n\t\tconsole.log(this.buffer);\r\n\t\tthis.executeAnimation();\r\n\t}\r\n\r\n\tremove = () => {\r\n\t\tif (this.props.animation) {\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.CHANGE_PSEUDO,\r\n\t\t\tpayload: {\r\n\t\t\t\tpseudo: remove,\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.pushState();\r\n\r\n\t\tthis.buffer = this.heapProcessor.remove();\r\n\t\tconsole.log(this.buffer);\r\n\t\tthis.executeAnimation();\r\n\t}\r\n\r\n\tchangeArray(values: Array<number>) {\r\n\t\tthis.pushState();\r\n\r\n\t\tthis.cy.nodes().forEach((node: CytoscapeElement) => {\r\n\t\t\tthis.cy.remove(node);\r\n\t\t});\r\n\t\tthis.heapProcessor.heap.clear();\r\n\t\tfor(let i = 1; i < values.length; i++){\r\n\t\t\tthis.addNode(i.toString(), values[i]);\r\n\t\t}\r\n\t\tfor(let i = 1; 2*i < values.length; i++){\r\n\t\t\tthis.cy.add({\r\n\t\t\t\tgroup: 'edges',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: i.toString() + '-' + (2*i).toString(),\r\n\t\t\t\t\tsource: i.toString(),\r\n\t\t\t\t\ttarget: (2*i).toString(),\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tfor(let i = 1; 2*i+1 < values.length; i++){\r\n\t\t\tthis.cy.add({\r\n\t\t\t\tgroup: 'edges',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: i.toString() + '-' + (2*i+1).toString(),\r\n\t\t\t\t\tsource: i.toString(),\r\n\t\t\t\t\ttarget: (2*i+1).toString(),\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tthis.refreshLayout();\r\n\t\tthis.heapProcessor.loadGraph(this.exportGraph());\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<InputHeapModal\r\n\t\t\t\t\tshow={this.state.show}\r\n\t\t\t\t\tchangeArray={(values: Array<number>) => this.changeArray(values)}\r\n\t\t\t\t\thandleClose={() => this.setState({ show: false })}\r\n\t\t\t\t/>\r\n\t\t\t\t<InputModal\r\n\t\t\t\t\tshow={this.state.showInsertModal}\r\n\t\t\t\t\thandleClose={() => this.setState({ showInsertModal: false })}\r\n\t\t\t\t\tcallback={(v: number) => this.insert(v)}\r\n\t\t\t\t/>\r\n\t\t\t\t<div id=\"canvas\" className='standard-struct' />\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(Heap);","const algorithmRoutes = {\r\n  BFS: '/bfs',\r\n  DFS: '/dfs',\r\n  Dijkstra: '/dijkstra',\r\n  BellmanFord: '/bellman-ford',\r\n  Kruskal: '/kruskal',\r\n  Prim: '/prim',\r\n  BubbleSort: '/bubblesort',\r\n  MergeSort: '/mergesort',\r\n  BinarySearch: '/busqueda-binaria',\r\n  SingleLinkedList: '/lista-enlazada',\r\n  DoubleLinkedList: '/lista-doblemente-enlazada',\r\n  Queue: '/cola',\r\n  Stack: '/pila',\r\n  MinHeap: '/minheap',\r\n  AVL: '/avl',\r\n  BST: '/arbol-binario-de-busqueda',\r\n};\r\n\r\nexport default algorithmRoutes;","import React, { FunctionComponent } from 'react';\r\nimport actions from '../Actions/actions';\r\nimport {Row, Col} from 'react-bootstrap';\r\nimport BFS from '../static/images/graph3.png';\r\nimport AVL from '../static/images/AVL.png';\r\nimport ArrayPic from '../static/images/array.png';\r\nimport routes from '../resources/names_and_routes/algorithm_routes';\r\nconst { connect } = require('react-redux');\r\nconst {\r\n\tNavLink,\r\n\tHashRouter\r\n} = require('react-router-dom');\r\n\r\ntype Props = {\r\n  dispatch: (action:Object) => void,\r\n}\r\n\r\ntype ThumbProps = {\r\n  imgSrc: string,\r\n  title: string,\r\n}\r\nconst AlgoThumb:FunctionComponent<ThumbProps> = ({imgSrc, title, children}) => {\r\n  return (\r\n    <div className='algoThumbnail'>\r\n      {children}\r\n      <div className='algoPicture' style={{height: '65%'}}>\r\n        <img src={imgSrc} height={'100%'} width={'100%'}></img>\r\n      </div>\r\n      <div className='algoName'>\r\n        {title}\r\n      </div>\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\nclass Home extends React.Component<Props> {\r\n  componentDidMount(){\r\n    this.props.dispatch({\r\n      type: actions.HOME,\r\n    });\r\n  }\r\n\r\n  render(){\r\n    return (\r\n    <HashRouter>\r\n      <div id='home'>\r\n        <div className='home-title'>\r\n          <Row>\r\n            <Col>\r\n                <h1>¡Bienvenido a CytoAyed!</h1>\r\n                <h2>Aquí podrás visualizar y obtener información sobre diferentes algoritmos y estructuras de datos</h2>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n        <div className='home-content'>\r\n          <Row>\r\n            <Col md={4}>\r\n              <AlgoThumb imgSrc={BFS} title='Algoritmos sobre grafos'>\r\n                <div className='thumb-menu'>\r\n                  <NavLink to={routes.BFS}><button>Busqueda en Anchura</button></NavLink>\r\n                  <NavLink to={routes.DFS}><button>Busqueda en Profundidad</button></NavLink>\r\n                  <NavLink to={routes.Dijkstra}><button>Camino minimo - Dijkstra</button></NavLink>\r\n                  <NavLink to={routes.BellmanFord}><button>Camino minimo - Bellman-Ford</button></NavLink>\r\n                  <NavLink to={routes.Kruskal}><button>Arbol Recubridor Minimo - Kruskal</button></NavLink>\r\n                  <NavLink to={routes.Prim}><button>Arbol Recubridor Minimo - Prim</button></NavLink>\r\n                </div>\r\n              </AlgoThumb>\r\n            </Col>\r\n            \r\n            <Col md={4}>\r\n              <AlgoThumb imgSrc={AVL} title='Estructuras de datos'>\r\n                <div className='thumb-menu'>\r\n                  <NavLink to={routes.SingleLinkedList}><button>Listas Enlazadas</button></NavLink>\r\n                  <NavLink to={routes.MinHeap}><button>Heap Mínimo</button></NavLink>\r\n                  <NavLink to={routes.BST}><button>Árbol Binario de Búsqueda</button></NavLink>\r\n                  <NavLink to={routes.AVL}><button>Árbol AVL</button></NavLink>\r\n                </div>\r\n              </AlgoThumb>\r\n            </Col>\r\n            \r\n            <Col md={4}>\r\n              <AlgoThumb imgSrc={ArrayPic} title='Algoritmos sobre arreglos'>\r\n                <div className='thumb-menu'>\r\n                  <NavLink to={routes.BinarySearch}><button>Ordenamiento Burbuja</button></NavLink>\r\n                  <NavLink to={routes.MergeSort}><button>Ordenamiento por Mezcla</button></NavLink>\r\n                  <NavLink to={routes.BinarySearch}><button>Busqueda Binaria</button></NavLink>\r\n                </div>\r\n              </AlgoThumb>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n      </div>\r\n    </HashRouter>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect()(Home);","export function isLeaf(node){\r\n  return node.outgoers('node').length === 0;\r\n}\r\n\r\nexport function getChildren(node){\r\n  let left = null, right = null;\r\n  let outgoers = node.outgoers('node');\r\n\r\n  if (outgoers.length >= 1) left = outgoers[0];\r\n  if (outgoers.length === 2) right = outgoers[1];\r\n  if (left != null && right != null && left.data('value') > right.data('value')) {\r\n    [left, right] = [right, left];\r\n  }else if(left != null && left.data('value') > node.data('value')){\r\n    [left, right] = [right, left];\r\n  }else if(right != null && right.data('value') < node.data('value')){\r\n    [left, right] = [right,left];\r\n  }\r\n\r\n  return [left, right];\r\n}\r\n\r\n\r\nexport function lca(cy, x, y){\r\n  while(x.id() !== y.id()){\r\n    if(x.data('depth') < y.data('depth')) y = cy.getElementById(y.data('prev'));\r\n    else if(x.data('depth') > y.data('depth')) x = cy.getElementById(x.data('prev'));\r\n    else{\r\n      x = cy.getElementById(x.data('prev'));\r\n      y = cy.getElementById(y.data('prev'));\r\n    }\r\n  }\r\n  return x;\r\n}\r\nfunction leftmost(node){\r\n  while(true){\r\n    const left = getChildren(node)[0];\r\n    if(left == null) return node;\r\n    node = left;\r\n  }\r\n}\r\n\r\nexport function inorderSuccessor(node){\r\n  const right = getChildren(node)[1];\r\n  return leftmost(right);  \r\n}\r\n\r\nexport function getHeight(node){\r\n  if(!node) return 0;\r\n  return node.data('height');\r\n}\r\n\r\nexport function validateBST(text, addNode, addEdge, clearGraph, balanced=true){\r\n  let pos = 0, n = text.length, id = 0;\r\n  const nodes = [], edges = [];\r\n  const recursion = (min, max, parent=-1) => {\r\n    if(text[pos] === '.'){\r\n      pos++;\r\n      return {correct: true, height: 0, balance: 0};\r\n    }\r\n    let sign = 1;\r\n    if(text[pos] === '-'){\r\n      sign = -1; pos++;\r\n    }\r\n    if(pos === n || text[pos] < '0' || text[pos] > '9'){\r\n      return {correct: false};\r\n    }\r\n    let value = 0;\r\n    while(pos < n && text[pos] >= '0' && text[pos] <= '9'){\r\n      value = (value*10) + parseInt(text[pos++]);\r\n    }\r\n    value = value*sign;\r\n    if(value <= min || value >= max) return {correct: false}\r\n    const current = id++;\r\n    if(pos === n || text[pos] !== '(') return {correct: false}\r\n    pos++;\r\n    const left = recursion(min, value, current);\r\n    if(!left.correct || pos === n || text[pos] !== ')') return {correct: false}\r\n    pos++;\r\n    if(pos === n || text[pos] !== '(') return {correct: false}\r\n    pos++;\r\n    const right = recursion(value, max, current);\r\n    if(!right.correct || pos === n || text[pos] !== ')') return {correct: false}\r\n    pos++;\r\n\r\n    const height = Math.max(left.height, right.height) + 1;\r\n    const balance = right.height - left.height;\r\n\r\n    if(balanced && Math.abs(balance) > 1){\r\n      return {correct: false};\r\n    }\r\n    nodes.push({id: current.toString(), value, height, balance});\r\n    if(parent !== -1){\r\n      edges.push({\r\n        source: parent.toString(),\r\n        target: current.toString(),\r\n      });\r\n    }\r\n    return {correct: true, height, balance};\r\n  }\r\n\r\n  const result = recursion(-Infinity, Infinity);\r\n  if(!result.correct || pos !== n){\r\n    return false;\r\n  }\r\n\r\n  clearGraph();\r\n  nodes.forEach(node => {\r\n    addNode(node.id, node.value, node.height, node.balance);\r\n  });\r\n  edges.forEach(edge => {\r\n    addEdge(edge.source, edge.target);\r\n  });\r\n\r\n  return true;\r\n}\r\n\r\nexport function parseAVL(root){\r\n  let output = \"\";\r\n  if(root.length === 0) return output;\r\n  const recursion = node => {\r\n    if(!node){\r\n      output += \".\";\r\n      return;\r\n    }\r\n    output += node.data('value').toString();\r\n    const [left, right] = getChildren(node);\r\n    output += \"(\"; recursion(left); output += \")\";\r\n    output += \"(\"; recursion(right); output += \")\";\r\n  }\r\n\r\n  recursion(root);\r\n\r\n  let link = document.createElement('a');\r\n  link.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(output));\r\n  link.setAttribute('download', 'avl.txt');\r\n  link.setAttribute('target', '_blank');\r\n  link.style.display = 'none';\r\n  document.body.appendChild(link);\r\n  link.click();\r\n  document.body.removeChild(link);\r\n  return output;\r\n}\r\n","import React, { ReactElement } from 'react';\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport { Button, FormControl } from 'react-bootstrap';\r\nimport {validateBST} from '../utils/bst-utils';\r\nimport actions from '../Actions/actions';\r\n\r\nconst {connect} = require('react-redux');\r\ntype Props = {\r\n  show: boolean,\r\n  balanced: boolean,\r\n  handleClose: (update?: boolean) => void,\r\n  addNode: (id: string, value: number) => void,\r\n  addEdge: (source: string, target: string) => void,\r\n  clearGraph: () => void,\r\n  dispatch: (action:Object) => void,\r\n}\r\ntype State = {\r\n  text: string,\r\n}\r\nclass InputAVLModal extends React.Component<Props, State>{\r\n\r\n  state = {\r\n    text: '',\r\n  }\r\n\r\n  uploadGraph = () => {\r\n    const input = (document.getElementById('AVLUploadInput') as HTMLInputElement);\r\n    if(input.files){\r\n      const file = input.files[0];\r\n      const reader = new FileReader();\r\n      reader.onload = () => {\r\n        if(typeof reader.result === 'string'){\r\n          const text = reader.result;\r\n          this.validateArray(text);\r\n        }\r\n      }\r\n      reader.readAsText(file);\r\n    }\r\n  }\r\n\r\n  validateArray(text: string) {\r\n    const {addNode, addEdge, clearGraph, balanced} = this.props;\r\n    let regex = /^([^0-9().-]|([0-9]{4,})|([.]{2,}))/;\r\n    if (text && regex.test(text)) {\r\n      this.props.dispatch({type: actions.INVALID_AVL_ERROR})\r\n      return false;\r\n    } else {\r\n      if(validateBST(text, addNode, addEdge, clearGraph, balanced))this.props.handleClose(true);\r\n      else{\r\n        if(balanced) this.props.dispatch({type: actions.INVALID_AVL_ERROR});\r\n        else this.props.dispatch({type: actions.INVALID_BST_ERROR});\r\n      }\r\n    }\r\n  }\r\n\r\n  handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    this.setState({text: e.currentTarget.value});\r\n  }\r\n\r\n  handleCancel = () => {\r\n    this.props.handleClose();\r\n  }\r\n  render(){\r\n    const {show, handleClose} = this.props;\r\n    return (\r\n      <Modal show={show} onHide={handleClose}>\r\n        <Modal.Header className='modal-header' closeButton>\r\n          <Modal.Title>Seleccione un archivo</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <p>El archivo debe contener un arbol AVL valido, previamente descargado</p>\r\n          <input type=\"file\" id=\"AVLUploadInput\"/>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={this.handleCancel}>\r\n            Cancelar\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={this.uploadGraph}>\r\n            Aceptar\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect()(InputAVLModal);","export function edgeId(x, y){\r\n  return x + '-' + y;\r\n}","export const insert = [\r\n  {text: 'insertar(nodo u, entero v):', ind: 0},\r\n  {text: 'Si u == NULL', ind: 1},\r\n  {text: 'u = nuevo nodo(v)', ind: 2},\r\n  {text: 'Sino si v < u.valor:', ind: 1},\r\n  {text: 'insertar(u.hijoIzquierdo, v)', ind: 2},\r\n  {text: 'Sino si v > u.valor:', ind: 1},\r\n  {text: 'insertar(u.hijoDerecho, v)', ind: 2},\r\n];\r\n\r\nexport const remove = [\r\n  { text: 'eliminar(nodo u):', ind: 0},\r\n  { text: 'Si es_hoja(u): borrar u', ind: 1},\r\n  { text: 'Sino: ', ind: 1},\r\n  { text: 'Si hijos(u) == 1:', ind: 2},\r\n  { text: 'eliminar(hijo(u))', ind: 3},\r\n  { text: 'Sino: ', ind: 2},\r\n  { text: 'nodo s = sucesor(u)', ind: 3},\r\n  { text: 'intercambiar(u.valor, s.valor)', ind: 3},\r\n  { text: 'borrar s', ind: 3},\r\n];\r\n\r\nexport const balance = [\r\n  { text: 'balancear(nodo u)', ind: 0},\r\n  { text: 'Caso 0: u esta balanceado', ind: 1},\r\n  { text: 'Caso 1: factor(u)==2 y factor(u.hijoDerecho)>=0', ind: 1},\r\n  { text: 'rotacionIzquierda(u)', ind: 2},\r\n  { text: 'Caso 2: factor(u)==-2 y factor(u.hijoIzquierdo)<=0', ind: 1},\r\n  { text: 'rotacionDerecha(u)', ind: 2},\r\n  { text: 'Caso 3: factor(u)==2 y factor(u.hijoIzquierdo)<0', ind: 1},\r\n  { text: 'rotacionDerecha(u.hijoDerecho), rotacionIzquierda(u)', ind: 2},\r\n  { text: 'Caso 4: factor(u)==-2 y factor(u.hijoDerecho)>0', ind: 1},\r\n  { text: 'rotacionIzquierda(u.hijoIzquiedo), rotacionDerecha(u)', ind: 2},\r\n];\r\n\r\nexport const search = [\r\n  {text: 'buscar(nodo u, entero v):', ind: 0},\r\n  {text: 'Si u == NULL: retornar Falso', ind: 1},\r\n  {text: 'Si v == u.valor: retornar Verdadero', ind: 1},\r\n  {text: 'Si v < u.valor:', ind: 1},\r\n  {text: 'buscar(u.hijoIzquierdo, v)', ind: 2},\r\n  {text: 'Sino:', ind: 1},\r\n  {text: 'buscar(u.hijoDerecho, v)', ind: 2},\r\n];\r\n\r\nexport const avl = [\r\n  { text: 'AVL{', ind: 0},\r\n  { text: 'Nodo raiz', ind: 1},\r\n  { text: 'insertar(nodo u, entero v)', ind: 1},\r\n  { text: 'eliminar(nodo u)', ind: 1},\r\n  { text: 'buscar(nodo u, entero v)', ind: 1},\r\n  { text: 'balancear(nodo u)', ind: 1},\r\n  { text: 'sucesor(nodo u)', ind: 1},\r\n  { text: '}', ind: 0},\r\n]\r\n\r\nexport const bst = [\r\n  { text: 'ABB{', ind: 0},\r\n  { text: 'Nodo raiz', ind: 1},\r\n  { text: 'insertar(nodo u, entero v)', ind: 1},\r\n  { text: 'eliminar(nodo u)', ind: 1},\r\n  { text: 'buscar(nodo u, entero v)', ind: 1},\r\n  { text: 'sucesor(nodo u)', ind: 1},\r\n  { text: '}', ind: 0},\r\n]","import { CytoscapeElement, CytoEvent, AnimationStep } from '../Types/types';\r\nimport { getChildren, lca, getHeight, isLeaf } from '../utils/bst-utils';\r\nimport {edgeId} from '../utils/cy-utils';\r\nimport {insert, remove, balance, search} from '../resources/pseudocodes/bst';\r\nconst Styles = require('../Styles/Styles');\r\nconst cytoscape = require('cytoscape');\r\nconst { connect } = require('react-redux');\r\n\r\ntype exportStep = {\r\n  elements: Array<Object>\r\n  lines: Array<number>,\r\n  duration: number,\r\n  pseudo?: Array<Object>,\r\n  treeRoot: string,\r\n  refresh?: boolean,\r\n}\r\nclass BSTProcessor { \r\n\r\n  cy = cytoscape();\r\n  vh:number;\r\n  vw:number;\r\n  treeRoot:string=\"\";\r\n\r\n  balanced: boolean;\r\n  buffer:Array<exportStep> = [];\r\n\r\n  pseudo:Array<Object> = [];\r\n  constructor(vw: number, vh: number, balanced:boolean){\r\n    this.vh = vh; this.vw = vw; this.balanced=balanced; \r\n  }\r\n\r\n  loadGraph(elements:Array<Object>, root: string){\r\n    this.cy = cytoscape({\r\n      elements: JSON.parse(JSON.stringify(elements)),\r\n    });\r\n    this.cy.nodes().forEach((node:CytoscapeElement) => {\r\n      if(!node.id().match('popper')){\r\n        node.data('style', Styles.NODE);\r\n      }else{\r\n        node.data('style', Styles.NODE_POPPER);\r\n      }\r\n    });\r\n    this.treeRoot = root;\r\n  }\r\n  exportGraph(updateLayout=true){\r\n\t\tconst elements:Array<Object> = [];\r\n    if(updateLayout) this.layoutProcessing();\r\n\t\tthis.cy.nodes().forEach((node:CytoscapeElement) => {\r\n      let prev = node.data('prevPosition');\r\n      if(!prev) prev = node.data('position');\r\n\t\t\telements.push({\r\n\t\t\t\tgroup: 'nodes',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: node.id(),\r\n          value: node.data('value'),\r\n          prev: node.data('prev'),\r\n          height: node.data('height'),\r\n          balance: node.data('balance'),\r\n          position: node.data('position'),\r\n          style: node.data('style'),\r\n\t\t\t\t},\r\n\t\t\t\tposition: prev,\r\n\t\t\t});\r\n\t\t});\r\n\t\tthis.cy.edges().forEach((edge:CytoscapeElement) => {\r\n\t\t\telements.push({\r\n\t\t\t\tgroup: 'edges',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: edge.id(),\r\n\t\t\t\t\tsource: edge.source().id(), target: edge.target().id(),\r\n          weight: edge.data('weight'),\r\n          style: edge.data('style'),\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t\treturn elements;\r\n  }\r\n\r\n  pushStep(lines:Array<number> = [], duration:number = 1000, refresh=true){\r\n    this.buffer.push({\r\n      elements: this.exportGraph(refresh),\r\n      lines,\r\n      duration,\r\n      treeRoot: this.treeRoot,\r\n      pseudo: this.pseudo,\r\n    })\r\n  }\r\n  createPopper(nodeId: string){\r\n\t\tconst ele = this.cy.getElementById(nodeId);\r\n\t\tconst position = ele.data('position');\r\n\t\tthis.cy.add({\r\n\t\t\tgroup: 'nodes',\r\n\t\t\tdata: {\r\n        id : nodeId+'-popper', \r\n        style: Styles.NODE_POPPER,\r\n        position: {\r\n          x: position.x,\r\n          y: position.y+30,\r\n        },\r\n      },\r\n\t\t\tposition: {\r\n\t\t\t\tx: position.x,\r\n\t\t\t\ty: position.y+30,\r\n\t\t\t},\r\n\t\t});\r\n  }\r\n  \r\n  addNode = (id: string, value: number, height:number=0, balance:number=0, position:{x:number, y:number}={x:0,y:0}) => {\r\n    this.cy.add({\r\n      group: 'nodes',\r\n      data: {\r\n        id,\r\n        value,\r\n        height,\r\n        balance,\r\n        position: { x: position.x, y: position.y },\r\n      },\r\n      position: {\r\n        x: position.x,\r\n        y: position.y,\r\n      }\r\n    });\r\n    this.createPopper(id);\r\n  }\r\n\r\n  propagate(node: CytoscapeElement | null, val: number){\r\n    if(node == null) return;\r\n    node.data('X', node.data('X') + val);\r\n    const [left, right] = getChildren(node);\r\n    if(left) this.propagate(left, val);\r\n    if(right) this.propagate(right, val);\r\n  }\r\n\r\n  layoutProcessing() {\r\n\r\n    if(this.treeRoot === '') return;\r\n    const levels:{[lvl: number]: Array<string>} = {};\r\n\r\n    const dfs = (node: CytoscapeElement, depth: number, x: number) => {\r\n      console.log(node.data('value'));\r\n      node.data('depth', depth);\r\n      node.data('X', x);\r\n      \r\n      if(levels[depth] === undefined) levels[depth] = Array();\r\n      levels[depth].push(node.id());\r\n\r\n      let [left, right] = getChildren(node);\r\n      let hleft = 0, hright = 0;\r\n      if(left) hleft = dfs(left, depth+1, x-1);\r\n      if(right) hright = dfs(right, depth+1, x+1);\r\n\r\n      let bal = hright - hleft;\r\n      let popper = this.cy.getElementById(node.id() + '-popper');\r\n      popper.data('value', bal);\r\n      return Math.max(hleft, hright)+1;\r\n    }\r\n\r\n    let height = dfs(this.cy.getElementById(this.treeRoot), 0, 0);\r\n    let iter = 0;\r\n    while(iter++ < 1000){\r\n      let correct = true;\r\n      for(let i = height-1; i >= 0; i--){\r\n        const current = levels[i];\r\n        for(let j = 0; j < current.length - 1; j++){\r\n          const a = this.cy.getElementById(current[j]);\r\n          const b = this.cy.getElementById(current[j+1]);\r\n          if(a.data('X') + 1 >= b.data('X')){\r\n            const anc = lca(this.cy, a, b);\r\n            const [left, right] = getChildren(anc);\r\n            const dif = Math.max(a.data('X') - b.data('X'), 1);\r\n            this.propagate(left, -dif);\r\n            this.propagate(right, dif);\r\n            correct = false;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      if(correct) break;\r\n    }\r\n    if(iter === 1001){\r\n      console.error('ALERT, INFINITE LOOP AVOIDED');\r\n    }\r\n\r\n    const setSep = (node: CytoscapeElement, nx: number, ny: number) => {\r\n      const prevPosition = node.data('position');\r\n      node.data('prevPosition', prevPosition);\r\n      node.data('position', { x: node.data('X')*30 + nx, y: ny });\r\n      const popper = this.cy.getElementById(node.id() + '-popper');\r\n      const prevPopPosition = popper.data('position');\r\n      popper.data('prevPosition', prevPopPosition);\r\n\t\t\tpopper.data('position', {x: node.data('X')*30 + nx, y: ny + 32});\r\n      let [left, right] = getChildren(node);\r\n      if (left) setSep(left, nx, ny + 50);\r\n      if (right) setSep(right, nx, ny + 50);\r\n    }\r\n\r\n    const vw = this.vw, vh = this.vh;\r\n    setSep(this.cy.getElementById(this.treeRoot), vw / 2, vh / 4);\r\n    return true;\r\n  }\r\n\r\n  addEdge = (source: string, target: string) => {\r\n    this.cy.add({\r\n      group: 'edges',\r\n      data: {\r\n        id: edgeId(source, target), source, target,\r\n      }\r\n    });\r\n    this.cy.getElementById(target).data('prev', source);\r\n  }\r\n\r\n  removeEdge = (source: string, target: string) => {\r\n    this.cy.remove('edge[id=\"'+edgeId(source, target)+'\"]');\r\n  }\r\n\r\n  rotateLeft(x: CytoscapeElement){\r\n    const [y, C] = getChildren(x);\r\n    if(y == null) return;\r\n    const [A, B] = getChildren(y);\r\n    this.removeEdge(x.id(), y.id());\r\n    if(B){\r\n      this.removeEdge(y.id(), B.id());\r\n      this.addEdge(x.id(), B.id());\r\n      //B.data('prev', x.id());\r\n    }\r\n    const prev = x.data('prev');\r\n    this.addEdge(y.id(), x.id());\r\n\r\n    if(this.treeRoot !== x.id()){\r\n      this.removeEdge(prev, x.id());\r\n      this.addEdge(prev, y.id());\r\n      //y.data('prev', prev);\r\n    }else{\r\n      this.treeRoot = y.id();\r\n      console.log(this.treeRoot);\r\n    }\r\n    //x.data('prev', y.id());\r\n\r\n    x.data('height', Math.max(getHeight(B), getHeight(C))+1);\r\n    y.data('height', Math.max(getHeight(A), getHeight(x))+1);\r\n    x.data('balance', getHeight(C)-getHeight(B));\r\n    y.data('balance', getHeight(x) - getHeight(A));\r\n    this.pushStep([], 1000);\r\n  }\r\n\r\n rotateRight(y: CytoscapeElement){\r\n    const [A, x] = getChildren(y);\r\n    if(x == null) return;\r\n    const [B, C] = getChildren(x);\r\n    this.removeEdge(y.id(), x.id());\r\n    if(B){\r\n      this.removeEdge(x.id(), B.id());\r\n      this.addEdge(y.id(), B.id());\r\n      //B.data('prev', y.id());\r\n    }\r\n    const prev = y.data('prev');\r\n    this.addEdge(x.id(), y.id());\r\n    \r\n    if(this.treeRoot !== y.id()){\r\n      this.removeEdge(prev, y.id());\r\n      this.addEdge(prev, x.id());\r\n      //x.data('prev', prev);\r\n    }else{\r\n      this.treeRoot = x.id();\r\n      console.log(this.treeRoot);\r\n    }\r\n    //y.data('prev', x.id());\r\n\r\n    y.data('height', Math.max(getHeight(A), getHeight(B))+1);\r\n    x.data('height', Math.max(getHeight(y), getHeight(C))+1);\r\n    y.data('balance', getHeight(B) - getHeight(A));\r\n    x.data('balance', getHeight(C) - getHeight(y));\r\n    this.pushStep();\r\n  }\r\n  balance(start: CytoscapeElement){\r\n    if(!this.balanced) return;\r\n    let node = start;\r\n    /*\r\n    this.props.dispatch({\r\n      type: actions.CHANGE_PSEUDO,\r\n      payload: {\r\n        pseudo: balance,\r\n      }\r\n    });\r\n    */\r\n    //this.props.dispatch({type: actions.CHANGE_LINE, payload: { lines: []}});\r\n    this.pseudo = balance;\r\n    this.pushStep();\r\n\r\n    const recursion = () => {\r\n      const [left, right] = getChildren(node);\r\n      const lh = getHeight(left), rh = getHeight(right);\r\n      node.data('height', Math.max(lh, rh)+1);\r\n      const bal = rh - lh;\r\n      node.data('balance', bal);\r\n      if(bal === 2){\r\n        if(right.data('balance') >= 0){\r\n          this.pushStep([2,3]);\r\n          //this.props.dispatch({type: actions.CHANGE_LINE, payload: { lines: [2, 3]}});\r\n          this.rotateRight(node);\r\n        }else{\r\n          this.pushStep([6,7]);\r\n          //this.props.dispatch({type: actions.CHANGE_LINE, payload: { lines: [6, 7]}});\r\n          this.rotateLeft(right);\r\n          this.rotateRight(node);\r\n        }\r\n      }else if(bal === -2){\r\n        if(left.data('balance') <= 0){\r\n          this.pushStep([4,5]);\r\n          this.rotateLeft(node);\r\n        }else{\r\n          this.pushStep([8,9]);\r\n          this.rotateRight(left);\r\n          this.rotateLeft(node);\r\n        }\r\n      }else{\r\n        this.pushStep([1]);\r\n      }\r\n      if(node.id() !== this.treeRoot){\r\n        node.data('style', Styles.NODE);\r\n        node = this.cy.getElementById(node.data('prev'));\r\n        node.data('style', {\r\n          'background-color': 'red',\r\n          'color': 'black',\r\n        })\r\n        recursion();\r\n      }\r\n    }  \r\n    this.pushStep([1]);\r\n    //this.props.dispatch({type: actions.CHANGE_LINE, payload: {lines: [1]}});\r\n    \r\n    node.data('style', {\r\n      'background-color': 'red',\r\n      'color': 'black',\r\n    })\r\n    \r\n    //setTimeout(recursion, 1000/this.props.speed);\r\n    recursion();\r\n  }\r\n\r\n  insert(value: number) {\r\n    this.buffer = [];\r\n    let id = 0;\r\n    while(this.cy.getElementById(id.toString()).length > 0) id++;\r\n    let n = this.cy.nodes().length/2 + 1;\r\n    let newNode:(CytoscapeElement | null) = null;\r\n    this.pseudo = insert;\r\n    this.pushStep();\r\n\r\n    if(n > 1){\r\n      let insertion = (current: CytoscapeElement, prev: CytoscapeElement | null) => {\r\n        console.log(current);\r\n        \r\n        if(prev) prev.data('style',{\r\n          'color': 'black',\r\n          'background-color': 'white',\r\n        });\r\n        \r\n        if(current){\r\n          \r\n          current.data('style', {\r\n            'color': 'white',\r\n            'background-color': 'black',\r\n          });\r\n          \r\n          let [left, right] = getChildren(current);\r\n          if (value < current.data('value')) {\r\n            this.pushStep([3, 4]);\r\n            //this.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines: [3, 4]}});\r\n            //setTimeout(insertion, 1000/this.props.speed, left, current);  \r\n            insertion(left, current);\r\n          } else {\r\n            this.pushStep([5, 6]);\r\n            //this.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines: [5, 6]}});\r\n            //setTimeout(insertion, 1000/this.props.speed, right, current);\r\n            insertion(right, current);\r\n          }\r\n        }else{\r\n          //this.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines: [1, 2]}});\r\n          if(prev){\r\n            this.addNode(id.toString(), value, 0, 0, prev.data('position'));\r\n            newNode = this.cy.getElementById(id.toString());\r\n            if(newNode){\r\n              this.addEdge(prev.id(), newNode.id());\r\n              newNode.data(\r\n                'prev', prev.id(),\r\n              );\r\n            }\r\n          }\r\n          this.pushStep([1,2]);\r\n          //this.refreshLayout();\r\n          //setTimeout(resolve, 1000/this.props.speed, null);\r\n        } \r\n      }\r\n      insertion(this.cy.getElementById(this.treeRoot), null);\r\n    }else{\r\n      this.addNode(id.toString(), value);\r\n      newNode = this.cy.getElementById(id.toString());\r\n      this.treeRoot = id.toString();\r\n      this.pushStep([1,2]);\r\n    }\r\n    if(newNode) this.balance(newNode);\r\n    this.cy.nodes().forEach((node:CytoscapeElement) => {\r\n      if(!node.id().match('popper')) node.data('style', Styles.NODE);\r\n    })\r\n    this.pushStep();\r\n    return this.buffer;\r\n  }\r\n\r\n  search(value: number){\r\n    this.buffer = [];\r\n    this.pseudo = search;\r\n    this.pushStep();\r\n\r\n    let found = false;\r\n    const bsearch = (node: CytoscapeElement | null, prev: CytoscapeElement | null) => {\r\n      if(prev){\r\n        prev.data('style',{\r\n          'background-color': 'white',\r\n          'color': 'black',\r\n        });\r\n      }\r\n      if(node){\r\n        node.data('style', {\r\n          'background-color': 'black',\r\n          'color': 'white',\r\n        });\r\n        const [left, right] = getChildren(node);\r\n        if(node.data('value') === value){\r\n          node.data('style',{\r\n            'background-color': 'lightgreen',\r\n            'color': 'black',\r\n          });\r\n          found = true;\r\n          this.pushStep([2]);\r\n\r\n          //setTimeout(bsearch, 1000/this.props.speed, null, node);\r\n          bsearch(null, node);\r\n        }else if(node.data('value') < value){\r\n          this.pushStep([5,6]);\r\n          bsearch(right, node);\r\n        }else{\r\n          this.pushStep([3,4]);\r\n          bsearch(left, node);\r\n        }\r\n      }\r\n    }\r\n    if(this.treeRoot === ''){\r\n      this.pushStep([1]);\r\n    }else{\r\n      bsearch(this.cy.getElementById(this.treeRoot), null);\r\n      this.cy.nodes().forEach((node:CytoscapeElement) => {\r\n        if(!node.id().match('popper')) node.data('style', Styles.NODE);\r\n      });\r\n    }\r\n    this.pushStep();\r\n    return {found, buffer: this.buffer}\r\n  }\r\n\r\n  inorderSuccessor(node: CytoscapeElement){\r\n    this.pushStep();\r\n    let suc = node;\r\n    const getNext = (node: CytoscapeElement, prev: CytoscapeElement | null) => {\r\n      if(prev){\r\n        prev.data('style', {\r\n          'background-color': 'white',\r\n          'color': 'black',\r\n        });\r\n        suc = prev;\r\n      }\r\n      if(node){\r\n        node.data('style', {\r\n          'background-color': 'red',\r\n          'color' : 'black',\r\n        });\r\n        const left = getChildren(node)[0];\r\n        this.pushStep();\r\n        getNext(left, node);\r\n      }\r\n    }\r\n    let right = getChildren(node)[1];\r\n    node = right;\r\n    getNext(node, null);\r\n    return suc;\r\n  }\r\n  \r\n  removeNodePopper(node: string) {\r\n    this.cy.remove(this.cy.getElementById(node + '-popper'));\r\n\t}\r\n\r\n  removeNode = (node: CytoscapeElement) => {\r\n    let id = node.id();\r\n    this.cy.remove(node);\r\n    this.removeNodePopper(id);\r\n  }\r\n  \r\n  remove = (value: number) => {\r\n    this.buffer = [];\r\n    this.search(value);\r\n    this.pseudo = remove;\r\n    let node = this.cy.getElementById(this.treeRoot);\r\n    let found = false;\r\n    this.cy.nodes().forEach((ele:CytoscapeElement) => {\r\n      if(!ele.id().match('popper') && ele.data('value') === value){\r\n        node = ele;\r\n        found = true;\r\n      }\r\n    });\r\n    if(!found) return this.buffer;\r\n    let anc = '';\r\n\r\n    this.pushStep();\r\n\r\n    if(isLeaf(node)){\r\n      if(node.id() !== this.treeRoot) anc = node.data('prev');\r\n      this.removeNode(node);\r\n      this.pushStep([1]);\r\n      if(anc !== '') this.balance(this.cy.getElementById(anc));\r\n    }else if(node.outgoers('node').length === 1){\r\n      //this.props.dispatch({type: actions.CHANGE_LINE, payload: {lines: [3, 4]}});\r\n      if(node.id() === this.treeRoot){\r\n        this.treeRoot = node.outgoers('node')[0].id();\r\n        anc = this.treeRoot;\r\n        this.removeNode(node);\r\n        this.pushStep([3,4]);\r\n      }else{\r\n        let prev = '';\r\n        prev = node.data('prev');\r\n        const newChild = node.outgoers('node')[0];\r\n        newChild.data(prev);\r\n        this.removeNode(node);\r\n        this.addEdge(prev, newChild.id());\r\n        anc = newChild.id();\r\n        this.pushStep([3,4]);\r\n      }\r\n      this.balance(this.cy.getElementById(anc));\r\n    }else{\r\n      this.pushStep([6]);\r\n      const suc = this.inorderSuccessor(node);\r\n      console.log('NODE', node);\r\n      console.log('SUC', suc);\r\n      this.pushStep([7,8]);\r\n      node.data('value', suc.data('value'));\r\n      suc.data('value', value);\r\n      this.pushStep([7,8], 1000, false);\r\n\r\n      if(!isLeaf(suc)){\r\n        console.log(\"ERROR\");\r\n        console.log(getChildren(suc));\r\n        const right = getChildren(suc)[1];\r\n        right.data('prev', suc.data('prev'));\r\n        this.addEdge(suc.data('prev'), right.id());\r\n      }\r\n      anc = suc.data('prev');\r\n      this.removeNode(suc);\r\n      this.pushStep();\r\n      this.balance(this.cy.getElementById(anc))\r\n    }\r\n    this.cy.nodes().forEach((node:CytoscapeElement) => {\r\n      if(!node.id().match('popper')) node.data('style', Styles.NODE);\r\n    });\r\n\r\n    this.pushStep();\r\n    return this.buffer;\r\n  }\r\n}\r\n\r\nexport default BSTProcessor;","import React from 'react';\r\nimport actions from '../Actions/actions';\r\n\r\nimport downloadGif from '../utils/gifshot-utils'\r\nimport { CytoscapeElement, CytoEvent, AnimationStep } from '../Types/types';\r\nimport TreeBar from './TreeBar';\r\nimport InputModal from './InputModal';\r\nimport InputBSTModal from './InputBSTModal';\r\nimport { Row, Container } from 'react-bootstrap';\r\nimport PriorityQueue from '../Algorithms/DS/PriorityQueue'\r\n\r\nimport HeapArray from './HeapArray';\r\nimport { number, string } from 'prop-types';\r\n\r\nimport {isLeaf, getChildren, getHeight, lca, parseAVL} from '../utils/bst-utils';\r\nimport {edgeId} from '../utils/cy-utils';\r\nimport MediaRecorder from '../utils/MediaRecorder';\r\nimport BSTProcessor from '../Processing/bst-proccesing';\r\nconst Styles = require('../Styles/Styles');\r\nconst cytoscape = require('cytoscape');\r\nconst { connect } = require('react-redux');\r\nconst popper = require('cytoscape-popper');\r\n\r\ncytoscape.warnings(false);\r\ntype options = {\r\n  name: string,\r\n  positions: { [id: string]: { x: number, y: number } },\r\n  padding: number,\r\n  animate: boolean,\r\n  animationDuration: number,\r\n}\r\n\r\nlet layoutOptions: options = {\r\n  name: 'preset',\r\n  positions: {}, // map of (node id) => (position obj); or function(node){ return somPos; }\r\n  padding: 30, // padding on fit\r\n  animate: true, // whether to transition the node positions\r\n  animationDuration: 500, // duration of animation in ms if enabled\r\n};\r\n\r\ntype exportStep = {\r\n  elements: Array<Object>\r\n  lines: Array<number>,\r\n  duration: number,\r\n  pseudo?: Array<Object>,\r\n  treeRoot: string,\r\n  refresh?: boolean,\r\n}\r\n\r\ntype storeState = {\r\n  animation: string,\r\n  selection: Object,\r\n  speed: number,\r\n  paused: boolean,\r\n}\r\n\r\ntype Element = {\r\n  value: number,\r\n  class: string,\r\n}\r\n\r\ntype State = {\r\n  show: boolean,\r\n  showSearchModal: boolean,\r\n  showInsertModal: boolean,\r\n  showRemoveModal: boolean,\r\n}\r\n\r\ntype stackState = {\r\n  root: string,\r\n  elements: Array<Object>,\r\n}\r\n\r\ntype Props = {\r\n  action: string,\r\n  animation: boolean,\r\n  speed: number,\r\n  selection: {\r\n\t\ttype: string,\r\n\t\tid: string,\r\n\t\tweight: string,\r\n  }\r\n  balanced: boolean,\r\n  paused: boolean,\r\n  dispatch: (action: Object) => Object,\r\n}\r\n\r\nconst mapStateToProps = (state: storeState) => {\r\n  return {\r\n    animation: state.animation,\r\n    speed: state.speed,\r\n    selection: state.selection,\r\n    paused: state.paused,\r\n  }\r\n}\r\n\r\nclass BST extends React.Component<Props, State>{\r\n\r\n  _isMounted = false;\r\n  _mediaRecorder = new MediaRecorder();\r\n  layout = {\r\n    run: () => { },\r\n    stop: () => { },\r\n  };\r\n\r\n  treeRoot = \"\";\r\n\r\n  state = {\r\n    show: false,\r\n    showSearchModal: false,\r\n    showInsertModal: false,\r\n    showRemoveModal: false,\r\n  }\r\n\r\n  undo:Array<stackState>=[];\r\n  redo:Array<stackState>=[];\r\n\r\n  nodeStyle = Styles.NODE;\r\n  edgeStyle = Styles.EDGE;\r\n  BSTProcessor:any;\r\n  cy = cytoscape();\r\n\r\n  buffer:Array<exportStep> = [];\r\n  options: Array<{ name: string, run: () => void }>;\r\n\r\n  step = 0;\r\n  animationTimeout = 0;\r\n  constructor(props:Props){\r\n    super(props);\r\n    this._mediaRecorder = new MediaRecorder(props.dispatch);\r\n    const name = props.balanced ? 'AVL' : 'ABB';\r\n    this.options = [\r\n      {\r\n        name: 'Insertar',\r\n        run: () => this.setState({showInsertModal: true}),\r\n      },\r\n      {\r\n        name: 'Eliminar',\r\n        run: () => this.setState({showRemoveModal: true}),\r\n      },\r\n      {\r\n        name: 'Buscar',\r\n        run: () => this.setState({showSearchModal: true}),\r\n      },\r\n      {\r\n        name: 'Subir ' + name,\r\n        run: () => this.setState({show: true}),\r\n      },\r\n      {\r\n        name: 'Descargar ' + name,\r\n        run:  () => parseAVL(this.cy.getElementById(this.treeRoot)),\r\n      }\r\n    ];\r\n  }\r\n  \r\n  componentDidMount() {\r\n    this._isMounted = true;\r\n    this.initialize({ root: '', elements: []});\r\n    this.BSTProcessor = new BSTProcessor(this.cy.width(), this.cy.height(), this.props.balanced);\r\n    this.props.dispatch({\r\n      type: this.props.action,\r\n      payload:{\r\n        photo: () => this._mediaRecorder.takePicture(this.cy),\r\n        gif: () => this._mediaRecorder.takeGif(this.cy),\r\n        undo: this.handleUndo,\r\n        redo: this.handleRedo,\r\n        options: this.options,\r\n        rewind: this.handleRewind,\r\n        forward: this.handleForward,\r\n        pause: this.handlePauseContinue,\r\n        repeat: this.handleRepeat,\r\n        end: this.handleEnd,\r\n        remove: () => this.setState({showRemoveModal: true}),\r\n        clear: this.clearGraph,\r\n      }\r\n    })\r\n  }\r\n\r\n  initialize(state: stackState){\r\n    const {root, elements} = state;    \r\n\t\tlet edgeStyle = Styles.EDGE;\r\n    this.cy = cytoscape({\r\n\r\n      container: document.getElementById('canvas'), // container to render in\r\n\r\n      elements,\r\n\r\n      style: [ // the stylesheet for the graph\r\n        {\r\n          selector: 'node',\r\n          style: Styles.NODE,\r\n        },\r\n\r\n        {\r\n          selector: 'edge',\r\n          style: edgeStyle,\r\n        }\r\n      ],\r\n\r\n      headless: false,\r\n      styleEnabled: true,\r\n      hideEdgesOnViewport: false,\r\n      hideLabelsOnViewport: false,\r\n      userPanningEnabled: false,\r\n      zoomingEnabled: false,\r\n      textureOnViewport: false,\r\n      motionBlur: false,\r\n      motionBlurOpacity: 0.2,\r\n      pixelRatio: '1.0',\r\n      autoungrabify: true,\r\n\r\n    });\r\n    this.cy.nodes().forEach((node:CytoscapeElement) => {\r\n\t\t\tif(node.id().match('-popper')){\r\n\t\t\t\tnode.style(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t'z-index': 0,\r\n\t\t\t\t\t\t'border-width': 0,\r\n\t\t\t\t\t\t'font-size': 15,\r\n\t\t\t\t\t\t'width': 10,\r\n\t\t\t\t\t\t'height': 10,\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t}\r\n    });\r\n    this.treeRoot = root;\r\n\t\t//this.cy.on('resize', () => { this.layoutProcessing(); this.refreshLayout(false)});\r\n\t\tthis.layout = this.cy.elements().makeLayout({...layoutOptions, animate: false});\r\n\t\tthis.layout.run();\r\n\r\n    this.refreshLayout();\r\n  }\r\n  \r\n  handleUndo = () => {\r\n\t\tif(this.undo.length === 0){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif(this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.NO_SELECTION,\r\n\t\t});\r\n\r\n\t\tconst currentElements = this.exportGraph();\r\n\t\tlet state = this.undo.pop();\r\n\t\tif(state !== undefined){\r\n      this.redo.push({ root: this.treeRoot, elements: currentElements});\r\n      this.treeRoot = state.root;\r\n      this.loadGraph(state.elements);\r\n      this.BSTProcessor.loadGraph(state.elements, state.root);\r\n    }\r\n\t}\r\n\r\n\thandleRedo = () => {\r\n\t\tif(this.redo.length === 0){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif(this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.NO_SELECTION,\r\n\t\t});\r\n\r\n\t\tconst currentElements = this.exportGraph();\r\n\t\tlet state = this.redo.pop();\r\n\t\tif(state !== undefined){\r\n\t\t  this.undo.push({ root: this.treeRoot, elements: currentElements});\r\n      this.treeRoot = state.root;\r\n      this.loadGraph(state.elements);\r\n      this.BSTProcessor.loadGraph(state.elements, state.root);\r\n    }\r\n\t}\r\n\r\n  loadGraph(elements: Array<Object>, keep=false) {\r\n    const nodes = this.cy.nodes();\r\n    const positions:{[id:string]:{x:number,y:number}} = {};\r\n\t\tnodes.forEach((node: CytoscapeElement) => {\r\n      if(keep) positions[node.id()] = JSON.parse(JSON.stringify(node.data('position')));\r\n\t\t\tthis.cy.remove(node);\r\n\t\t})\r\n\r\n\t\tfor (let i = 0; i < elements.length; i++) {\r\n\t\t\tthis.cy.add(JSON.parse(JSON.stringify(elements[i])));\r\n\t\t}\r\n\r\n\t\tthis.cy.nodes().forEach((node: CytoscapeElement) => {\r\n\t\t\tconst style = node.data('style');\r\n\t\t\tif (style != null) node.style(style);\r\n      const position = node.data('position');\r\n      if(keep && positions[node.id()]) node.position({x:positions[node.id()].x, y:positions[node.id()].y});\r\n\t\t\t//console.log(\"PREV\", node.position());\r\n\t\t\t//console.log(\"NEXT\", position);\r\n\t\t\tif (position != null) {\r\n\t\t\t\tlayoutOptions.positions[node.id()] = JSON.parse(JSON.stringify(position));\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tthis.cy.edges().forEach((edge: CytoscapeElement) => {\r\n\t\t\tconst style = edge.data('style');\r\n\t\t\tif (style != null) edge.style(style);\r\n\t\t})\r\n\r\n    this.refreshLayout();\r\n\t}\r\n\r\n\texportGraph(){\r\n\t\tconst elements:Array<Object> = [];\r\n\t\tthis.cy.nodes().forEach((node:CytoscapeElement) => {\r\n\t\t\telements.push({\r\n\t\t\t\tgroup: 'nodes',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: node.id(),\r\n          value: node.data('value'),\r\n          prev: node.data('prev'),\r\n          height: node.data('height'),\r\n          balance: node.data('balance'),\r\n          style: node.style(),\r\n          position: { x: node.position().x, y: node.position().y }\r\n\t\t\t\t},\r\n\t\t\t\tposition: {\r\n\t\t\t\t\tx: node.position().x,\r\n\t\t\t\t\ty: node.position().y,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t\tthis.cy.edges().forEach((edge:CytoscapeElement) => {\r\n\t\t\telements.push({\r\n\t\t\t\tgroup: 'edges',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: edge.id(),\r\n\t\t\t\t\tsource: edge.source().id(), target: edge.target().id(),\r\n\t\t\t\t\tweight: edge.data('weight'),\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t\treturn elements;\r\n\t}\r\n\r\n\tpushState(){\r\n    console.log('pushed');\r\n\t\tthis.redo = [];\r\n\t\tthis.undo.push({root: this.treeRoot, elements: this.exportGraph()});\r\n  }\r\n  \r\n  handleRewind = () => { \r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n    this.step = Math.max(this.step-1, 0);\r\n    const {treeRoot, elements, pseudo, lines} = this.buffer[this.step];\r\n    this.treeRoot = treeRoot;\r\n    this.loadGraph(elements, true);\r\n    if(pseudo) this.props.dispatch({type: actions.CHANGE_PSEUDO, payload: { pseudo }});\r\n    if(lines) this.props.dispatch({type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandleForward = () => { \r\n\t\tclearTimeout(this.animationTimeout);\r\n    this.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n    this.step = Math.min(this.step+1, this.buffer.length-1);\r\n    const {treeRoot, elements, pseudo, lines} = this.buffer[this.step];\r\n    this.treeRoot = treeRoot;\r\n    this.loadGraph(elements, true);\r\n    if(pseudo) this.props.dispatch({type: actions.CHANGE_PSEUDO, payload: { pseudo }});\r\n    if(lines) this.props.dispatch({type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandleRepeat = () => {\r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n    this.step = 0;\r\n    const {treeRoot, elements, pseudo, lines} = this.buffer[this.step];\r\n    this.treeRoot = treeRoot;\r\n    this.loadGraph(elements, true);\r\n    if(pseudo) this.props.dispatch({type: actions.CHANGE_PSEUDO, payload: { pseudo }});\r\n    if(lines) this.props.dispatch({type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n  handleEnd = () => {\r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = this.buffer.length - 1;\r\n\t\tconst {treeRoot, elements, pseudo, lines} = this.buffer[this.step];\r\n    this.treeRoot = treeRoot;\r\n    this.loadGraph(elements, true);\r\n    if(pseudo) this.props.dispatch({type: actions.CHANGE_PSEUDO, payload: { pseudo }});\r\n    if(lines) this.props.dispatch({type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\t\r\n\thandlePauseContinue = () => {\r\n\t\tif(!this.props.paused){\r\n\t\t\tclearTimeout(this.animationTimeout);\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_PAUSE,\r\n\t\t\t})\r\n\t\t}else{\r\n\t\t\tnew Promise(resolve => {\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.ANIMATION_CONTINUE\r\n\t\t\t\t})\r\n\t\t\t\tresolve();\r\n\t\t\t}).then(() => this.animation());\r\n\t\t}\r\n  }\r\n  \r\n  componentWillUnmount(){\r\n    this.props.dispatch({\r\n      type: actions.ANIMATION_END,\r\n    });\r\n    clearTimeout(this.animationTimeout);\r\n    this._isMounted = false;\r\n\r\n  }\r\n  componentDidUpdate(prevProps:Props){\r\n    layoutOptions.animationDuration = 500/this.props.speed;\r\n\r\n    if (prevProps.animation && !this.props.animation) {\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.CHANGE_OPTIONS,\r\n\t\t\t\tpayload: { options: this.options }\r\n\t\t\t});\r\n\t\t} else if (!prevProps.animation && this.props.animation) {\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.CHANGE_OPTIONS,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\toptions: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tname: 'Volver a edicion',\r\n\t\t\t\t\t\t\trun: () => {\r\n                clearTimeout(this.animationTimeout);\r\n                this.loadGraph(this.buffer[this.buffer.length-1].elements);\r\n                this.treeRoot = this.buffer[this.buffer.length-1].treeRoot;\r\n                this.props.dispatch({ type: actions.ANIMATION_END });\r\n                console.log(getChildren(this.cy.getElementById(this.treeRoot)));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n  }\r\n\r\n  removeNodePopper(node: string) {\r\n    this.cy.remove(this.cy.getElementById(node + '-popper'));\r\n\t}\r\n\r\n  removeNode = (node: CytoscapeElement) => {\r\n    let id = node.id();\r\n    this.cy.remove(node);\r\n    this.removeNodePopper(id);\r\n  }\r\n  \r\n  removeEdge = (source: string, target: string) => {\r\n    this.cy.remove('edge[id=\"'+edgeId(source, target)+'\"]');\r\n  }\r\n\r\n  createPopper(nodeId: string){\r\n\t\tconst ele = this.cy.getElementById(nodeId);\r\n\t\tconst position = ele.position();\r\n\t\tthis.cy.add({\r\n\t\t\tgroup: 'nodes',\r\n\t\t\tdata: {id : nodeId+'-popper', value: 0},\r\n\t\t\tposition: {\r\n\t\t\t\tx: position.x,\r\n\t\t\t\ty: position.y+32,\r\n\t\t\t},\r\n\t\t\tstyle: {\r\n\t\t\t\t'z-index': 0,\r\n\t\t\t\t'border-width': 0,\r\n\t\t\t\t'font-size': 15,\r\n\t\t\t\t'width': 10,\r\n\t\t\t\t'height': 10,\r\n\t\t\t}\r\n\t\t});\r\n  }\r\n  \r\n  addNode = (id: string, value: number, height:number=0, balance:number=0, position:{x:number, y:number}={x:0,y:0}) => {\r\n    this.cy.add({\r\n      group: 'nodes',\r\n      data: {\r\n        id,\r\n        value,\r\n        height,\r\n        balance,\r\n      },\r\n      position: {\r\n        x: position.x,\r\n        y: position.y,\r\n      }\r\n    });\r\n    this.createPopper(id);\r\n  }\r\n  \r\n  addEdge = (source: string, target: string) => {\r\n    this.cy.add({\r\n      group: 'edges',\r\n      data: {\r\n        id: edgeId(source, target), source, target,\r\n      }\r\n    });\r\n    this.cy.getElementById(target).data('prev', source);\r\n  }\r\n\r\n  isLeaf(node: CytoscapeElement){\r\n    return node.outgoers('node').length === 0;\r\n  }\r\n\r\n  getChildren(node: CytoscapeElement){\r\n    let left = null, right = null;\r\n    let outgoers = node.outgoers('node');\r\n\r\n    if (outgoers.length >= 1) left = outgoers[0];\r\n    if (outgoers.length === 2) right = outgoers[1];\r\n    if (left != null && right != null && left.data('value') > right.data('value')) {\r\n      [left, right] = [right, left];\r\n    }else if(left != null && left.data('value') > node.data('value')){\r\n      [left, right] = [right, left];\r\n    }else if(right != null && right.data('value') < node.data('value')){\r\n      [left, right] = [right,left];\r\n    }\r\n\r\n    return [left, right];\r\n  }\r\n  refreshLayout(animate:boolean = true) {\r\n    this.layout.stop();\r\n    this.layout = this.cy.elements().makeLayout({...layoutOptions, animate});\r\n    this.layout.run();\r\n  }\r\n\r\n  propagate(node: CytoscapeElement | null, val: number){\r\n    if(node == null) return;\r\n    node.data('X', node.data('X') + val);\r\n    const [left, right] = getChildren(node);\r\n    if(left) this.propagate(left, val);\r\n    if(right) this.propagate(right, val);\r\n  }\r\n  layoutProcessing() {\r\n\r\n    if(this.treeRoot === '') return;\r\n    const levels:{[lvl: number]: Array<string>} = {};\r\n\r\n    const dfs = (node: CytoscapeElement, depth: number, x: number) => {\r\n      console.log(node.data('value'));\r\n      node.data('depth', depth);\r\n      node.data('X', x);\r\n      \r\n      if(levels[depth] === undefined) levels[depth] = Array();\r\n      levels[depth].push(node.id());\r\n\r\n      let [left, right] = getChildren(node);\r\n      let hleft = 0, hright = 0;\r\n      if(left) hleft = dfs(left, depth+1, x-1);\r\n      if(right) hright = dfs(right, depth+1, x+1);\r\n\r\n      let bal = hright - hleft;\r\n      let popper = this.cy.getElementById(node.id() + '-popper');\r\n      popper.data('value', bal);\r\n      return Math.max(hleft, hright)+1;\r\n    }\r\n\r\n    let height = dfs(this.cy.getElementById(this.treeRoot), 0, 0);\r\n    let iter = 0;\r\n    while(iter++ < 1000){\r\n      let correct = true;\r\n      for(let i = height-1; i >= 0; i--){\r\n        const current = levels[i];\r\n        for(let j = 0; j < current.length - 1; j++){\r\n          const a = this.cy.getElementById(current[j]);\r\n          const b = this.cy.getElementById(current[j+1]);\r\n          if(a.data('X') + 1 >= b.data('X')){\r\n            const anc = lca(this.cy, a, b);\r\n            const [left, right] = getChildren(anc);\r\n            const dif = Math.max(a.data('X') - b.data('X'), 1);\r\n            this.propagate(left, -dif);\r\n            this.propagate(right, dif);\r\n            correct = false;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      if(correct) break;\r\n    }\r\n    if(iter === 1001){\r\n      console.error('ALERT, INFINITE LOOP AVOIDED');\r\n    }\r\n\r\n    const setSep = (node: CytoscapeElement, nx: number, ny: number) => {\r\n      layoutOptions.positions[node.id()] = { x: node.data('X')*30 + nx, y: ny }\r\n      layoutOptions.positions[node.id()+'-popper'] =  { x: node.data('X')*30 + nx, y: ny + 32};\r\n      let [left, right] = getChildren(node);\r\n      if (left) setSep(left, nx, ny + 50);\r\n      if (right) setSep(right, nx, ny + 50);\r\n    }\r\n\r\n    const vw = this.cy.width(), vh = this.cy.height();\r\n    setSep(this.cy.getElementById(this.treeRoot), vw / 2, vh / 4);\r\n    return true;\r\n  }\r\n\r\n  animation(){\r\n\t\tlet step = () => {\r\n      if (!this.props.animation) return;\r\n\t\t\tif (this.step === this.buffer.length) {\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.FINISHED_ALGORITHM_SUCCESS,\r\n        });\r\n        this.props.dispatch({\r\n          type: actions.ANIMATION_PAUSE,\r\n        })\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n      const { elements, lines, duration, pseudo, treeRoot, refresh} = this.buffer[this.step++];\r\n      if(this.props.paused) return;\r\n      this.loadGraph(elements, refresh);\r\n      if(pseudo) this.props.dispatch({ type: actions.CHANGE_PSEUDO, payload: { pseudo}});\r\n      if (lines) this.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines } });\r\n      if(treeRoot != null) this.treeRoot = treeRoot;\r\n\t\t\tconsole.log(duration);\r\n\t\t\tthis.animationTimeout = window.setTimeout(step, ((duration === undefined) ? 1000 : duration) / (this.props.speed));\r\n\t\t}\r\n\t\tstep();\r\n  }\r\n\r\n  insert(value=0){\r\n    const nodes = this.cy.nodes();\r\n    for(let i = 0; i < nodes.length; i++){\r\n      if(nodes[i].id().match('popper')) continue;\r\n      if(nodes[i].data('value') === value){\r\n        this.props.dispatch({\r\n          type: actions.AVL_ELEMENT_ALREADY_INFO,\r\n        })\r\n        return;\r\n      }\r\n    }\r\n    this.pushState();\r\n    this.buffer = this.BSTProcessor.insert(value);\r\n    this.step = 0;\r\n    new Promise((resolve, reject) => {\r\n      this.props.dispatch({type: actions.ANIMATION_START});\r\n      resolve();\r\n    }).then(() => this.animation());\r\n  }\r\n\r\n  search(value=0){\r\n    let {found, buffer} = this.BSTProcessor.search(value);\r\n    this.buffer = buffer;\r\n    console.log(buffer);\r\n    this.step = 0;\r\n    new Promise((resolve, reject) => {\r\n      this.props.dispatch({type: actions.ANIMATION_START});\r\n      resolve();\r\n    }).then(() => this.animation());\r\n  }\r\n\r\n  remove(value=0){ \r\n    this.pushState();\r\n    this.buffer = this.BSTProcessor.remove(value);\r\n    console.log(this.buffer);\r\n    this.step = 0;\r\n    new Promise((resolve, reject) => {\r\n      this.props.dispatch({type: actions.ANIMATION_START});\r\n      resolve();\r\n    }).then(() => this.animation());\r\n  }\r\n\r\n  handleClose = (update: boolean = false) => {\r\n    this.setState({show: false});\r\n\r\n    console.log(update);\r\n    if(update){\r\n      this.treeRoot = \"0\";\r\n      this.layoutProcessing();\r\n      this.refreshLayout();\r\n      this.BSTProcessor.loadGraph(this.exportGraph(), \"0\");\r\n    }\r\n  }\r\n\r\n  clearGraph = () => {\r\n    if(this.props.animation){\r\n      this.props.dispatch({\r\n        type: actions.ANIMATION_RUNNING_ERROR,\r\n      });\r\n      return;\r\n    }\r\n    const nodes = this.cy.nodes();\r\n    if(nodes.length === 0) return;\r\n    this.pushState();\r\n    nodes.forEach((node:CytoscapeElement) => this.cy.remove(node));\r\n    this.BSTProcessor.loadGraph([], '');\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <InputModal \r\n          show={this.state.showInsertModal} \r\n          handleClose={() => this.setState({showInsertModal: false})}\r\n          callback={(v:number) => this.insert(v)}\r\n        />\r\n        <InputModal \r\n          show={this.state.showSearchModal} \r\n          handleClose={() => this.setState({showSearchModal: false})}\r\n          callback={(v:number) => this.search(v)}\r\n        />\r\n        <InputModal\r\n          show={this.state.showRemoveModal}\r\n          handleClose={() => this.setState({showRemoveModal: false})}\r\n          callback={(v:number) => this.remove(v)}\r\n        />\r\n        <InputBSTModal \r\n          show={this.state.show} \r\n          handleClose={this.handleClose} \r\n          addNode={this.addNode} \r\n          addEdge={this.addEdge} \r\n          clearGraph={this.clearGraph}\r\n          balanced={this.props.balanced}\r\n        />\r\n        <div id=\"canvas\" className='standard-struct'/>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(BST);","class Queue {\r\n    _data = [];\r\n\r\n    constructor(){\r\n\r\n    }\r\n\r\n    isEmpty(){\r\n        return this._data.length === 0;\r\n    }   \r\n\r\n    front(){\r\n        if(this.isEmpty()){\r\n            return null;\r\n        }\r\n        return this._data[0];\r\n    }\r\n\r\n    push(ele){\r\n        this._data.push(ele);\r\n    }\r\n\r\n    pop(){\r\n        if(!this.isEmpty()){\r\n            this._data.shift();\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default Queue;","import Queue from './DS/Queue'\r\nconst Styles = require('../Styles/Styles');\r\nconst BFS = param => {\r\n\tconst { cy, selection } = param;\r\n\tconst source = selection.id;\r\n\r\n\tlet color = {}, level = {};\r\n\tlet q = new Queue();\r\n\r\n\tlet commands = [{lines: [1,2], duration: 1000}];\r\n\tq.push(source);\r\n\tlevel[source] = 0;\r\n\tcommands.push(\r\n\t\t{\r\n\t\t\teles: [source],\r\n\t\t\tstyle: [Styles.NODE_GRAY],\r\n\t\t\tinst: [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'update_level',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tid: source,\r\n\t\t\t\t\t\tvalue: 0,\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tlines: [3,4],\r\n\t\t}\r\n\t)\r\n\t\r\n\twhile (!q.isEmpty()) {\r\n\t\tcommands.push({ lines: [5]});\r\n\t\tlet current = cy.getElementById(q.front()); q.pop();\r\n\t\tif (color[current] === 'black') continue;\r\n\t\tcolor[current.id()] = 'black';\r\n\t\tcommands.push(\r\n\t\t\t{\r\n\t\t\t\teles: [current.id()],\r\n\t\t\t\tstyle: [Styles.NODE_BLACK],\r\n\t\t\t\tlines: [6,7],\r\n\t\t\t\tinst: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: 'shift',\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t}\r\n\t\t);\r\n\t\tcurrent.outgoers('edge').forEach(\r\n\t\t\tedge => {\r\n\t\t\t\tlet next = edge.target();\r\n\t\t\t\tcommands.push(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\teles: [edge.id()],\r\n\t\t\t\t\t\tstyle: [\r\n\t\t\t\t\t\t\tStyles.EDGE_TRAVERSE \r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\tlines: [8],\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{ lines: [9]}\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (color[next.id()] === undefined) {\r\n\t\t\t\t\tcolor[next.id()] = 'gray';\r\n\t\t\t\t\tlevel[next.id()] = level[current.id()]+1;\r\n\t\t\t\t\tcommands.push(\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\teles: [next.id()],\r\n\t\t\t\t\t\t\tstyle: [Styles.NODE_GRAY],\r\n\t\t\t\t\t\t\tinst: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tname: 'update_level',\r\n\t\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\t\tid: next.id(),\r\n\t\t\t\t\t\t\t\t\t\tvalue: level[next.id()],\r\n\t\t\t\t\t\t\t\t\t\tclass: 'heap-default',\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\tlines: [10,11]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\teles: [edge.id()],\r\n\t\t\t\t\t\t\tstyle: [\r\n\t\t\t\t\t\t\t\tStyles.EDGE_VISITED,\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\tduration: 10,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t\tq.push(next.id());\r\n\t\t\t\t}else{\r\n\t\t\t\t\tcommands.push({\r\n\t\t\t\t\t\teles: [edge.id()],\r\n\t\t\t\t\t\tstyle: [\r\n\t\t\t\t\t\t\tStyles.EDGE_VISITED,\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\tduration: 10,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\treturn commands;\r\n}\r\n\r\nexport default BFS;\r\n","const Styles = require('../Styles/Styles');\r\nconst dfs = (cy, source, depth, commands, visited) => {\r\n\r\n\tvisited[source.id()] = true;\r\n\t\r\n\tcommands.push({\r\n\t\teles: [source.id()],\r\n\t\tstyle: [Styles.NODE_GRAY],\r\n\t\tinst: [\r\n\t\t\t{\r\n\t\t\t\tname: 'update_level',\r\n\t\t\t\tdata: {id: source.id(), value: depth}\r\n\t\t\t}\r\n\t\t],\r\n\t\tlines: [1],\r\n\t});\r\n\tsource.outgoers('edge').forEach(\r\n\t\tedge => {\r\n\t\t\tlet next = edge.target();\r\n\t\t\tcommands.push(\r\n\t\t\t\t{\r\n\t\t\t\t\teles: [edge.id()],\r\n\t\t\t\t\tstyle: [Styles.EDGE_TRAVERSE],\r\n\t\t\t\t\tlines: [2],\r\n\t\t\t\t},\r\n\t\t\t);\r\n\t\t\tif (visited[next.id()] === undefined) {\r\n\t\t\t\tcommands.push(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlines: [3,4],\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\teles: [edge.id()],\r\n\t\t\t\t\t\tstyle: [Styles.EDGE_VISITED],\r\n\t\t\t\t\t\tduration: 10,\r\n\t\t\t\t\t},\r\n\t\t\t\t);\r\n\t\t\t\tdfs(cy, next, depth+1, commands, visited);\r\n\t\t\t}else{\r\n\t\t\t\tcommands.push({\r\n\t\t\t\t\teles: [edge.id()],\r\n\t\t\t\t\tstyle: [Styles.EDGE_VISITED],\r\n\t\t\t\t\tduration: 10,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n\tcommands.push({\r\n\t\teles: [source.id()],\r\n\t\tstyle: [Styles.NODE_BLACK],\r\n\t\tinst: [{name: 'pop'}],\r\n\t\tlines: [5],\r\n\t})\r\n}\r\nconst DFS = param => {\r\n\tconst { cy, selection } = param;\r\n\tconst source = selection.id;\r\n\r\n\tlet commands = [\r\n\t\t{lines: [8,9,10]},\r\n\t];\r\n\tlet visited = {};\r\n\tdfs(cy, cy.getElementById(source), 0, commands, visited);\r\n\treturn commands;\r\n}\r\n\r\nexport default DFS;","import PriorityQueue from './DS/PriorityQueue';\r\nconst Styles = require('../Styles/Styles');\r\nconst Dijkstra = (param) => {\r\n  const { cy, selection } = param;\r\n  const source = selection.id;\r\n  let comp = (x, y) => {\r\n    return x.distance < y.distance;\r\n  }\r\n  let eq = (x, y) => {\r\n    return x.distance === y.distance;\r\n  }\r\n  let pq = new PriorityQueue(comp, eq);\r\n  let dist = {};\r\n  let visited = {};\r\n  const commands = [];\r\n  commands.push({lines: [1,2]});\r\n  dist[source] = 0;\r\n  pq.push({\r\n    distance: 0,\r\n    id: source,\r\n  });\r\n\r\n  commands.push(\r\n    {\r\n      eles: cy.nodes().map(x => x.id()),\r\n      distance: Array(cy.nodes().length).fill('\\u221E'),\r\n      duration: 1000,\r\n      inst: [{\r\n        name: 'fill',\r\n        data: {\r\n          value: '\\u221E',\r\n          class: 'heap-default',\r\n        }\r\n      }],\r\n      lines: [3],\r\n    }\r\n  )\r\n\r\n  while (!pq.isEmpty()) {\r\n    commands.push({lines: [4]});\r\n    let { id, distance } = pq.top(); pq.pop();\r\n    if (visited[id]) continue;\r\n    visited[id] = true;\r\n    let current = cy.getElementById(id);\r\n    commands.push(\r\n      {\r\n        eles: [id],\r\n        distance: [distance.toString()],\r\n        style: [Styles.NODE_RED],\r\n        duration: 1000,\r\n        inst: [{\r\n          name: 'change_element',\r\n          position: parseInt(current.data('value'), 10) - 1,\r\n          data: {\r\n            value: distance.toString(),\r\n            class: 'heap-wrong',\r\n          }\r\n        }],\r\n        lines: [5],\r\n      }\r\n    )\r\n    current.outgoers('edge').forEach(\r\n      edge => {\r\n        let next = edge.target(), weight = edge.data('weight');\r\n        let nextId = next.id();\r\n        commands.push(\r\n          {\r\n            eles: [edge.id()],\r\n            style: [Styles.EDGE_TRAVERSE],\r\n            lines: [6],\r\n            duration: 1000,\r\n          }\r\n        )\r\n        let prevDistance = dist[nextId];\r\n        if (prevDistance === undefined) prevDistance = 'inf';\r\n        if (dist[nextId] === undefined || distance + weight < dist[nextId]) {\r\n          dist[nextId] = distance + weight;\r\n          commands.push({\r\n            lines: [7],\r\n            eles: [nextId],\r\n            style: [Styles.NODE_GRAY],\r\n          });\r\n          pq.push({\r\n            distance: distance + weight,\r\n            id: nextId,\r\n          })\r\n          if (prevDistance !== 'inf') {\r\n            commands.push(\r\n              {\r\n                eles: [nextId],\r\n                distance: [(distance + weight) + '\\u2264' + prevDistance],\r\n                duration: 1000,\r\n              }\r\n            );\r\n          }\r\n          commands.push(\r\n            {\r\n              eles: [nextId],\r\n              distance: [distance + weight],\r\n              duration: 1000,\r\n              lines: [8,9],\r\n              inst: [{\r\n                name: 'change_element',\r\n                position: parseInt(next.data('value'), 10)-1,\r\n                data: {\r\n                  value: (distance + weight).toString(),\r\n                  class: 'heap-default',\r\n                },\r\n              }]\r\n            }\r\n          )\r\n        } else {\r\n          commands.push(\r\n            {\r\n              eles: [nextId],\r\n              distance: [prevDistance + '\\u2264' + (distance + weight)],\r\n              duration: 1000,\r\n              lines: [8],\r\n            },\r\n            {\r\n              eles: [nextId],\r\n              distance: [prevDistance],\r\n              duration: 1000,\r\n            }\r\n          )\r\n        }\r\n        commands.push(\r\n          {\r\n            eles: [edge.id()],\r\n            style: [Styles.EDGE_VISITED],\r\n            duration: 10,\r\n          }\r\n        )\r\n      }\r\n    )\r\n    commands.push(\r\n      {\r\n        eles: [id],\r\n        distance: [distance.toString()],\r\n        style: [Styles.NODE_BLACK],\r\n        duration: 1000,\r\n        inst: [{\r\n          name: 'change_element',\r\n          position: parseInt(current.data('value'), 10) - 1,\r\n          data: {\r\n            value: distance.toString(),\r\n            class: 'heap-default',\r\n          }\r\n        }]\r\n      }\r\n    )\r\n  }\r\n\r\n  return commands;\r\n}\r\n\r\nexport default Dijkstra;","const Styles = require('../Styles/Styles');\r\n\r\nconst BellmanFord = (param) => {\r\n  const { cy, selection } = param;\r\n  const source = selection.id;\r\n\r\n  let dist = {};\r\n  let pre = {};\r\n  const commands = [];\r\n  commands.push(\r\n    {\r\n      eles: cy.nodes().map(x => x.id()),\r\n      distance: Array(cy.nodes().length).fill('\\u221E'),\r\n      duration: 1000,\r\n      lines: [1,2],\r\n    }\r\n  )\r\n\r\n  dist[source] = 0;\r\n  commands.push(\r\n    {\r\n      eles: [source],\r\n      distance: [0],\r\n      lines: [3],\r\n    }\r\n  );\r\n    \r\n  const n = cy.nodes().length/2;\r\n  const edges = cy.edges();\r\n  for(let i = 0; i < n - 1; i++){\r\n    for(let j = 1; j <= n; j++){\r\n      const currentId = 'node-'+j;\r\n      const current = cy.getElementById(currentId);\r\n      current.outgoers('edge').forEach(edge => {\r\n        const u = edge.data('source'),\r\n              v = edge.data('target'),\r\n              w = edge.data('weight');\r\n        const edgeId = edge.id();\r\n        commands.push(\r\n          {\r\n            eles: [u, v, edgeId],\r\n            style: [Styles.NODE_BLACK, Styles.NODE_BLACK, Styles.EDGE_SELECTED],\r\n            lines: [5],\r\n          });\r\n        if(dist[u] != null){\r\n          const prev = (dist[v] == null) ? '\\u221E' : dist[v].toString();\r\n          if(dist[v] == null || dist[u] + w < dist[v]){\r\n            commands.push({ eles: [v], distance: [(dist[u]+w).toString()+'\\u003C'+prev], lines: [6,7]});\r\n            dist[v] = dist[u] + w;\r\n            pre[v] = {id: edgeId, u, v};\r\n            commands.push({ eles: [v], distance: [dist[u] + w]});\r\n          }else{\r\n            commands.push({ eles: [v], distance: [prev + '\\u2264' + (dist[u]+w).toString()]});\r\n            commands.push({ eles: [v], distance: [prev]});\r\n          }\r\n        }\r\n        commands.push(\r\n          {\r\n            eles: [u, v, edgeId],\r\n            style: [Styles.NODE, Styles.NODE, Styles.EDGE_DIRECTED],\r\n          });\r\n      });\r\n    };\r\n  }\r\n\r\n  let negativeCycle = false;\r\n  for(let j = 1; j <= n && !negativeCycle; j++){\r\n    const currentId = 'node-'+j;\r\n    const current = cy.getElementById(currentId);\r\n    current.outgoers('edge').forEach(edge => {\r\n      if(negativeCycle) return;\r\n      let   u = edge.data('source'),\r\n            v = edge.data('target'),\r\n            w = edge.data('weight');\r\n      const edgeId = edge.id();\r\n      commands.push(\r\n        {\r\n          eles: [u, v, edgeId],\r\n          style: [Styles.NODE_BLACK, Styles.NODE_BLACK, Styles.EDGE_SELECTED],\r\n          lines: [9],\r\n        });\r\n      if(dist[u] != null){\r\n        if(dist[u] + w < dist[v]){\r\n          const eles = [], style = [];\r\n          const visited = {};\r\n          while(true){\r\n            visited[u] = true;\r\n            const prev = pre[u];\r\n            eles.push(prev.id, prev.u);\r\n            style.push(Styles.EDGE_SELECTED, Styles.NODE_RED);\r\n            u = prev.u;\r\n            if(visited[u]) break;\r\n          }\r\n          commands.push(\r\n            {\r\n              eles, \r\n              style,\r\n              inst: [{name:'negative_cycle'}],\r\n              lines: [10,11],\r\n            }\r\n          );\r\n          negativeCycle = true;\r\n          return;\r\n        }\r\n      }\r\n      commands.push(\r\n        {\r\n          eles: [u, v, edgeId],\r\n          style: [Styles.NODE, Styles.NODE, Styles.EDGE_DIRECTED],\r\n        });\r\n    });\r\n  };\r\n\r\n  return commands;\r\n}\r\n\r\nexport default BellmanFord;","import PriorityQueue from './DS/PriorityQueue';\r\n\r\nconst Styles = require('../Styles/Styles');\r\nconst Prim = param => {\r\n  const {cy} = param;\r\n\r\n  const nodes = cy.nodes();\r\n  const edges = cy.edges();\r\n  const dist = {};\r\n  const part_of_tree = {};\r\n  const pq = new PriorityQueue((x, y) => x.weight <= y.weight);\r\n  const commands = [];\r\n  commands.push(\r\n    {\r\n      eles: nodes.map(x => x.data('id')),\r\n      distance: Array(cy.nodes().length).fill('\\u221E'),\r\n      lines: [1,2,3,4,5],\r\n    },\r\n    {\r\n      eles: edges.map(x => x.data('id')),\r\n      style: Array(cy.edges().length).fill(Styles.EDGE_NO_MST),\r\n      duration: 1000,\r\n      lines: [1,2,3,4,5],\r\n    }\r\n  );\r\n  \r\n  nodes.forEach(node => {\r\n    if(node.id().match('-popper')) return;\r\n    pq.push({target: node.id(), edgeId: 'NONE', weight: Infinity})\r\n  })\r\n  let mst = 0;\r\n  while(!pq.isEmpty()){\r\n    const edge = pq.top(); pq.pop() ;\r\n    const{target, edgeId, weight} = edge;\r\n    if(part_of_tree[target]) continue;\r\n    if(weight === Infinity) dist[target] = 0;\r\n    commands.push({lines: [6], duration: 1000});\r\n\r\n    part_of_tree[target] = true;\r\n\r\n    const current = cy.getElementById(target);\r\n    commands.push(\r\n      {\r\n        eles: [target],\r\n        style: [\r\n          Styles.NODE_RED,\r\n        ],\r\n        duration: 1000,\r\n        lines: [7,8],\r\n        inst: [{\r\n          name: 'change_element',\r\n          position: parseInt(current.data('value'), 10) - 1,\r\n          data: {\r\n            value: dist[target].toString(),\r\n            class: 'heap-wrong',\r\n          }\r\n        }],\r\n      },\r\n    );\r\n\r\n    if(edgeId !== 'NONE'){\r\n      commands.push({\r\n        eles: [edgeId],\r\n        style: [Styles.EDGE_MST],\r\n        lines: [9, 10],\r\n      });\r\n      part_of_tree[edgeId] = true;\r\n    }\r\n\r\n    mst += weight;\r\n    const neighborhood = cy.getElementById(target).connectedEdges();\r\n\r\n    neighborhood.forEach(edge => {\r\n      if(part_of_tree[edge.id()]) return;\r\n\r\n      let t = edge.target().id();\r\n      if(t === target) t = edge.source().id();\r\n      if(part_of_tree[t]) return;\r\n      let w = edge.data('weight');\r\n      commands.push({\r\n        eles: [edge.id()],\r\n        style: [Styles.EDGE_TRAVERSE],\r\n        lines: [11],\r\n      });\r\n      commands.push({lines: [12]});\r\n      if(dist[t] === undefined || dist[t] > w){\r\n        commands.push({\r\n          lines: [13,14],\r\n          eles: [t],\r\n          style: [Styles.NODE_GRAY],\r\n          distance: [w],\r\n          inst: [{\r\n            name: 'change_element',\r\n            position: parseInt(cy.getElementById(t).data('value'), 10) - 1,\r\n            data: {\r\n              value: w.toString(),\r\n              class: 'heap-default',\r\n            }\r\n          }],\r\n        });\r\n        dist[t] = w;\r\n        pq.push({\r\n          target: t,\r\n          edgeId: edge.id(),\r\n          weight: w,\r\n        })\r\n      }\r\n      let nextStyle;\r\n      if(part_of_tree[edge.id()]) nextStyle=Styles.EDGE_MST;\r\n      else nextStyle=Styles.EDGE_NO_MST;\r\n      commands.push({\r\n        eles: [edge.id()],\r\n        style: [nextStyle],\r\n        duration: 10,\r\n      });\r\n    });\r\n    commands.push({\r\n      inst: [{\r\n        name: 'change_element',\r\n        position: parseInt(current.data('value'), 10) - 1,\r\n        data: {\r\n          value: (dist[target]===undefined ? '0' : (dist[target]).toString()),\r\n          class: 'heap-default',\r\n        }\r\n      }], \r\n    });\r\n  }\r\n  return commands;\r\n}\r\n\r\nexport default Prim;","export default class DisjointSet {\r\n  _parent = {}\r\n  constructor(nodes){\r\n    nodes.forEach(node => this._parent[node.id()] = node.id());\r\n  }\r\n\r\n  find(node){\r\n    if(this._parent[node] === node) return node;\r\n    this._parent[node] = this.find(this._parent[node]);\r\n    return this._parent[node];\r\n  }\r\n\r\n  join(nodeX, nodeY){\r\n    this._parent[this.find(nodeX)] = this.find(nodeY);\r\n  }\r\n\r\n  connected(nodeX, nodeY){\r\n    return this.find(nodeX) === this.find(nodeY);\r\n  }\r\n}\r\n\r\n","import DisjointSet from './DS/DisjointSet';\r\nimport PriorityQueue from './DS/PriorityQueue';\r\n\r\nconst Styles = require('../Styles/Styles');\r\nconst Kruskal = param => {\r\n  const {cy} = param;\r\n\r\n  const nodes = cy.nodes();\r\n  const edges = cy.edges();\r\n\r\n\r\n  const sorted = new PriorityQueue((x, y) => { return x.data('weight') <= y.data('weight')});\r\n  edges.forEach(edge => sorted.push(edge));\r\n\r\n  const commands = [\r\n    {\r\n      eles: edges.map(x => x.data('id')),\r\n      style: Array(cy.edges().length).fill(Styles.EDGE_NO_MST),\r\n      duration: 1000,\r\n      lines: [1,2],\r\n    }\r\n  ];\r\n\r\n  const ds = new DisjointSet(nodes);\r\n  let weight = 0;\r\n  let edges_used = 0;\r\n  \r\n  while(!sorted.isEmpty()){\r\n    const edge = sorted.top(); sorted.pop();\r\n    const x = edge.source().id(), y = edge.target().id();\r\n    commands.push({\r\n      eles: [edge.id()],\r\n      style: [Styles.EDGE_TRAVERSE],\r\n      duration: 1000,\r\n      lines: [3],\r\n    })\r\n    if(!ds.connected(x, y)){\r\n      ds.join(x, y);\r\n      weight += edge.data('weight');\r\n      const source = edge.source(), target = edge.target();\r\n      commands.push(\r\n        {\r\n          eles: [edge.id(), source.id(), target.id()],\r\n          style: [\r\n            Styles.EDGE_MST,\r\n            Styles.NODE_RED,\r\n            Styles.NODE_RED,\r\n          ],\r\n          duration: 1000,\r\n          lines: [4,5],\r\n        }\r\n      );\r\n      edges_used++;\r\n    }else{\r\n      commands.push({\r\n        eles: [edge.id()],\r\n        style: [Styles.EDGE_NO_MST],\r\n        duration: 1000,\r\n        lines: null,\r\n      })\r\n    }\r\n  }\r\n\r\n  return commands;\r\n}\r\n\r\nexport default Kruskal;","const singlyLinkedList = [\r\n  { text: 'ListaEnlazada{', ind: 0},\r\n  { text: 'Nodo* inicio', ind: 1},\r\n  { text: 'ExtraerPrimero()', ind: 1},\r\n  { text: 'ExtraerUltimo()', ind: 1},\r\n  { text: 'InsertarPrimero(Entero v)', ind: 1},\r\n  { text: 'InsertarUltimo(Entero v)', ind: 1},\r\n  { text: 'Eliminar(Nodo* p)', ind: 1},\r\n  { text: 'InsertarAntesDe(Nodo* p, Entero v)', ind: 1},\r\n  { text: 'InsertarDespuesDe(Nodo* p, Entero v)', ind: 1},\r\n  { text: '}', ind: 0},\r\n  { text: '\\u2063', ind: 0},\r\n  { text: 'Nodo{', ind: 0},\r\n  { text: 'Entero v', ind: 1},\r\n  { text: 'Nodo *sig', ind: 1},\r\n  { text: '}', ind: 0},\r\n];\r\n\r\nconst doublyLinkedList = [\r\n  { text: 'ListaDoblementeEnlazada{', ind: 0},\r\n  { text: 'Nodo *primero, *ultimo', ind: 1},\r\n  { text: 'ExtraerPrimero()', ind: 1},\r\n  { text: 'ExtraerUltimo()', ind: 1},\r\n  { text: 'InsertarPrimero(Entero v)', ind: 1},\r\n  { text: 'InsertarUltimo(Entero v)', ind: 1},\r\n  { text: 'Eliminar(Nodo* p)', ind: 1},\r\n  { text: 'InsertarAntesDe(Nodo* p, Entero v)', ind: 1},\r\n  { text: 'InsertarDespuesDe(Nodo* p, Entero v)', ind: 1},\r\n  { text: '}', ind: 0},\r\n  { text: '\\u2063', ind: 0},\r\n  { text: 'Nodo{', ind: 0},\r\n  { text: 'Entero v', ind: 1},\r\n  { text: 'Nodo *ant, *sig', ind: 1},\r\n  { text: '}', ind: 0},\r\n]\r\n\r\nconst queue = [\r\n  { text: 'Cola{', ind: 0},\r\n  { text: 'Nodo *frente, *final', ind: 1},\r\n  { text: 'Encolar(Entero v)', ind: 1},\r\n  { text: 'Desencolar()', ind: 1},\r\n  { text: '}', ind: 0},\r\n  { text: '\\u2063', ind: 0},\r\n  { text: 'Nodo{', ind: 0},\r\n  { text: 'Entero v', ind: 1},\r\n  { text: 'Nodo *sig', ind: 1},\r\n  { text: '}', ind: 0}\r\n];\r\n\r\nconst queuePush = [\r\n  { text: 'Encolar(Entero v):', ind: 0},\r\n  { text: 'Nodo *aux = nuevo Nodo(v)', ind: 1},\r\n  { text: 'Si frente==NULL:', ind: 1},\r\n  { text: 'frente=final=aux', ind : 2},\r\n  { text: 'Sino:', ind: 1},\r\n  { text: 'final->sig=aux', ind: 2},\r\n  { text: 'final=aux', ind: 2},\r\n];\r\n\r\nconst queuePop = [\r\n  { text: 'Desencolar():', ind: 0},\r\n  { text: 'Si frente==NULL: retornar', ind: 1},\r\n  { text: 'Nodo *aux = frente->sig'},\r\n  { text: 'Si frente==NULL: ', ind: 1},\r\n  { text: 'ultimo=NULL', ind: 2},\r\n  { text: 'Sino:', ind: 1},\r\n  { text: 'frente=frente->sig', ind: 2},\r\n  { text: 'retornar aux', ind: 1},\r\n];\r\n\r\nconst stack = [\r\n  { text: 'Pila{', ind: 0},\r\n  { text: 'Nodo *tope', ind: 1},\r\n  { text: 'Apilar(Entero v)', ind: 1},\r\n  { text: 'Desapilar(Entero v)', ind: 1},\r\n  { text: '}', ind: 0},\r\n  { text: '\\u2063', ind: 0},\r\n  { text: 'Nodo{', ind: 0},\r\n  { text: 'Entero v', ind: 1},\r\n  { text: 'Nodo *sig', ind: 1},\r\n  { text: '}', ind: 0}\r\n];\r\n\r\nconst stackPush = [\r\n  { text: 'Apilar(Entero v):', ind: 0},\r\n  { text: 'Nodo *aux = nuevo Nodo(v)', ind: 1},\r\n  { text: 'Si tope==NULL:', ind : 1},\r\n  { text: 'tope=aux', ind: 2},\r\n  { text: 'Sino:', ind: 1},\r\n  { text: 'aux->sig=tope', ind: 2},\r\n  { text: 'tope=aux', ind: 2},\r\n];\r\n\r\nconst stackPop = [\r\n  { text: 'Desapilar():', ind: 0},\r\n  { text: 'Si tope==NULL: retornar', ind: 1},\r\n  { text: 'Nodo *aux=tope', ind: 1},\r\n  { text: 'tope=tope->sig', ind: 1},\r\n  { text: 'retornar aux', ind: 1},\r\n]\r\nconst singlyPopFront = [\r\n  { text: 'ExtraerFrente():', ind: 0},\r\n  { text: 'Si inicio == NULL: retornar', ind: 1},\r\n  { text: 'nodo* aux=inicio', ind: 1},\r\n  { text: 'inicio=inicio->sig', ind: 1},\r\n  { text: 'retornar aux', ind: 1},\r\n];\r\n\r\nconst doublyPopFront = [\r\n  { text: 'ExtraerFrente():', ind: 0},\r\n  { text: 'Si primero == NULL: retornar', ind: 1},\r\n  { text: 'nodo* aux=primero', ind: 1},\r\n  { text: 'primero=primero->sig', ind: 1},\r\n  { text: 'Si primero==NULL:', ind: 1},\r\n  { text: 'ultimo=NULL', ind: 2},\r\n  { text: 'Sino:', ind: 1},\r\n  { text: 'primero->ant=NULL', ind: 2},\r\n  { text: 'retornar aux', ind: 1},\r\n];\r\n\r\nconst singlyPopBack = [\r\n  { text: 'ExtraerUltimo():', ind: 0},\r\n  { text: 'Si inicio == NULL: retornar', ind: 1},\r\n  { text: 'Si inicio->sig == NULL:', ind: 1},\r\n  { text: 'Nodo* aux = inicio', ind: 2},\r\n  { text: 'inicio=NULL', ind: 2},\r\n  { text: 'retornar aux', ind: 2},\r\n  { text: 'nodo *actual = inicio, *anterior', ind: 1},\r\n  { text: 'Mientras(actual->sig != NULL):', ind: 1},\r\n  { text: 'anterior=actual', ind: 2},\r\n  { text: 'actual=actual->sig', ind: 2},\r\n  { text: 'anterior->sig=NULL', ind: 1},\r\n  { text: 'retornar actual', ind: 1}\r\n];\r\n\r\nconst doublyPopBack = [\r\n  { text: 'ExtraerUltimo():', ind: 0},\r\n  { text: 'Si inicio == NULL: retornar', ind: 1},\r\n  { text: 'nodo* aux=ultimo', ind: 1},\r\n  { text: 'ultimo=ultimo->ant', ind: 1},\r\n  { text: 'Si ultimo==NULL:', ind: 1},\r\n  { text: 'inicio=NULL', ind: 2},\r\n  { text: 'Sino:', ind: 1},\r\n  { text: 'ultimo->sig=NULL', ind: 2},\r\n  { text: 'retornar aux', ind: 1},\r\n];\r\n\r\nconst singlyPushFront = [\r\n  { text: 'InsertarPrimero(Entero v):', ind: 0},\r\n  { text: 'Nodo *p = nuevo Nodo(v)', ind: 1},\r\n  { text: 'Si inicio==NULL', ind: 1},\r\n  { text: 'inicio=p', ind: 2},\r\n  { text: 'Sino:', ind: 1},\r\n  { text: 'p->sig=inicio', ind: 2},\r\n  { text: 'inicio=p', ind: 2},\r\n];\r\n\r\nconst doublyPushFront = [\r\n  { text: 'InsertarPrimero(Entero v):', ind: 0},\r\n  { text: 'Nodo *p = nuevo Nodo(v)', ind: 1},\r\n  { text: 'Si primero==NULL', ind: 1},\r\n  { text: 'primero=ultimo=p', ind: 2},\r\n  { text: 'Sino:', ind: 1},\r\n  { text: 'p->sig=primero', ind: 2},\r\n  { text: 'primero->ant=p', ind: 2},\r\n  { text: 'primero=p', ind: 2},\r\n];\r\n\r\nconst singlyPushBack = [\r\n  { text: 'InsertarUltimo(Entero v):', ind: 0},\r\n  { text: 'Nodo *p = nuevo Nodo(v)', ind: 1},\r\n  { text: 'Si inicio==NULL', ind: 1},\r\n  { text: 'inicio=p', ind: 2},\r\n  { text: 'Sino:', ind: 1},\r\n  { text: 'nodo *actual = inicio', ind: 2},\r\n  { text: 'Mientras(actual->sig != NULL):', ind: 2},\r\n  { text: 'actual=actual->sig', ind: 3},\r\n  { text: 'actual->sig=p', ind: 2},\r\n];\r\n\r\nconst doublyPushBack = [\r\n  { text: 'InsertarUltimo(Entero v):', ind: 0},\r\n  { text: 'Nodo *p = nuevo Nodo(v)', ind: 1},\r\n  { text: 'Si primero==NULL', ind: 1},\r\n  { text: 'primero=ultimo=p', ind: 2},\r\n  { text: 'Sino:', ind: 1},\r\n  { text: 'ultimo->sig=p', ind: 2},\r\n  { text: 'p->ant=ultimo', ind: 2},\r\n  { text: 'ultimo=p', ind: 2},\r\n];\r\n\r\nconst singlyRemove = [\r\n  { text: 'Eliminar(Nodo *p):', ind: 0},\r\n  { text: 'Si inicio==p:', ind: 1},\r\n  { text: 'inicio=inicio->sig', ind: 2},\r\n  { text: 'borrar p', ind: 2},\r\n  { text: 'Sino:', ind: 1},\r\n  { text: 'Nodo *actual=incio, *anterior=NULL', ind: 2},\r\n  { text: 'Mientras actual != p:', ind: 2},\r\n  { text: 'anterior=actual', ind: 3},\r\n  { text: 'actual=actual->sig', ind: 3},\r\n  { text: 'anterior->sig=p->sig', ind: 2},\r\n  { text: 'borrar p', ind: 2},\r\n];\r\n\r\nconst doublyRemove = [\r\n  { text: 'Eliminar(Nodo *p):', ind: 0},\r\n  { text: 'Nodo *ant=p->ant, *sig=p->sig', ind: 1},\r\n  { text: 'Caso 1: ant==NULL y sig==NULL:', ind: 1},\r\n  { text: 'primero=ultimo=NULL', ind: 2},\r\n  { text: 'Caso 2: ant==NULL y sig!=NULL', ind: 1},\r\n  { text: 'primero=sig', ind: 2},\r\n  { text: 'Caso 3: ant!=NULL y sig==NULL:', ind: 1},\r\n  { text: 'ultimo=ant', ind: 2},\r\n  { text: 'Caso 4: ant!=NULL y sig!=NULL', ind : 1},\r\n  { text: 'ant->sig=sig, sig->ant=ant', ind: 2},\r\n  { text: 'borrar p', ind: 1},\r\n];\r\n\r\nconst singlyInsertBefore = [\r\n  { text: 'InsertarAntesDe(Nodo *p, Entero v):', ind: 0},\r\n  { text: 'Nodo *aux = nuevo Nodo(v)', ind: 1},\r\n  { text: 'Si inicio==p', ind: 1},\r\n  { text: 'aux->sig=inicio', ind: 2},\r\n  { text: 'inicio=aux', ind: 2},\r\n  { text: 'sino:', ind: 1},\r\n  { text: 'Nodo *actual=inicio', ind: 2},\r\n  { text: 'Mientras actual->sig != p:', ind: 2},\r\n  { text: 'actual=actual->sig', ind: 3},\r\n  { text: 'actual->sig=aux', ind: 2},\r\n  { text: 'aux->sig=p', ind: 2},\r\n];\r\n\r\nconst doublyInsertBefore = [\r\n  { text: 'InsertarAntesDe(Nodo *p, Entero v):', ind: 0},\r\n  { text: 'Nodo *aux = nuevo Nodo(v)', ind: 1},\r\n  { text: 'Nodo *ant = p->ant', ind: 1},\r\n  { text: 'aux->sig=p, aux->ant=ant', ind: 1},\r\n  { text: 'p->ant=aux', ind: 1},\r\n  { text: 'Si ant == NULL:', ind: 1},\r\n  { text: 'primero=aux', ind: 2},\r\n  { text: 'Sino:', ind: 1},\r\n  { text: 'ant->sig=aux', ind: 2},\r\n];\r\n\r\nconst singlyInsertAfter = [\r\n  { text: 'InsertarDespuesDe(Nodo *p, Entero v):', ind: 0},\r\n  { text: 'Nodo *aux = nuevo Nodo(v)', ind: 1},\r\n  { text: 'Nodo *s = p->sig', ind: 1},\r\n  { text: 'p->sig=aux', ind: 1},\r\n  { text: 'aux->sig=s', ind: 1},\r\n];\r\n\r\nconst doublyInsertAfter = [\r\n  { text: 'InsertarDespuesDe(Nodo *p, Entero v):', ind: 0},\r\n  { text: 'Nodo *aux = nuevo Nodo(v)', ind: 1},\r\n  { text: 'Nodo *sig = p->sig', ind: 1},\r\n  { text: 'aux->ant=p, aux->sig=sig', ind: 1},\r\n  { text: 'p->sig=aux', ind: 1},\r\n  { text: 'Si sig == NULL:', ind: 1},\r\n  { text: 'ultimo=aux', ind: 2},\r\n  { text: 'Sino:', ind: 1},\r\n  { text: 'sig->ant=aux', ind: 2},\r\n];\r\n\r\n\r\nconst singlySet = {\r\n  main: singlyLinkedList,\r\n  pushFront: singlyPushFront,\r\n  pushBack: singlyPushBack,\r\n  popFront: singlyPopFront,\r\n  popBack: singlyPopBack,\r\n  insertBefore: singlyInsertBefore,\r\n  insertAfter: singlyInsertAfter,\r\n  remove: singlyRemove,\r\n}\r\n\r\nconst doublySet = {\r\n  main: doublyLinkedList,\r\n  pushFront: doublyPushFront,\r\n  pushBack: doublyPushBack,\r\n  popFront: doublyPopFront,\r\n  popBack: doublyPopBack,\r\n  insertBefore: doublyInsertBefore,\r\n  insertAfter: doublyInsertAfter,\r\n  remove: doublyRemove,\r\n}\r\n\r\nconst queueSet = {\r\n  main: queue,\r\n  pushFront: [],\r\n  pushBack: queuePush,\r\n  popFront: queuePop,\r\n  popBack: [],\r\n  insertBefore: [],\r\n  insertAfter: [],\r\n  remove: [],\r\n}\r\n\r\nconst stackSet = {\r\n  main: stack,\r\n  pushFront: stackPush,\r\n  pushBack: [],\r\n  popFront: stackPop,\r\n  popBack: [],\r\n  insertBefore: [],\r\n  insertAfter: [],\r\n  remove: [],\r\n}\r\n\r\nexport default {\r\n  singlySet, doublySet, queueSet, stackSet,\r\n};","import BFS from './Algorithms/BFS';\r\nimport DFS from './Algorithms/DFS';\r\nimport Dijkstra from './Algorithms/Dijkstra';\r\nimport BellmanFord from './Algorithms/BellmanFord';\r\nimport Prim from './Algorithms/Prim';\r\nimport Kruskal from './Algorithms/Kruskal';\r\n\r\nimport pseudocodes from './resources/pseudocodes/list';\r\nimport actions from './Actions/actions';\r\nconst properties = {\r\n  BFS: {\r\n    execute: BFS,\r\n    directed: true,\r\n    action: actions.SELECT_BFS,\r\n  },\r\n  DFS: {\r\n    execute: DFS,\r\n    directed: true,\r\n    action: actions.SELECT_DFS,\r\n  },\r\n  Dijkstra: {\r\n    execute: Dijkstra,\r\n    directed: true,\r\n    weighted: true,\r\n    action: actions.SELECT_DIJKSTRA,\r\n  },\r\n  BellmanFord: {\r\n    execute: BellmanFord,\r\n    directed: true,\r\n    weighted: true,\r\n    action: actions.SELECT_BELLMAN_FORD,\r\n  },\r\n  Prim: {\r\n    execute: Prim,\r\n    directed: false,\r\n    weighted: true,\r\n    action: actions.SELECT_PRIM,\r\n  },\r\n  Kruskal: {\r\n    execute: Kruskal,\r\n    directed: false,\r\n    weighted: true,\r\n    action: actions.SELECT_KRUSKAL,\r\n  },\r\n  Heap: {\r\n    action: actions.SELECT_HEAP,\r\n  },\r\n  BST: {\r\n    action: actions.SELECT_BST,\r\n    balanced: false,\r\n  },\r\n\r\n  AVL: {\r\n    action: actions.SELECT_AVL,\r\n    balanced: true,\r\n  },\r\n  \r\n  BubbleSort: {\r\n    action: actions.SELECT_BUBBLESORT,\r\n  },\r\n  MergeSort: {\r\n    action: actions.SELECT_MERGESORT,\r\n  },\r\n  BinarySearch: {\r\n    action: actions.SELECT_BINARY_SEARCH,\r\n  },\r\n  SingleLinkedList: {\r\n    action: actions.SELECT_LINKED_LIST,\r\n    type: actions.SELECT_SINGLE_LINKED_LIST,\r\n    pseudoset: pseudocodes.singlySet,\r\n  },\r\n  DoubleLinkedList: {\r\n    action: actions.SELECT_LINKED_LIST,\r\n    type: actions.SELECT_DOUBLE_LINKED_LIST,\r\n    pseudoset: pseudocodes.doublySet,\r\n  },\r\n  Stack: {\r\n    action: actions.SELECT_LINKED_LIST,\r\n    type: actions.SELECT_STACK,\r\n    pseudoset: pseudocodes.stackSet,\r\n  },\r\n  Queue: {\r\n    action: actions.SELECT_LINKED_LIST,\r\n    type: actions.SELECT_QUEUE,\r\n    pseudoset: pseudocodes.queueSet,\r\n  },\r\n\r\n}\r\n\r\nexport default properties;","const BubbleSort = (param) => {\r\n  const values = [];\r\n  for(let i = 0; i < param.length; i++) values.push(param[i]);\r\n  const n = values.length;\r\n\r\n  const commands = [];\r\n  for(let j = 0; j < n; j++){\r\n    commands.push({eles: [], style: [], lines: [1,2]});\r\n    let sorted = true;\r\n    for(let i = 0; i < n-1; i++){\r\n      let bcolor, swap=false;\r\n      if(values[i] > values[i+1]){\r\n        sorted = false; swap=true;\r\n        [values[i], values[i+1]] = [values[i+1], values[i]];\r\n        bcolor = 'LightCoral';\r\n      }else bcolor = 'Chartreuse';\r\n\r\n      commands.push(\r\n        {\r\n          eles: [i.toString(), (i+1).toString()],\r\n          style: [\r\n            {'background-color': bcolor},\r\n            {'background-color': bcolor},\r\n          ], \r\n          duration: 1000,\r\n          lines: [4],\r\n        },\r\n        {\r\n          eles: [i.toString(), (i+1).toString()],\r\n          style: [\r\n            {'background-color': 'white'},\r\n            {'background-color': 'white'},\r\n          ],\r\n          data: [\r\n            {'value': values[i]},\r\n            {'value': values[i+1]},\r\n          ],\r\n          duration: 1000,\r\n          lines: (swap ? [5,6] : [3])\r\n        },\r\n      );\r\n      if(swap) commands.push({eles: [], style: [], lines: [3]});\r\n    }\r\n    if(sorted){\r\n      commands.push({\r\n        eles: [],\r\n        style: [],\r\n        lines:[7],\r\n      });\r\n      break;\r\n    }\r\n  }\r\n  return commands;\r\n}\r\n\r\nexport default BubbleSort;","import React, { ReactElement } from 'react';\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport { Button, FormControl } from 'react-bootstrap';\r\nimport actions from '../Actions/actions';\r\n\r\nconst {connect} = require('react-redux');\r\n//5(3(1(.)(.))(4(.)(.)))(9(7(6(.)(.))(8(.)(.)))(15(11(.)(.))(.)))\r\ntype Props = {\r\n  show: boolean,\r\n  handleClose: () => void,\r\n  changeArray: (values: Array<number>) => void,\r\n  currentValues: Array<number>,\r\n  dispatch: (action:Object)=>void,\r\n}\r\ntype State = {\r\n  text: string,\r\n}\r\nclass InputArrayModal extends React.Component<Props, State>{\r\n  input:HTMLInputElement | null;\r\n  setStepInputRef:(element:HTMLInputElement)=>void;\r\n\r\n  constructor(props:Props){\r\n    super(props);\r\n    this.input = null;\r\n    this.state = {\r\n      text: this.props.currentValues.toString(),\r\n    }\r\n    this.setStepInputRef = element => {\r\n      this.input = element;\r\n    };\r\n  }\r\n\r\n  validateArray(text: string) {\r\n    let regex = /^(([-]?([0-9]{1,3})([,][ ]*)){0,15})([-]?([0-9]{1,3}))$/;\r\n    if (text && regex.test(text)) {\r\n      return true;\r\n    } else {\r\n      this.props.dispatch({type: actions.INVALID_ARRAY_ERROR})\r\n      return false;\r\n    }\r\n  }\r\n\r\n  handleAccept = () => {\r\n    if(this.input && this.validateArray(this.input.value)){\r\n      const text = this.input.value;\r\n      const values = text.split(',').map(x => parseInt(x));\r\n      console.log(values);\r\n      this.props.changeArray(values);\r\n      this.props.handleClose();\r\n    }\r\n  }\r\n\r\n  handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    this.setState({text: e.currentTarget.value});\r\n  }\r\n\r\n  handleCancel = () => {\r\n    this.setState({text: this.props.currentValues.toString()});\r\n    this.props.handleClose();\r\n  }\r\n  render(){\r\n    const {show, handleClose} = this.props;\r\n    return (\r\n      <Modal show={show} onHide={handleClose}>\r\n        <Modal.Header className='modal-header' closeButton>\r\n          <Modal.Title>Introduzca un arreglo de enteros</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <p>Debe estar representado por maximo 16 numeros separados por coma</p>\r\n          <p>Cada numero debe estar entre -999 y 999</p>\r\n          <input \r\n            type=\"text\" \r\n            ref={this.setStepInputRef} \r\n            value={this.state.text}\r\n            size={60}\r\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) => this.handleChange(e)}\r\n          />\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={this.handleCancel}>\r\n            Cancelar\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={this.handleAccept}>\r\n            Aceptar\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect()(InputArrayModal);","import React from 'react';\r\nimport { CytoscapeElement, CytoEvent, AnimationStep } from '../Types/types';\r\nimport { Container, Row } from 'react-bootstrap';\r\nimport ControlBar from './ControlBar';\r\nimport Bubblesort from '../Algorithms/BubbleSort';\r\nimport actions from '../Actions/actions';\r\nimport MediaRecorder from '../utils/MediaRecorder';\r\nimport InputArrayModal from './InputArrayModal';\r\nimport processCommands from '../Processing/graph-processing';\r\nconst Styles = require('../Styles/Styles');\r\nconst cytoscape = require('cytoscape');\r\nconst { connect } = require('react-redux');\r\n\r\ntype storeState = {\r\n\tanimation: string,\r\n\tspeed: number,\r\n\tpaused: boolean,\r\n}\r\n\r\ntype Props = {\r\n\taction: string,\r\n  animation: boolean,\r\n  speed: number,\r\n\tdispatch: (action: Object) => Object,\r\n\tpaused: boolean,\r\n}\r\n\r\ntype State = {\r\n\tshow: boolean,\r\n\tvalues: Array<number>,\r\n}\r\n\r\ntype stackState = Array<number>;\r\n\r\nconst mapStateToProps = (state: storeState) => {\r\n  return {\r\n    animation: state.animation,\r\n\t\tspeed: state.speed,\r\n\t\tpaused: state.paused,\r\n  }\r\n}\r\n\r\n\r\nclass BubbleSort extends React.Component<Props, State> {\r\n\t_isMounted = false;\r\n\t\r\n\t_mediaRecorder = new MediaRecorder();\r\n\r\n  cy = cytoscape();\r\n\r\n\tundo:Array<stackState> =[];\r\n\tredo:Array<stackState> =[];\r\n\r\n\tstate = {\r\n\t\tshow: false,\r\n\t\tvalues: [1,4,8,1,4,3,6,9,10,-1],\r\n\t}\r\n\r\n\tlayout = {\r\n\t\trun: () => { },\r\n\t\tstop: () => { },\r\n\t};\r\n\r\n\tnodeStyle = Styles.NODE;\r\n\toptions:Array<{name: string, run: () => void}>;\r\n\tbuffer:Array<{elements:Array<Object>, lines: Array<number>, duration: number}> = [];\r\n\tconstructor(props:Props){\r\n    super(props);\r\n\t\tthis._mediaRecorder = new MediaRecorder(props.dispatch);\r\n\t\tthis.options = [\r\n\t\t\t{\r\n\t\t\t\tname: 'Ordenar',\r\n\t\t\t\trun: this.runButton,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Cambiar arreglo',\r\n\t\t\t\trun: () => this.setState({show: true}),\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\t\r\n\tanimationTimeout = 0;\r\n\tstep = 0;\r\n  componentDidMount() {\r\n\r\n\t\tthis._isMounted = true;\r\n\t\t\r\n\t\tthis.initialize([]);\r\n\t\tthis.valuesToGraph();\r\n\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: this.props.action,\r\n\t\t\tpayload:{\r\n\t\t\t\tphoto: () => this._mediaRecorder.takePicture(this.cy),\r\n\t\t\t\tgif: () => this._mediaRecorder.takeGif(this.cy),\r\n\t\t\t\toptions: this.options,\r\n\t\t\t\tundo: this.handleUndo,\r\n\t\t\t\tredo: this.handleRedo,\r\n\t\t\t\trewind: this.handleRewind,\r\n\t\t\t\tforward: this.handleForward,\r\n\t\t\t\trepeat: this.handleRepeat,\r\n\t\t\t\tend: this.handleEnd,\r\n\t\t\t\tpause: this.handlePauseContinue,\r\n\t\t\t}\r\n    })\r\n\t\t\r\n\r\n\t}\r\n\t\r\n\tcomponentDidUpdate(prevProps: Props, prevState: State){\r\n\t\tif(prevState.values !== this.state.values){\r\n\t\t\tthis.clearGraph();\r\n\t\t\tthis.valuesToGraph();\r\n\t\t}\r\n\r\n\t\tif(prevProps.animation && !this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.CHANGE_OPTIONS,\r\n\t\t\t\tpayload: { options: this.options}\r\n\t\t\t});\r\n\t\t}else if(!prevProps.animation && this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.CHANGE_OPTIONS,\r\n\t\t\t\tpayload: { options: [{name: 'Volver a edicion', run: this.runButton}]}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount(){\r\n    this.props.dispatch({\r\n      type: actions.ANIMATION_END,\r\n    });\r\n\t\tclearTimeout(this.animationTimeout);\r\n    this._isMounted = false;\r\n\t\tlet nodes = this.cy.nodes();\r\n\t\tnodes.forEach((node: CytoscapeElement) => {\r\n\t\t\tlet id = node.id();\r\n\t\t\tlet popper = document.getElementById(id + 'popper');\r\n\t\t\tif (popper) {\r\n\t\t\t\tdocument.body.removeChild(popper);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\tinitialize(elements: Array<Object>){\r\n    this.cy = cytoscape({\r\n\r\n\t\t\tcontainer: document.getElementById('canvas'), // container to render in\r\n\r\n\t\t\telements,\r\n\r\n\t\t\tstyle: [ // the stylesheet for the graph\r\n\t\t\t\t{\r\n\t\t\t\t\tselector: 'node',\r\n\t\t\t\t\tstyle: {\r\n            ...Styles.NODE,\r\n            shape: 'square',\r\n          }\r\n\t\t\t\t},\r\n\t\t\t],\r\n\r\n\t\t\tlayout: {\r\n\t\t\t\tname: 'preset',\r\n\t\t\t},\r\n\t\t\theadless: false,\r\n\t\t\tstyleEnabled: true,\r\n\t\t\thideEdgesOnViewport: false,\r\n\t\t\thideLabelsOnViewport: false,\r\n\t\t\tuserPanningEnabled: false,\r\n\t\t\tzoomingEnabled: false,\r\n\t\t\ttextureOnViewport: false,\r\n\t\t\tmotionBlur: false,\r\n\t\t\tmotionBlurOpacity: 0.2,\r\n\t\t\tpixelRatio: '1.0',\r\n\t\t\tautoungrabify: true,\r\n\t\t});\r\n\r\n\t\tthis.cy.autopanOnDrag({ enabled: true, speed: 0.01 });\r\n\t\tthis.layout = this.cy.elements().makeLayout({\r\n\t\t\tname: 'preset',\r\n    });\r\n    this.layout.run();\r\n\t}\r\n\r\n\thandleUndo = () => {\r\n\t\tconsole.log('UNDO');\r\n\t\tif(this.undo.length === 0) return;\r\n\r\n\t\tif(this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t})\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst prevValues = this.undo.pop();\r\n\t\tthis.redo.push([...this.state.values]);\r\n\t\tif(prevValues) this.changeArray(prevValues);\r\n\t}\r\n\r\n\thandleRedo = () => {\r\n\t\tif(this.redo.length === 0) return;\r\n\r\n\t\tif(this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t})\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst prevValues = this.redo.pop();\r\n\t\tthis.undo.push([...this.state.values]);\r\n\t\tif(prevValues) this.changeArray(prevValues);\r\n\t}\r\n\t\r\n\thandleRewind = () => { \r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = Math.max(this.step-1, 0);\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandleForward = () => { \r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = Math.min(this.step+1, this.buffer.length-1);\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandleRepeat = () => {\r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = 0;\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandleEnd = () => {\r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = this.buffer.length - 1;\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\t\r\n\thandlePauseContinue = () => {\r\n\t\tif(!this.props.paused){\r\n\t\t\tclearTimeout(this.animationTimeout);\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_PAUSE,\r\n\t\t\t})\r\n\t\t}else{\r\n\t\t\tnew Promise(resolve => {\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.ANIMATION_CONTINUE\r\n\t\t\t\t})\r\n\t\t\t\tresolve();\r\n\t\t\t}).then(() => this.animation());\r\n\t\t}\r\n\t}\r\n\t\r\n\tpushState(){\r\n\t\tthis.redo = [];\r\n\t\tthis.undo.push([...this.state.values]);\r\n\t}\r\n\t\r\n\tloadGraph(elements:Array<Object>){\r\n\t\tconst nodes = this.cy.nodes();\r\n\t\tnodes.forEach((node:CytoscapeElement) => {\r\n\t\t\tthis.cy.remove(node);\r\n\t\t})\r\n\r\n\t\tfor(let i = 0; i < elements.length; i++){\r\n\t\t\tthis.cy.add(elements[i]);\r\n\t\t}\r\n\t\tthis.cy.nodes().forEach((node:CytoscapeElement) => {\r\n\t\t\tconst style = node.data('style');\r\n\t\t\tif(style != null) node.style(style);\r\n\t\t})\r\n\t\tthis.cy.edges().forEach((edge:CytoscapeElement) => {\r\n\t\t\tconst style = edge.data('style');\r\n\t\t\tif(style != null) edge.style(style);\r\n\t\t})\r\n\t}\r\n\t\r\n\texportGraph(withStyle:boolean=false){\r\n\t\tconst elements:Array<Object> = [];\r\n\t\tthis.cy.nodes().forEach((node:CytoscapeElement) => {\r\n\t\t\telements.push({\r\n\t\t\t\tgroup: 'nodes',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: node.id(),\r\n\t\t\t\t\tvalue: node.data('value'),\r\n\t\t\t\t\tposition: node.position(),\r\n\t\t\t\t\tstyle: (withStyle? {\r\n\t\t\t\t\t\tcolor: node.style('color'),\r\n\t\t\t\t\t\tbackgroundColor: node.style('background-color'),\r\n\t\t\t\t\t\tborderWidth: node.style('border-width'),\r\n\t\t\t\t\t\twidth: node.style('width'),\r\n\t\t\t\t\t\theight: node.style('height'),\r\n\t\t\t\t\t\tvisibility: node.style('visibility'),\r\n\t\t\t\t\t} : {}),\r\n\t\t\t\t},\r\n\t\t\t\tposition: {\r\n\t\t\t\t\tx: node.position().x,\r\n\t\t\t\t\ty: node.position().y,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t\treturn elements;\r\n\t}\r\n\r\n  refreshLayout() {\r\n\t\tthis.layout.stop();\r\n    this.layout = this.cy.elements().makeLayout({ name: 'preset' });\r\n    this.layout.run();\r\n\r\n\t}\r\n  \r\n  addNode = (id: string, value: number | string) => {\r\n    this.cy.add({\r\n      group: 'nodes',\r\n      data: {\r\n        id,\r\n        value,\r\n\t\t\t},\r\n\t\t\tposition: {\r\n\t\t\t\tx: this.cy.width()/2 - (this.state.values.length-1)*(40/2) + 40*(parseInt(id)),\r\n\t\t\t\ty: this.cy.height()/4,\r\n\t\t\t},\r\n\t\t});\r\n  }\r\n  \r\n  animation(){\r\n\t\tlet step = () => {\r\n\t\t\tif (this.step === this.buffer.length) {\r\n\t\t\t\t\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.ARRAY_SORTED_SUCCESS,\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.ANIMATION_PAUSE,\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(!this.props.animation){\r\n\t\t\t\tthis.cy.nodes().style(this.nodeStyle);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst {elements, lines, duration} = this.buffer[this.step++];\r\n\t\t\tif(lines) this.props.dispatch({type: actions.CHANGE_LINE, payload: { lines }});\r\n\t\t\tif(this.props.paused) return;\r\n\t\t\tthis.loadGraph(elements);\r\n\t\t\tthis.refreshLayout();\r\n\t\t\tthis.animationTimeout = window.setTimeout(step, ((duration === undefined) ? 1000 : duration)/(this.props.speed));\r\n\t\t}\r\n\t\tstep();\r\n\t}\r\n\r\n  executeAnimation = (commands: Array<AnimationStep>, found?:boolean) => {\r\n\t\tthis.cy.nodes().style({\r\n\t\t\t'background-color': 'white',\r\n\t\t\t'color': 'black',\r\n\t\t});\r\n\t\t\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.STARTING_BUBBLESORT_INFO,\r\n\t\t});\r\n\t\tthis.step = 0;\r\n\t\tthis.animation();\r\n  }\r\n\r\n\tvaluesToGraph(){\r\n\t\tconst {values} = this.state;\r\n\t\tthis.cy.nodes().forEach((node:CytoscapeElement) => this.cy.remove(node));\r\n    for(let i = 0; i < values.length; i++){\r\n      this.addNode(i.toString(), values[i]);\r\n      this.refreshLayout();\r\n    }\r\n\t}\r\n\tclearGraph(){\r\n\t\tconst nodes = this.cy.nodes();\r\n\t\tfor(let i = 0; i < nodes.length; i++){\r\n\t\t\tthis.cy.remove('node[id=\"'+nodes[i].id()+'\"]');\r\n\t\t}\r\n\t}\r\n\trunButton = () => {\r\n    if(this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_END,\r\n\t\t\t});\r\n\t\t\tthis.clearGraph();\r\n\t\t\tthis.valuesToGraph();\r\n\t\t\tclearTimeout(this.animationTimeout);\r\n\t\t\treturn;\r\n\t\t}\r\n    new Promise((resolve: () => void, reject) => { \r\n      this.props.dispatch({\r\n        type: actions.ANIMATION_START,\r\n      })\r\n\t\t\tconst commands = Bubblesort(this.state.values);\r\n\t\t\tthis.buffer = processCommands(this.exportGraph(), commands);     \r\n\t\t\tresolve();\r\n    }).then(()=> {\r\n      setTimeout(this.executeAnimation, 1000/this.props.speed);\r\n    })\r\n\t}\r\n\thandleClose = () => {\r\n\t\tthis.setState({show: false});\r\n\t}\r\n\t\r\n\r\n\tchangeArray = (values: Array<number>) => {\r\n\t\tthis.setState({values});\r\n\t}\r\n\r\n  render(){\r\n    return (\r\n\t\t\t<>\r\n\t\t\t\t<InputArrayModal \r\n\t\t\t\t\tshow={this.state.show} \r\n\t\t\t\t\thandleClose={this.handleClose} \r\n\t\t\t\t\tchangeArray={(v:Array<number>) => {this.pushState(); this.changeArray(v)}}\r\n\t\t\t\t\tcurrentValues={this.state.values}\r\n\t\t\t\t/>\r\n\t\t\t\t<div id=\"canvas\" className='standard-struct'/>\r\n\t\t\t</>\r\n\t\t)\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(BubbleSort);","const mergeSortAnimation = (input, width, height) => {\r\n  const commands = [];\r\n\r\n  const mergeSort = (param, start, l, r, h) => {\r\n    const values = [...param];\r\n    const n = values.length;\r\n    const nodes = [], focus = [], nofocus = [], positions = [];\r\n    const shadows = [], rshadows = [];\r\n    let cmd = {\r\n      nodes: [],\r\n      duration: 1000,\r\n      style: [],\r\n    }\r\n    const p = (l + r)/2;\r\n    values.forEach((value, index) => {\r\n      nodes.push({\r\n        id: (start + index).toString(),\r\n      });\r\n      positions.push({\r\n        x: p - (n-1)*(40/2) + 40*(index),\r\n        y: h,\r\n      });\r\n      focus.push({\r\n        'border-width': '3',\r\n      });\r\n      nofocus.push({\r\n        'border-width': '1',\r\n      })\r\n      shadows.push({\r\n        id: (start+index).toString() + '-' + h.toString(),\r\n        value: '+',\r\n        position: {x: p - (n-1)*(40/2) + 40*(index), y: h }\r\n      });\r\n      rshadows.push({\r\n        id: (start+index).toString() + '-' + h.toString(),\r\n        value: '-',\r\n      });\r\n    });\r\n    commands.push({nodes, style: focus, positions});\r\n    commands.push({shadows, duration: 10});\r\n    if(n === 1){\r\n      commands.push({nodes: [], lines: [1,2], shadows: [{id:start+'-'+h, value: '-'}]});\r\n      return values;\r\n    }\r\n    const mid = Math.floor((n+1)/2);\r\n    commands.push({nodes: [], lines:[3]});\r\n    commands.push({nodes, style: nofocus, duration: 10});\r\n    const left = mergeSort(values.slice(0, mid), start, l, (l+r)/2, h + 50);\r\n    commands.push({nodes, style: focus, duration: 10});\r\n    commands.push({nodes: [], lines:[4]});\r\n    commands.push({nodes, style: nofocus, duration: 10});\r\n    const right = mergeSort(values.slice(mid), start + mid, (l+r)/2, r, h + 50);\r\n    commands.push({nodes, style: focus, duration: 10});\r\n    let li = 0, ri = 0;\r\n    commands.push({nodes: [], lines: [5]}, {nodes: [], lines: [8,9]});\r\n    for(let i = 0; i < n; i++){  \r\n      const pos = p - (n-1)*(40/2) + 40*i;\r\n      cmd = {\r\n        nodes: [],\r\n        duration: 1000,\r\n      };\r\n      if(ri == right.length || (li < left.length && left[li].value<=right[ri].value)){\r\n        cmd.nodes = [{id: left[li].id}];\r\n        cmd.lines = [11,12];\r\n        cmd.positions = [{x: pos, y: h}];\r\n        values[i] = left[li++];\r\n      }else{\r\n        cmd.nodes = [{id: right[ri].id}];\r\n        cmd.positions = [{x: pos, y: h}];\r\n        values[i] = right[ri++];\r\n        cmd.lines=[13, 14];\r\n      }\r\n      commands.push(cmd);\r\n    }\r\n    commands.push({nodes: [], lines: [15]});\r\n    commands.push({nodes: [], lines: [5]});\r\n    commands.push({nodes, style: nofocus, shadows: rshadows});\r\n    return values;\r\n  }\r\n\r\n  input = input.map((value, index) => {\r\n    return {\r\n      value, id: index.toString(),\r\n    }\r\n  });\r\n  const mid = width/2;\r\n  mergeSort(input, 0, mid - 40*input.length, mid + 40*input.length, height/4);\r\n  return commands;\r\n}\r\n\r\nexport default mergeSortAnimation;","import actions from '../Actions/actions';\r\nimport { CytoscapeElement, CytoEvent, AnimationStep } from '../Types/types';\r\n\r\nconst Styles = require('../Styles/Styles');\r\nconst cytoscape = require('cytoscape');\r\nconst { connect } = require('react-redux');\r\n\r\nconst exportGraph = (cy: any) => {\r\n  const elements:Array<Object> = [];\r\n  cy.nodes().forEach((node:CytoscapeElement) => {\r\n    let prev = node.data('prevPosition');\r\n    if(!prev) prev = node.data('position');\r\n    elements.push({\r\n      group: 'nodes',\r\n      data: {\r\n        id: node.id(),\r\n        value: node.data('value'),\r\n        style: node.data('style'),\r\n        position: node.data('position'),\r\n      },\r\n      position: prev,\r\n    })\r\n    node.data('prevPosition', node.data('position'));\r\n  });\r\n  cy.edges().forEach((edge:CytoscapeElement) => {\r\n    elements.push({\r\n      group: 'edges',\r\n      data: {\r\n        id: edge.id(),\r\n        source: edge.source().id(), target: edge.target().id(),\r\n        weight: edge.data('weight'),\r\n        style: edge.data('style'),\r\n        /*\r\n        style: {\r\n          lineColor: edge.style('line-color'),\r\n          targetArrowShape: edge.style('target-arrow-shape'),\r\n          targetArrowColor: edge.style('target-arrow-color'),\r\n          lineStyle: edge.style('line-style'),\r\n        }\r\n        */\r\n      }\r\n    })\r\n  });\r\n  console.log(JSON.parse(JSON.stringify(elements)));\r\n  return JSON.parse(JSON.stringify(elements));\r\n}\r\n\r\n\r\nconst addShadow = (cy: any, id: string, position: {x: number, y: number}) => {\r\n  console.log('adding shadow');\r\n  cy.add({\r\n    group: 'nodes',\r\n    data: { \r\n      id,\r\n      style: {\r\n        zIndex: 1\r\n      },\r\n      position: {x: position.x, y: position.y}\r\n    },\r\n    position: {x: position.x, y: position.y}\r\n  });\r\n  console.log('shadow added', cy.nodes());\r\n}\r\n\r\nconst processCommands = (elements: Array<Object>, commands:Array<AnimationStep>) => {\r\n  \r\n  const cy = cytoscape({\r\n    elements: JSON.parse(JSON.stringify(elements)),\r\n    headless: true,\r\n  });\r\n\r\n  const steps:Array<{elements:Array<Object>, lines: Array<number>, duration: number}>=[];\r\n\r\n  let lastLines:Array<number> = [];\r\n  let lastDuration = 0;\r\n  for(let pos = 0; pos < commands.length; pos++){\r\n    let {nodes, duration, lines, style, positions, shadows} = commands[pos];\r\n    if(duration == null) duration = 1000;\r\n    if(lines == null) lines = lastLines;\r\n\r\n    steps.push({elements: exportGraph(cy), lines: lastLines, duration: lastDuration});\r\n    lastLines = lines;\r\n    lastDuration = duration;\r\n    if(nodes){\r\n      nodes.forEach((node, index) => {\r\n        let ele = cy.getElementById(node.id);\r\n        ele.data('prevPosition', ele.data('position'));\r\n        let prevStyle = ele.data('style');\r\n        if(style) ele.data('style', {...prevStyle, ...style[index]});\r\n        if(positions){\r\n          ele.data('position', positions[index]);\r\n        }\r\n      })\r\n    }\r\n    if(shadows){\r\n      //console.log(shadows);\r\n      shadows.forEach(shadow => {\r\n        if(shadow.value === '+') addShadow(cy, shadow.id, shadow.position);\r\n        else cy.remove('node[id=\"'+shadow.id+'\"]');\r\n      });\r\n    }\r\n  }\r\n  steps.push({elements: exportGraph(cy), lines: lastLines, duration: 0});\r\n  return steps;\r\n}\r\n\r\nexport default processCommands;","import React from 'react';\r\nimport { CytoscapeElement, CytoEvent, AnimationStep } from '../Types/types';\r\nimport { Container, Row } from 'react-bootstrap';\r\nimport ControlBar from './ControlBar';\r\nimport InputArrayModal from './InputArrayModal';\r\nimport Mergesort from '../Algorithms/MergeSort';\r\nimport actions from '../Actions/actions';\r\nimport MediaRecorder from '../utils/MediaRecorder';\r\nimport processCommands from '../Processing/mergesort-processing';\r\nimport { node } from 'prop-types';\r\nconst Styles = require('../Styles/Styles');\r\nconst cytoscape = require('cytoscape');\r\nconst { connect } = require('react-redux');\r\n\r\ntype options = {\r\n  name: string,\r\n  positions: { [id: string]: { x: number, y: number } },\r\n  padding: number,\r\n  animate: boolean,\r\n  animationDuration: number,\r\n}\r\n\r\ntype stackState = Array<number>;\r\n\r\ntype State = {\r\n\tshow: boolean,\r\n\tvalues: Array<number>,\r\n}\r\n\r\nlet layoutOptions: options = {\r\n  name: 'preset',\r\n  positions: {}, // map of (node id) => (position obj); or function(node){ return somPos; }\r\n  padding: 30, // padding on fit\r\n  animate: true, // whether to transition the node positions\r\n  animationDuration: 500, // duration of animation in ms if enabled\r\n};\r\n\r\ntype storeState = {\r\n\tanimation: string,\r\n\tspeed: number,\r\n\tpaused: boolean,\r\n}\r\n\r\ntype Props = {\r\n  action: string,\r\n  animation: boolean,\r\n  speed: number,\r\n\tdispatch: (action: Object) => Object,\r\n\tpaused: boolean,\r\n}\r\nconst mapStateToProps = (state: storeState) => {\r\n  return {\r\n    animation: state.animation,\r\n\t\tspeed: state.speed,\r\n\t\tpaused: state.paused,\r\n  }\r\n}\r\n\r\nclass MergeSort extends React.Component<Props, State> {\r\n\t_isMounted = false;\r\n\t_mediaRecorder = new MediaRecorder();\r\n  cy = cytoscape();\r\n\r\n  state = {\r\n\t\tshow: false,\r\n\t\tvalues: [4, 8, 12, 16, 10, 4, 40, 17],\r\n\t}\r\n\r\n\tlayout = {\r\n\t\trun: () => { },\r\n\t\tstop: () => { },\r\n\t};\r\n\r\n\tnodeStyle = {...Styles.NODE, shape: 'square', zIndex: 2};\r\n\r\n\toptions:Array<{name: string, run: () => void}>;\r\n\r\n\tbuffer:Array<{elements:Array<Object>, lines: Array<number>, duration: number}> = [];\r\n\r\n\tundo:Array<stackState> = [];\r\n\tredo:Array<stackState> = [];\r\n\r\n\tstep = 0;\r\n\tanimationTimeout = 0;\r\n\tconstructor(props:Props){\r\n    super(props);\r\n\t\tthis._mediaRecorder = new MediaRecorder(props.dispatch);\r\n\t\tthis.options = [\r\n\t\t\t{\r\n\t\t\t\tname: 'Ordenar',\r\n\t\t\t\trun: this.runButton,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Cambiar arreglo',\r\n\t\t\t\trun: () => this.setState({show: true}),\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\t\r\n  componentDidMount() {\r\n\r\n\t\tthis._isMounted = true;\r\n\t\t\t\t\r\n\t\tthis.initialize([]);\r\n\t\tthis.valuesToGraph();\r\n\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: this.props.action,\r\n\t\t\tpayload: {\r\n\t\t\t\tphoto: () => this._mediaRecorder.takePicture(this.cy),\r\n\t\t\t\tgif: () => this._mediaRecorder.takeGif(this.cy),\r\n\t\t\t\toptions: this.options,\r\n\t\t\t\tundo: this.handleUndo,\r\n\t\t\t\tredo: this.handleRedo,\r\n\t\t\t\trewind: this.handleRewind,\r\n\t\t\t\tforward: this.handleForward,\r\n\t\t\t\tpause: this.handlePauseContinue,\r\n\t\t\t\trepeat: this.handleRepeat,\r\n\t\t\t\tend: this.handleEnd,\r\n\t\t\t}\r\n    })\r\n\t}\r\n\t\r\n\tcomponentDidUpdate(prevProps:Props, prevState:State){\r\n\t\tlayoutOptions.animationDuration = 500/this.props.speed;\r\n\t\tif(prevState.values !== this.state.values){\r\n\t\t\tthis.clearGraph();\r\n\t\t\tthis.valuesToGraph();\r\n\t\t}\r\n\t\tif(prevProps.animation && !this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.CHANGE_OPTIONS,\r\n\t\t\t\tpayload: { options: this.options}\r\n\t\t\t});\r\n\t\t}else if(!prevProps.animation && this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.CHANGE_OPTIONS,\r\n\t\t\t\tpayload: { options: [{name: 'Volver a edicion', run: this.runButton}]}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentWillUnmount() {\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.ANIMATION_END,\r\n\t\t});\r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis._isMounted = false;\r\n  }\r\n\t\r\n\tinitialize(elements: Array<Object>){\r\n\t\tthis.cy = cytoscape({\r\n\r\n\t\t\tcontainer: document.getElementById('canvas'), // container to render in\r\n\r\n\t\t\telements: JSON.parse(JSON.stringify(elements)),\r\n\r\n\t\t\tstyle: [ // the stylesheet for the graph\r\n\t\t\t\t{\r\n\t\t\t\t\tselector: 'node',\r\n\t\t\t\t\tstyle: this.nodeStyle,\r\n\t\t\t\t},\r\n\t\t\t],\r\n\r\n\t\t\tlayout: {\r\n\t\t\t\tname: 'preset',\r\n\t\t\t},\r\n\t\t\theadless: false,\r\n\t\t\tstyleEnabled: true,\r\n\t\t\thideEdgesOnViewport: false,\r\n\t\t\thideLabelsOnViewport: false,\r\n\t\t\tuserPanningEnabled: false,\r\n\t\t\tzoomingEnabled: false,\r\n\t\t\ttextureOnViewport: false,\r\n\t\t\tmotionBlur: false,\r\n\t\t\tmotionBlurOpacity: 0.2,\r\n\t\t\tpixelRatio: '1.0',\r\n\t\t\tautoungrabify: true,\r\n\t\t});\r\n\t\tlayoutOptions.positions = {};\r\n\t\tthis.cy.autopanOnDrag({ enabled: true, speed: 0.01 });\r\n\t\tthis.layout = this.cy.elements().makeLayout(layoutOptions);\r\n    this.layout.run();\r\n\t\t//this.refreshLayout();\r\n\t}\r\n\r\n\thandleUndo = () => {\r\n\t\tif(this.undo.length === 0) return;\r\n\r\n\t\tif(this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t})\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst prevValues = this.undo.pop();\r\n\t\tthis.redo.push([...this.state.values]);\r\n\t\tif(prevValues) this.changeArray(prevValues);\r\n\t}\r\n\r\n\thandleRedo = () => {\r\n\t\tif(this.redo.length === 0) return;\r\n\r\n\t\tif(this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t})\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst prevValues = this.redo.pop();\r\n\t\tthis.undo.push([...this.state.values]);\r\n\t\tif(prevValues) this.changeArray(prevValues);\r\n\t}\r\n\r\n\tpushState(){\r\n\t\tthis.redo = [];\r\n\t\tthis.undo.push([...this.state.values]);\r\n\t}\r\n\r\n\thandleRewind = () => { \r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = Math.max(this.step-1, 0);\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements, true);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandleForward = () => { \r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = Math.min(this.step+1, this.buffer.length-1);\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements, true);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandleRepeat = () => {\r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = 0;\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandleEnd = () => {\r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = this.buffer.length - 1;\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandlePauseContinue = () => {\r\n\t\tif(!this.props.paused){\r\n\t\t\tclearTimeout(this.animationTimeout);\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_PAUSE,\r\n\t\t\t})\r\n\t\t}else{\r\n\t\t\tnew Promise(resolve => {\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.ANIMATION_CONTINUE\r\n\t\t\t\t})\r\n\t\t\t\tresolve();\r\n\t\t\t}).then(() => this.animation());\r\n\t\t}\r\n\t}\r\n\t\r\n\tloadGraph(elements: Array<Object>, keep=false) {\r\n    const nodes = this.cy.nodes();\r\n    const positions:{[id:string]:{x:number,y:number}} = {};\r\n\t\tnodes.forEach((node: CytoscapeElement) => {\r\n      if(keep) positions[node.id()] = JSON.parse(JSON.stringify(node.data('position')));\r\n\t\t\tthis.cy.remove(node);\r\n\t\t})\r\n\r\n\t\tfor (let i = 0; i < elements.length; i++) {\r\n\t\t\tthis.cy.add(JSON.parse(JSON.stringify(elements[i])));\r\n\t\t}\r\n\r\n\t\tthis.cy.nodes().forEach((node: CytoscapeElement) => {\r\n\t\t\tconst style = node.data('style');\r\n\t\t\tif (style != null) node.style(style);\r\n      const position = node.data('position');\r\n      if(keep && positions[node.id()]) node.position({x:positions[node.id()].x, y:positions[node.id()].y});\r\n\t\t\t//console.log(\"PREV\", node.position());\r\n\t\t\t//console.log(\"NEXT\", position);\r\n\t\t\tif (position != null) {\r\n\t\t\t\tlayoutOptions.positions[node.id()] = JSON.parse(JSON.stringify(position));\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tthis.cy.edges().forEach((edge: CytoscapeElement) => {\r\n\t\t\tconst style = edge.data('style');\r\n\t\t\tif (style != null) edge.style(style);\r\n\t\t})\r\n\r\n    this.refreshLayout();\r\n\t}\r\n\t\r\n\texportGraph(withStyle:boolean=false){\r\n\t\tconst elements:Array<Object> = [];\r\n\t\tthis.cy.nodes().forEach((node:CytoscapeElement) => {\r\n\t\t\telements.push({\r\n\t\t\t\tgroup: 'nodes',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: node.id(),\r\n\t\t\t\t\tvalue: node.data('value'),\r\n\t\t\t\t\tposition: node.position(),\r\n\t\t\t\t\tstyle: (withStyle? {\r\n\t\t\t\t\t\tcolor: node.style('color'),\r\n\t\t\t\t\t\tzIndex: node.style('z-index'),\r\n\t\t\t\t\t\tbackgroundColor: node.style('background-color'),\r\n\t\t\t\t\t\tborderWidth: node.style('border-width'),\r\n\t\t\t\t\t\twidth: node.style('width'),\r\n\t\t\t\t\t\theight: node.style('height'),\r\n\t\t\t\t\t\tvisibility: node.style('visibility'),\r\n\t\t\t\t\t} : {}),\r\n\t\t\t\t},\r\n\t\t\t\tposition: {\r\n\t\t\t\t\tx: node.position().x,\r\n\t\t\t\t\ty: node.position().y,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t\treturn elements;\r\n\t}\r\n\r\n  refreshLayout() {\r\n\t\tthis.layout.stop();\r\n    this.layout = this.cy.elements().makeLayout({...layoutOptions, animate: true});\r\n    this.layout.run();\r\n\t}\r\n  \r\n  addNode = (id: string, value: number | string) => {\r\n    this.cy.add({\r\n      group: 'nodes',\r\n      data: {\r\n        id,\r\n        value,\r\n\t\t\t},\r\n\t\t\tposition: {\r\n\t\t\t\tx: this.cy.width()/2 - (this.state.values.length-1)*(40/2) + 40*(parseInt(id)),\r\n\t\t\t\ty: this.cy.height()/4,\r\n\t\t\t},\r\n\t\t});\r\n\t\tlayoutOptions.positions[id] = {\r\n\t\t\tx: this.cy.width()/2 - (this.state.values.length-1)*(40/2) + 40*(parseInt(id)),\r\n\t\t\ty: this.cy.height()/4,\r\n\t\t}\r\n  }\r\n\t\r\n\taddShadow = (id: string, position: {x: number, y: number}) => {\r\n\t\tthis.cy.add({\r\n\t\t\tgroup: 'nodes',\r\n\t\t\tdata: { id },\r\n\t\t\tstyle: {'z-index': 1},\r\n\t\t\tposition,\r\n\t\t});\r\n\t\tlayoutOptions.positions[id] = position;\r\n\t}\r\n\r\n  animation(){\r\n\t\tlet step = () => {\r\n\t\t\tconsole.log(this.props.paused);\r\n\t\t\tif (this.step === this.buffer.length) {\r\n\t\t\t\t\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.ARRAY_SORTED_SUCCESS,\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.ANIMATION_PAUSE,\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(!this.props.animation){\r\n\t\t\t\tthis.cy.nodes().style(this.nodeStyle);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst {elements, lines, duration} = this.buffer[this.step++];\r\n\t\t\tif(this.props.paused) return;\r\n\t\t\tthis.loadGraph(elements);\r\n\t\t\tif(lines) this.props.dispatch({type: actions.CHANGE_LINE, payload: { lines }});\r\n\t\t\tconsole.log(duration);\r\n\t\t\tthis.animationTimeout = window.setTimeout(step, ((duration === undefined) ? 1000 : duration)/(this.props.speed));\r\n\t\t}\r\n\t\tstep();\r\n\t}\r\n\r\n  executeAnimation = (commands: Array<AnimationStep>, found?:boolean) => {\r\n\t\tthis.cy.nodes().style({\r\n\t\t\t'background-color': 'white',\r\n\t\t\t'color': 'black',\r\n\t\t});\r\n\t\t\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.STARTING_BUBBLESORT_INFO,\r\n\t\t});\r\n\t\tthis.step = 0;\r\n\t\tthis.animation();\r\n  }\r\n\r\n\tvaluesToGraph(){\r\n\t\tconst {values} = this.state;\r\n    for(let i = 0; i < values.length; i++){\r\n      this.addNode(i.toString(), values[i]);\r\n\t\t}\r\n\t\tthis.refreshLayout();\r\n\r\n\t}\r\n\r\n\tclearGraph(){\r\n\t\tconst nodes = this.cy.nodes();\r\n\t\tfor(let i = 0; i < nodes.length; i++){\r\n\t\t\tthis.cy.remove('node[id=\"'+nodes[i].id()+'\"]');\r\n\t\t}\r\n\t}\r\n\trunButton = () => {\r\n    if(this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_END,\r\n\t\t\t});\r\n\t\t\tthis.clearGraph();\r\n\t\t\tthis.valuesToGraph();\r\n\t\t\tclearTimeout(this.animationTimeout);\r\n\t\t\treturn;\r\n\t\t}\r\n    new Promise((resolve: () => void, reject) => { \r\n      this.props.dispatch({\r\n        type: actions.ANIMATION_START,\r\n      })\r\n\t\t\tconst commands = Mergesort(this.state.values, this.cy.width(), this.cy.height());\r\n\t\t\tthis.buffer = processCommands(this.exportGraph(), commands);     \r\n\t\t\tresolve();\r\n    }).then(()=> {\r\n      setTimeout(this.executeAnimation, 1000/this.props.speed);\r\n    })\r\n\t}\r\n\thandleClose = () => {\r\n\t\tthis.setState({show: false});\r\n\t}\r\n\r\n\tchangeArray = (values: Array<number>) => {\r\n\t\tthis.setState({values});\r\n\t}\r\n\r\n  render(){\r\n    return (\r\n\t\t\t<>\r\n\t\t\t\t<InputArrayModal \r\n\t\t\t\t\tshow={this.state.show} \r\n\t\t\t\t\thandleClose={this.handleClose} \r\n\t\t\t\t\tchangeArray={(v:Array<number>) => {this.pushState(); this.changeArray(v)}}\r\n\t\t\t\t\tcurrentValues={this.state.values}\r\n\t\t\t\t/>\r\n\t\t\t\t<div id=\"canvas\" className='standard-struct'/>\r\n\t\t\t</>\r\n\t\t)\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(MergeSort);","const Sort = (param) => {\r\n  const values = [];\r\n  for(let i = 0; i < param.length; i++) values.push(param[i]);\r\n  const n = values.length;\r\n  for(let j = 0; j < n; j++){\r\n    let sorted = true;\r\n    for(let i = 0; i < n-1; i++){\r\n      if(values[i] > values[i+1]){\r\n        sorted = false; \r\n        [values[i], values[i+1]] = [values[i+1], values[i]];\r\n      }\r\n    }\r\n    if(sorted) break;\r\n  }\r\n  return values;\r\n}\r\n\r\nexport default Sort;","import Sort from './BubbleSort-util';\r\nconst BinarySearch = (param, value) => {\r\n  const values = Sort(param);\r\n  const n = values.length;\r\n  const positions = Array(n).fill().map((value, index) => index.toString());\r\n  const defaultStyle = Array(n).fill({'border-width': 1, 'z-index': 0});\r\n  const commands = [];\r\n\r\n  let lo = 0, hi = n - 1;\r\n  let found = false;\r\n  while(lo <= hi){\r\n    commands.push({\r\n      eles: positions,\r\n      style: defaultStyle,\r\n      duration: 0,\r\n    });\r\n    const cmd = {eles: [], style: []};\r\n    for(let i = lo; i <= hi; i++){\r\n      cmd.eles.push(i.toString());\r\n      cmd.style.push({'border-width': 3, 'z-index': 1});\r\n    }\r\n    commands.push(cmd);\r\n    const mid = Math.floor((lo + hi)/2);\r\n    commands.push({\r\n      eles: [mid.toString()],\r\n      style: [{'background-color': 'gray', 'z-index': 2}],\r\n      lines: [3],\r\n    });\r\n    commands.push({\r\n      lines: (value < values[mid] ? [6, 7] : (values[mid] < value ? [8, 9] : [4, 5])),\r\n    });\r\n    if(values[mid] === value){\r\n      commands.push({\r\n        eles: [mid.toString()],\r\n        style: [{'background-color': 'lightgreen'}],\r\n        lines: [4, 5],\r\n      });\r\n      found = true;\r\n      break;\r\n    }\r\n\r\n    commands.push({\r\n      eles: [mid.toString()],\r\n      style: [{'background-color': 'white', 'z-index': 1}],\r\n      duration: 10,\r\n    });\r\n    if(values[mid] < value) lo = mid + 1;\r\n    else hi = mid - 1;\r\n  }\r\n  if(!found) commands.push({eles: [], style: [], lines: [10]});\r\n  return commands;\r\n}\r\n\r\nexport default BinarySearch;","import React from 'react';\r\nimport { CytoscapeElement, CytoEvent, AnimationStep } from '../Types/types';\r\nimport { Container, Row } from 'react-bootstrap';\r\nimport ControlBar from './ControlBar';\r\nimport Bubblesort from '../Algorithms/BubbleSort';\r\nimport actions from '../Actions/actions';\r\nimport MediaRecorder from '../utils/MediaRecorder';\r\nimport InputArrayModal from './InputArrayModal';\r\nimport InputModal from './InputModal';\r\nimport BinarySearchAlgo from '../Algorithms/BinarySearch';\r\nimport Sort from '../Algorithms/BubbleSort-util';\r\nimport processCommands from '../Processing/graph-processing';\r\nconst Styles = require('../Styles/Styles');\r\nconst cytoscape = require('cytoscape');\r\nconst { connect } = require('react-redux');\r\n\r\ntype storeState = {\r\n\tanimation: string,\r\n\tspeed: number,\r\n\tpaused: boolean,\r\n}\r\n\r\ntype Props = {\r\n\taction: string,\r\n  animation: boolean,\r\n  speed: number,\r\n\tdispatch: (action: Object) => Object,\r\n\tpaused: boolean,\r\n}\r\n\r\ntype stackState = Array<number>;\r\n\r\ntype State = {\r\n  show: boolean,\r\n  showInputModal: boolean,\r\n\tvalues: Array<number>,\r\n}\r\n\r\nconst mapStateToProps = (state: storeState) => {\r\n  return {\r\n    animation: state.animation,\r\n\t\tspeed: state.speed,\r\n\t\tpaused: state.paused,\r\n  }\r\n}\r\n\r\nclass BinarySearch extends React.Component<Props, State> {\r\n\t_isMounted = false;\r\n\t\r\n\t_mediaRecorder = new MediaRecorder();\r\n\r\n  cy = cytoscape();\r\n\r\n\tundo:Array<stackState> = [];\r\n\tredo:Array<stackState> = [];\r\n\r\n\tstate = {\r\n    show: false,\r\n    showInputModal: false,\r\n\t\tvalues: [1,2,3,4,5,6,7,8],\r\n\t}\r\n\r\n\tlayout = {\r\n\t\trun: () => { },\r\n\t\tstop: () => { },\r\n\t};\r\n\r\n\tnodeStyle = Styles.NODE;\r\n\toptions:Array<{name: string, run: () => void}>;\r\n\tbuffer: Array<{elements: Array<Object>, lines: Array<number>, duration: number}> = [];\r\n\tanimationTimeout = 0;\r\n\tstep = 0;\r\n\tconstructor(props:Props){\r\n    super(props);\r\n\t\tthis._mediaRecorder = new MediaRecorder(props.dispatch);\r\n\t\tthis.options = [\r\n\t\t\t{\r\n\t\t\t\tname: 'Buscar',\r\n\t\t\t\trun: () => this.setState({showInputModal: true}),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Cambiar arreglo',\r\n\t\t\t\trun: () => this.setState({show: true}),\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\t\r\n  componentDidMount() {\r\n\r\n\t\tthis._isMounted = true;\r\n\t\t\r\n    \r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: this.props.action,\r\n\t\t\tpayload:{\r\n\t\t\t\tphoto: () => this._mediaRecorder.takePicture(this.cy),\r\n\t\t\t\tgif: () => this._mediaRecorder.takeGif(this.cy),\r\n\t\t\t\toptions: this.options,\r\n\t\t\t\tundo: this.handleUndo,\r\n\t\t\t\tredo: this.handleRedo,\r\n\t\t\t\trewind: this.handleRewind,\r\n\t\t\t\tforward: this.handleForward,\r\n\t\t\t\tpause: this.handlePauseContinue,\r\n\t\t\t\trepeat: this.handleRepeat,\r\n\t\t\t\tend: this.handleEnd,\r\n\t\t\t}\r\n    })\r\n\t\t\r\n\t\tthis.initialize([]);\r\n\t\tthis.valuesToGraph();\r\n\t}\r\n\t\r\n\tcomponentDidUpdate(prevProps: Props, prevState: State){\r\n\t\tif(prevState.values !== this.state.values){\r\n\t\t\tthis.clearGraph();\r\n\t\t\tthis.valuesToGraph();\r\n\t\t}\r\n\r\n\t\tif(prevProps.animation && !this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.CHANGE_OPTIONS,\r\n\t\t\t\tpayload: { options: this.options}\r\n\t\t\t});\r\n\t\t}else if(!prevProps.animation && this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.CHANGE_OPTIONS,\r\n\t\t\t\tpayload: { options: [{name: 'Volver a edicion', run: this.runButton}]}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t}\r\n\tcomponentWillUnmount(){\r\n    this.props.dispatch({\r\n      type: actions.ANIMATION_END,\r\n    });\r\n    \r\n\t\tthis._isMounted = false;\r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tlet nodes = this.cy.nodes();\r\n\t\tnodes.forEach((node: CytoscapeElement) => {\r\n\t\t\tlet id = node.id();\r\n\t\t\tlet popper = document.getElementById(id + 'popper');\r\n\t\t\tif (popper) {\r\n\t\t\t\tdocument.body.removeChild(popper);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\thandleUndo = () => {\r\n\t\tif(this.undo.length === 0) return;\r\n\r\n\t\tif(this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t})\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst prevValues = this.undo.pop();\r\n\t\tthis.redo.push([...this.state.values]);\r\n\t\tif(prevValues) this.changeArray(prevValues);\r\n\t}\r\n\r\n\thandleRedo = () => {\r\n\t\tif(this.redo.length === 0) return;\r\n\r\n\t\tif(this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t})\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst prevValues = this.redo.pop();\r\n\t\tthis.undo.push([...this.state.values]);\r\n\t\tif(prevValues) this.changeArray(prevValues);\r\n\t}\r\n\r\n\thandleRewind = () => { \r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = Math.max(this.step-1, 0);\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandleForward = () => { \r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = Math.min(this.step+1, this.buffer.length-1);\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandleRepeat = () => {\r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = 0;\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandleEnd = () => {\r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = this.buffer.length - 1;\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\t\r\n\thandlePauseContinue = () => {\r\n\t\tif(!this.props.paused){\r\n\t\t\tclearTimeout(this.animationTimeout);\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_PAUSE,\r\n\t\t\t})\r\n\t\t}else{\r\n\t\t\tnew Promise(resolve => {\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.ANIMATION_CONTINUE\r\n\t\t\t\t})\r\n\t\t\t\tresolve();\r\n\t\t\t}).then(() => this.animation());\r\n\t\t}\r\n\t}\r\n\t\r\n\tpushState(){\r\n\t\tthis.redo = [];\r\n\t\tthis.undo.push([...this.state.values]);\r\n\t}\r\n\r\n\tloadGraph(elements:Array<Object>){\r\n\t\tconst nodes = this.cy.nodes();\r\n\t\tnodes.forEach((node:CytoscapeElement) => {\r\n\t\t\tthis.cy.remove(node);\r\n\t\t})\r\n\r\n\t\tfor(let i = 0; i < elements.length; i++){\r\n\t\t\tthis.cy.add(elements[i]);\r\n\t\t}\r\n\t\tthis.cy.nodes().forEach((node:CytoscapeElement) => {\r\n\t\t\tconst style = node.data('style');\r\n\t\t\tif(style != null) node.style(style);\r\n\t\t})\r\n\t\tthis.cy.edges().forEach((edge:CytoscapeElement) => {\r\n\t\t\tconst style = edge.data('style');\r\n\t\t\tif(style != null) edge.style(style);\r\n\t\t})\r\n\t}\r\n\t\r\n\texportGraph(withStyle:boolean=false){\r\n\t\tconst elements:Array<Object> = [];\r\n\t\tthis.cy.nodes().forEach((node:CytoscapeElement) => {\r\n\t\t\telements.push({\r\n\t\t\t\tgroup: 'nodes',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: node.id(),\r\n\t\t\t\t\tvalue: node.data('value'),\r\n\t\t\t\t\tposition: node.position(),\r\n\t\t\t\t\tstyle: (withStyle? {\r\n\t\t\t\t\t\tcolor: node.style('color'),\r\n\t\t\t\t\t\tbackgroundColor: node.style('background-color'),\r\n\t\t\t\t\t\tborderWidth: node.style('border-width'),\r\n\t\t\t\t\t\twidth: node.style('width'),\r\n\t\t\t\t\t\theight: node.style('height'),\r\n\t\t\t\t\t\tvisibility: node.style('visibility'),\r\n\t\t\t\t\t} : {}),\r\n\t\t\t\t},\r\n\t\t\t\tposition: {\r\n\t\t\t\t\tx: node.position().x,\r\n\t\t\t\t\ty: node.position().y,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t\treturn elements;\r\n\t}\r\n\r\n  refreshLayout() {\r\n\t\tthis.layout.stop();\r\n    this.layout = this.cy.elements().makeLayout({ name: 'preset' });\r\n    this.layout.run();\r\n\r\n\t}\r\n  \r\n  addNode = (id: string, value: number | string) => {\r\n    this.cy.add({\r\n      group: 'nodes',\r\n      data: {\r\n        id,\r\n        value,\r\n\t\t\t},\r\n\t\t\tposition: {\r\n\t\t\t\tx: this.cy.width()/2 - (this.state.values.length-1)*(40/2) + 40*(parseInt(id)),\r\n\t\t\t\ty: this.cy.height()/4,\r\n\t\t\t},\r\n\t\t});\r\n  }\r\n\t\r\n\tanimation(found=false){\r\n\t\tlet step = () => {\r\n\t\t\tif(!this.props.animation){\r\n\t\t\t\tthis.cy.nodes().style(this.nodeStyle);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (this.step === this.buffer.length) {\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: found ? actions.BINARY_SEARCH_FOUND_SUCCESS : actions.BINARY_SEARCH_NOT_FOUND_INFO,\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.ANIMATION_PAUSE,\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif(this.props.paused) return;\r\n\t\t\tconst {elements, lines, duration} = this.buffer[this.step++];\r\n\t\t\tthis.loadGraph(elements);\r\n\t\t\tif(lines) this.props.dispatch({type: actions.CHANGE_LINE, payload: { lines }});\r\n\t\t\tthis.refreshLayout();\r\n\t\t\tthis.animationTimeout = window.setTimeout(step, ((duration === undefined) ? 1000 : duration)/(this.props.speed));\r\n\t\t}\r\n\t\tstep();\r\n\t}\r\n  executeAnimation = (found?:boolean) => {\r\n\t\tthis.cy.nodes().style({\r\n\t\t\t'background-color': 'white',\r\n\t\t\t'color': 'black',\r\n\t\t});\r\n\t\t\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.STARTING_BINARY_SEARCH_INFO,\r\n\t\t});\r\n\t\tthis.step = 0;\r\n\t\tthis.animation(found);\r\n  }\r\n\r\n\tvaluesToGraph(){\r\n\t\tconst {values} = this.state;\r\n\t\tthis.cy.nodes().forEach((node:CytoscapeElement) => this.cy.remove(node));\r\n    for(let i = 0; i < values.length; i++){\r\n      this.addNode(i.toString(), values[i]);\r\n      this.refreshLayout();\r\n    }\r\n\t}\r\n\tinitialize(elements: Array<Object>){\r\n    this.cy = cytoscape({\r\n\r\n\t\t\tcontainer: document.getElementById('canvas'), // container to render in\r\n\r\n\t\t\telements,\r\n\r\n\t\t\tstyle: [ // the stylesheet for the graph\r\n\t\t\t\t{\r\n\t\t\t\t\tselector: 'node',\r\n\t\t\t\t\tstyle: {\r\n            ...Styles.NODE,\r\n            shape: 'square',\r\n          }\r\n\t\t\t\t},\r\n\t\t\t],\r\n\r\n\t\t\tlayout: {\r\n\t\t\t\tname: 'preset',\r\n\t\t\t},\r\n\t\t\theadless: false,\r\n\t\t\tstyleEnabled: true,\r\n\t\t\thideEdgesOnViewport: false,\r\n\t\t\thideLabelsOnViewport: false,\r\n\t\t\tuserPanningEnabled: false,\r\n\t\t\tzoomingEnabled: false,\r\n\t\t\ttextureOnViewport: false,\r\n\t\t\tmotionBlur: false,\r\n\t\t\tmotionBlurOpacity: 0.2,\r\n\t\t\tpixelRatio: '1.0',\r\n\t\t\tautoungrabify: true,\r\n\t\t});\r\n\r\n\t\tthis.cy.autopanOnDrag({ enabled: true, speed: 0.01 });\r\n\t\tthis.layout = this.cy.elements().makeLayout({\r\n\t\t\tname: 'preset',\r\n    });\r\n    this.layout.run();\r\n\t}\r\n\tclearGraph(){\r\n\t\tconst nodes = this.cy.nodes();\r\n\t\tfor(let i = 0; i < nodes.length; i++){\r\n\t\t\tthis.cy.remove('node[id=\"'+nodes[i].id()+'\"]');\r\n\t\t}\r\n\t}\r\n  runButton = (value:number) => {\r\n    if(this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_END,\r\n\t\t\t});\r\n\t\t\tthis.clearGraph();\r\n\t\t\tthis.valuesToGraph();\r\n\t\t\tclearTimeout(this.animationTimeout);\r\n\t\t\treturn;\r\n\t\t}\r\n    new Promise((resolve: (found:boolean) => void, reject) => { \r\n      this.props.dispatch({\r\n        type: actions.ANIMATION_START,\r\n      })\r\n\t\t\tconst commands = BinarySearchAlgo(this.state.values, value);\r\n\t\t\tthis.buffer = processCommands(this.exportGraph(), commands);\r\n\t\t\tconst found = this.cy.nodes('[value = '+value+']').length > 0;\r\n\t\t\tconsole.log(found);\r\n      resolve(found);\r\n    }).then((found:boolean)=> {\r\n      setTimeout(this.executeAnimation, 1000/this.props.speed, found);\r\n    })\r\n\t}\r\n\r\n\thandleClose = () => {\r\n\t\tthis.setState({show: false});\r\n\t}\r\n\t\r\n\r\n\tchangeArray = (values: Array<number>) => {\r\n    const sorted = Sort(values);\r\n\t\tthis.setState({values: sorted});\r\n\t}\r\n\r\n  render(){\r\n    return (\r\n\t\t\t<>\r\n        <InputModal\r\n          show={this.state.showInputModal}\r\n          handleClose={()=>this.setState({showInputModal: false})}\r\n          callback={(v:number)=>this.runButton(v)}\r\n          currentValue={0}\r\n        />\r\n\t\t\t\t<InputArrayModal \r\n\t\t\t\t\tshow={this.state.show} \r\n\t\t\t\t\thandleClose={this.handleClose} \r\n\t\t\t\t\tchangeArray={(v:Array<number>) => {this.pushState(); this.changeArray(v)}}\r\n\t\t\t\t\tcurrentValues={this.state.values}\r\n\t\t\t\t/>\r\n\t\t\t\t<div id=\"canvas\" className='standard-struct'/>\r\n\t\t\t</>\r\n\t\t)\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(BinarySearch);","import actions from \"../../Actions/actions\";\r\n\r\n// Simple array used to create commands for Linked List Animation\r\n\r\nclass LinkedListSimulator {\r\n  _data = [];\r\n\r\n  constructor(data = [], type = 'none'){\r\n    this._data = [...data];\r\n    this.type = type;\r\n  }\r\n  length(){\r\n    return this._data.length;\r\n  }\r\n\r\n  push_back(element, slow){\r\n    const {id, value} = element;\r\n    let source = undefined;\r\n    const commands = [];\r\n    let lines;\r\n    if(this.length() === 0){\r\n      commands.push({lines: [2,3]});\r\n    }else{\r\n      if(this.type === actions.SELECT_QUEUE){\r\n        lines = [4, 5, 6];\r\n      }else if(this.type === actions.SELECT_DOUBLE_LINKED_LIST){\r\n        lines = [4, 5, 6, 7];\r\n      }\r\n    }\r\n    if(slow){\r\n      for(let i = 0; i < this.length(); i++){\r\n        const {id} = this._data[i];\r\n        commands.push(\r\n          { eles: [id], style: [{'background-color': 'black', 'color': 'white'}], lines: [6, 7]},\r\n          { eles: [id], style: [{'background-color': 'white', 'color': 'black'}], duration: 10 },\r\n        )\r\n      }\r\n    }\r\n    if(this.length()){\r\n      source = this._data[this.length()-1].id;\r\n    }\r\n\r\n    if(this.type === actions.SELECT_SINGLE_LINKED_LIST) lines = [8];\r\n    commands.push({\r\n      eles: [], style: [],\r\n      inst: [{\r\n        name: 'push_back',\r\n        data: {\r\n          id, value, source,\r\n        }\r\n      }],\r\n      lines,\r\n    });\r\n    console.log(commands);\r\n    return commands;\r\n  }\r\n\r\n  pop_back(slow){\r\n    if(this.length() === 0) return [];\r\n    const commands = [];\r\n    if(slow){\r\n      for(let i = 0; i < this.length(); i++){\r\n        const {id} = this._data[i];\r\n        let lines;\r\n        if(this.length() === 1) lines = [2, 3, 4, 5];\r\n        else lines = [7, 8, 9];\r\n        commands.push(\r\n          { eles: [id], style: [{'background-color': 'black', 'color': 'white'}], lines},\r\n          { eles: [id], style: [{'background-color': 'white', 'color': 'black'}], duration: 10 },\r\n        )\r\n      }\r\n    }\r\n    const {id} = this._data[this.length()-1];\r\n    let lines;\r\n    if(this.type === actions.SELECT_SINGLE_LINKED_LIST && this.length() > 1) lines = [10, 11];\r\n    else if(this.type === actions.SELECT_DOUBLE_LINKED_LIST){\r\n      commands.push({\r\n        eles: [id], \r\n        style: [{'background-color': 'black', 'color':'white'}], \r\n        lines: [2, 3],\r\n      });\r\n      if(this.length() === 1) lines = [4, 5];\r\n      else lines = [6,7];\r\n    }\r\n    commands.push(\r\n      {\r\n        eles: [], style: [],\r\n        inst: [{\r\n          name: 'pop_back',\r\n          data: { id, value: this.length()-1},\r\n        }],\r\n        lines,\r\n      }\r\n    );\r\n    return commands;\r\n  }\r\n\r\n  push_front(element){\r\n    const {id, value} = element;\r\n    let target = undefined;\r\n    if(this.length()) target = this._data[0].id;\r\n    let lines;\r\n    if(this.length() === 0){\r\n      lines = [2,3];\r\n    }else{\r\n      if(this.type === actions.SELECT_SINGLE_LINKED_LIST) lines = [4,5,6];\r\n      else if(this.type === actions.SELECT_DOUBLE_LINKED_LIST) lines = [4,5,6,7];\r\n      else if(this.type === actions.SELECT_STACK) lines = [4,5,6];\r\n    }\r\n    const commands = [{\r\n      eles: [], style: [],\r\n      inst: [{\r\n        name: 'push_front',\r\n        data: {\r\n          id, value, target,\r\n        }\r\n      }],\r\n      lines,\r\n    }]\r\n    return commands;\r\n  }\r\n\r\n  pop_front(){\r\n    if(this.length() === 0) return [{eles: [], style: []}];\r\n    const {id} = this._data[0];\r\n    let lines;\r\n    const commands = [];\r\n    if(this.type === actions.SELECT_SINGLE_LINKED_LIST || this.type === actions.SELECT_STACK) lines = [2,3,4];\r\n    else if(this.type === actions.SELECT_DOUBLE_LINKED_LIST){\r\n      commands.push({\r\n        eles: [id], style: [{'background-color': 'black', 'color': 'white'}],\r\n        lines: [2, 3],\r\n      });\r\n      if(this.length() === 1) lines = [4, 5];\r\n      else lines = [6, 7];\r\n    }else{\r\n      if(this.length() === 1) lines = [3,4];\r\n      else lines = [5,6];\r\n    }\r\n    commands.push(\r\n      {\r\n        eles: [], style: [],\r\n        inst: [{\r\n          name: 'pop_front',\r\n          data: { id },\r\n        }],\r\n        lines,\r\n      }\r\n    );\r\n    //this._data.shift();\r\n    return commands;\r\n  }\r\n\r\n  search(value){\r\n    const n = this.length();\r\n    const commands = [];\r\n    for(let i = 0; i < n; i++){\r\n      //Animations steps here\r\n      const id = this._data[i].id;\r\n      commands.push({\r\n        eles: [id],\r\n        style: [{ 'background-color': 'black', 'color': 'white'}],\r\n      });\r\n\r\n      if(this._data[i].value === value){\r\n        commands.push({\r\n          eles: [id],\r\n          style: [{'background-color': 'lightgreen', 'color': 'black'}],\r\n        })\r\n        return true;\r\n      }\r\n      commands.push({\r\n        eles: [id],\r\n        style: [{'background-color': 'white', 'color': 'black'}],\r\n        duration: 10,\r\n      })\r\n    }\r\n    return commands;\r\n  }\r\n\r\n  insert_before(nodeId, newId, value, slow = false){\r\n    const n = this.length();\r\n    const commands = [];\r\n    let i;\r\n    for(i = 0; i < n; i++){\r\n      const id = this._data[i].id;\r\n      if(nodeId === id) break;\r\n      if(slow){\r\n        commands.push(\r\n          {\r\n            eles: [id],\r\n            style: [{ 'background-color': 'black', 'color': 'white'}],\r\n            lines: [7, 8],\r\n          },\r\n          {\r\n            eles: [id],\r\n            style: [{ 'background-color': 'white', 'color': 'black'}],\r\n            duration: 10,\r\n          }\r\n        );\r\n      }\r\n      \r\n    }\r\n    if(i === n) return commands;\r\n    const pos = i;\r\n    let prev = '', next = nodeId;\r\n    let lines;\r\n    if(this.type === actions.SELECT_SINGLE_LINKED_LIST){\r\n      if(pos === 0) lines = [2, 3, 4];\r\n      else lines = [9, 10];\r\n    }else{\r\n      if(pos === 0) lines = [5, 6];\r\n      else lines = [7, 8];\r\n    }\r\n    if(pos - 1 >= 0){\r\n      prev = this._data[pos-1].id;\r\n      commands.push({\r\n        inst: [\r\n          {\r\n            name: 'remove_edge',\r\n            data: {source: prev, target: next}\r\n          }\r\n        ],\r\n        lines: (this.type === actions.SELECT_DOUBLE_LINKED_LIST ? [2, 3, 4] : undefined),\r\n        duration: 500,\r\n      });\r\n    }\r\n    commands.push({\r\n      inst: [\r\n        {\r\n          name: 'add_node_before',\r\n          data: {id: newId, value, pos},\r\n        },\r\n        {\r\n          name: 'add_edge',\r\n          data: {source: prev, target: newId},\r\n        },\r\n        {\r\n          name: 'add_edge',\r\n          data: {source: newId, target: next},\r\n        },\r\n      ],\r\n      lines,\r\n    });\r\n    return commands;\r\n  }\r\n\r\n  insert_after(nodeId, newId, value, slow = false){\r\n    const n = this.length();\r\n    const commands = [];\r\n    let i;\r\n    for(i = 0; i < n; i++){\r\n      const id = this._data[i].id;\r\n      if(slow){\r\n        commands.push(\r\n          {\r\n            eles: [id],\r\n            style: [{ 'background-color': 'black', 'color': 'white'}],\r\n            duration: 500,\r\n          },\r\n          {\r\n            eles: [id],\r\n            style: [{ 'background-color': 'white', 'color': 'black'}],\r\n            duration: 10,\r\n          }\r\n        );\r\n      }\r\n      if(nodeId === id) break;\r\n    }\r\n    if(i === n) return commands;\r\n\r\n    const pos = i;\r\n    let prev = nodeId, next = '';\r\n    if(pos + 1 < this.length()) next = this._data[pos+1].id;\r\n    if(pos + 1 < this.length()){\r\n      commands.push({\r\n        inst: [\r\n          {\r\n            name: 'remove_edge',\r\n            data: {source: prev, target: next},\r\n            duration: 500,\r\n          }\r\n        ],\r\n        lines: (this.type === actions.SELECT_DOUBLE_LINKED_LIST ? [2, 3, 4] : [2, 3]),\r\n      });\r\n    }\r\n    let lines;\r\n    if(this.type === actions.SELECT_DOUBLE_LINKED_LIST){\r\n      lines = (pos === this.length() - 1 ? [5, 6] : [7, 8]);\r\n    }else lines = [4];\r\n    \r\n    commands.push({\r\n      inst: [\r\n        {\r\n          name: 'add_node',\r\n          data: {id: newId, value, pos},\r\n        },\r\n        {\r\n          name: 'add_edge',\r\n          data: {source: prev, target: newId},\r\n        },\r\n        {\r\n          name: 'add_edge',\r\n          data: {source: newId, target: next},\r\n        },\r\n      ],\r\n      lines,\r\n      duration: 500,\r\n    });\r\n    return commands;\r\n  }\r\n  delete_position(nodeId, slow = false){\r\n    const n = this.length();\r\n    const commands = [];\r\n    let i;\r\n    for(i = 0; i < n; i++){\r\n      const id = this._data[i].id;\r\n      if(slow){\r\n        let lines;\r\n        if(nodeId === id && i === 0) lines = [1, 2];\r\n        else lines = [6, 7, 8];\r\n        commands.push(\r\n          {\r\n            eles: [id],\r\n            style: [{ 'background-color': 'black', 'color': 'white'}],\r\n            duration: 1000,\r\n            lines,\r\n          },\r\n          {\r\n            eles: [id],\r\n            style: [{ 'background-color': 'white', 'color': 'black'}],\r\n            duration: 10,\r\n          }\r\n        );\r\n      }\r\n      if(nodeId === id) break;\r\n    }\r\n    if(i === n) return commands;\r\n    const pos = i;\r\n    let source, target;\r\n    if(pos > 0 && pos + 1 < this.length()){\r\n      source = this._data[pos-1].id;\r\n      target = this._data[pos+1].id;\r\n    }\r\n    let lines;\r\n    if(this.type === actions.SELECT_SINGLE_LINKED_LIST){\r\n      if(pos === 0) lines = [3];\r\n      else lines = [9, 10];\r\n    }else if(this.type === actions.SELECT_DOUBLE_LINKED_LIST){\r\n      let caseLines;\r\n      if(this.length() === 1) caseLines = [2, 3];\r\n      else if(pos === 0) caseLines = [4, 5];\r\n      else if(pos === this.length() - 1) caseLines = [6, 7];\r\n      else caseLines = [8, 9];\r\n      commands.push({\r\n        eles: [nodeId], style: [{'background-color': 'black', 'color': 'white'}],\r\n        lines: caseLines,\r\n      });\r\n\r\n      lines = [10];\r\n    }\r\n\r\n    commands.push({\r\n      inst: [{\r\n        name: 'remove',\r\n        data: {id: nodeId, value: pos, source, target}\r\n      }],\r\n      lines,\r\n      duration: 500,\r\n    });\r\n    return commands;\r\n  }\r\n\r\n\r\n}\r\n\r\nexport default LinkedListSimulator;","import actions from '../Actions/actions';\r\nimport { CytoscapeElement, CytoEvent, AnimationStep } from '../Types/types';\r\nimport LinkedListSimulator from '../Algorithms/DS/LinkedListSimulator';\r\nconst Styles = require('../Styles/Styles');\r\nconst cytoscape = require('cytoscape');\r\nconst { connect } = require('react-redux');\r\n\r\ntype exportStep = {\r\n  elements: Array<Object>\r\n  lines: Array<number>,\r\n  duration: number,\r\n  pseudo?: Array<Object>,\r\n  list?: Array<Object>,\r\n}\r\n\r\ntype pseudoSet = {\r\n  main: Array<{text: string, ind: number}>,\r\n  pushFront: Array<{text: string, ind: number}>,\r\n  pushBack: Array<{text: string, ind: number}>,\r\n  popFront: Array<{text: string, ind: number}>,\r\n  popBack: Array<{text: string, ind: number}>,\r\n  insertBefore: Array<{text: string, ind: number}>,\r\n  insertAfter: Array<{text: string, ind: number}>,\r\n  remove: Array<{text: string, ind: number}>,\r\n}\r\n\r\nclass ListProcessor{\r\n  cy = cytoscape();\r\n  vh:number;\r\n  vw:number;\r\n  list = new LinkedListSimulator();\r\n  buffer:Array<exportStep> = [];\r\n  doublyLinked:boolean;\r\n  constructor(vw: number, vh: number, doubly:boolean, type: string){\r\n    this.vh = vh; this.vw = vw; \r\n    this.doublyLinked = doubly;\r\n    this.list = new LinkedListSimulator([], type);\r\n  }\r\n\r\n  loadGraph(elements:Array<Object>=[], list:Array<Object>=[]){\r\n    this.cy = cytoscape({\r\n      elements: JSON.parse(JSON.stringify(elements)),\r\n    });\r\n    this.list._data = [...list];\r\n  }\r\n  \r\n  exportGraph(){\r\n\t\tconst elements:Array<Object> = [];\r\n\t\tthis.cy.nodes().forEach((node:CytoscapeElement) => {\r\n      let prev = node.data('prevPosition');\r\n      if(!prev) prev = node.data('position');\r\n\t\t\telements.push({\r\n\t\t\t\tgroup: 'nodes',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: node.id(),\r\n          value: node.data('value'),\r\n          position: node.data('position'),\r\n          style: node.data('style'),\r\n\t\t\t\t},\r\n\t\t\t\tposition: prev,\r\n\t\t\t});\r\n\t\t});\r\n\t\tthis.cy.edges().forEach((edge:CytoscapeElement) => {\r\n\t\t\telements.push({\r\n\t\t\t\tgroup: 'edges',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: edge.id(),\r\n\t\t\t\t\tsource: edge.source().id(), target: edge.target().id(),\r\n          weight: edge.data('weight'),\r\n          style: edge.data('style'),\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t\treturn elements;\r\n  }\r\n\r\n  layoutProcessing(){\r\n    const n = this.list.length();\r\n    if(n === 0) return;\r\n    const mid = this.vw/2;\r\n    for(let i = 0; i < n; i++){\r\n      const {id} = this.list._data[i];\r\n      const node = this.cy.getElementById(id);\r\n      const prevPosition = node.data('position');\r\n      node.data('prevPosition', {x: prevPosition.x, y: prevPosition.y});\r\n      node.data('position', { x: mid - (n-1)*(40) + 70*i, y: this.vh/4 });\r\n    }\r\n  }\r\n\r\n  removeNode = (node: string) => {\r\n\t\tthis.cy.remove('node[id=\"' + node + '\"]');\r\n  }\r\n  \r\n  removeEdge = (edge: string) => {\r\n\t\tthis.cy.remove('edge[id=\"' + edge + '\"]');\r\n  }\r\n  \r\n  addNode(id: string, value: number, position: {x: number, y: number} = {x: 0, y: 0}){\r\n    this.cy.add({\r\n      group: 'nodes',\r\n      data: {\r\n        id,\r\n        value,\r\n        position: {\r\n          x: position.x,\r\n          y: position.y,\r\n        }\r\n      },\r\n    });\r\n  }\r\n  \r\n  addEdge(x: string, y: string) {\r\n    //this.pushState();\r\n\t\tthis.cy.add({\r\n\t\t\tgroup: 'edges',\r\n\t\t\tdata: {\r\n\t\t\t\tid: x + '-' + y,\r\n\t\t\t\tsource: x,\r\n        target: y,\r\n        weight: 'sig',\r\n      },\r\n    });\r\n  }\r\n  \r\n  pushStep(lines: Array<number> = [], duration: number = 0){\r\n    this.buffer.push({\r\n      elements: this.exportGraph(),\r\n      lines,\r\n      duration,\r\n      list: this.list._data,\r\n    });\r\n  }\r\n  processCommands(commands: Array<AnimationStep>){\r\n\t\tthis.cy.nodes().style({\r\n\t\t\t'background-color': 'white',\r\n\t\t\t'color': 'black',\r\n    });\r\n    this.buffer = [];\r\n    let lastLines:Array<number> = [];\r\n    let lastDuration = 0;\r\n    this.pushStep([], 0);\r\n    console.log(commands);\r\n    for(let pos = 0; pos < commands.length; pos++){\r\n      let { eles, style, duration, inst, lines} = commands[pos];\r\n      if(duration == null) duration = 1000;\r\n      if(lines == null) lines = lastLines;\r\n      this.layoutProcessing();\r\n      this.pushStep(lastLines, lastDuration);\r\n      lastLines = lines;\r\n      lastDuration = duration;\r\n\r\n      if (eles) {\r\n        eles.forEach((ele, index) => {\r\n          if(style) this.cy.getElementById(ele).data('style', style[index]);\r\n        });\r\n      }\r\n      \r\n      if(inst){\r\n        inst.forEach(ele => {\r\n          if(ele.data == null) return;\r\n          const {id, value, source, target} = ele.data;\r\n\r\n          if(ele.name === 'remove'){\r\n            if(id !== undefined) this.removeNode(id);\r\n            if(source != null && target != null) this.addEdge(source, target);\r\n            if(value !== undefined) this.list._data.splice(value, 1);\r\n          }else if(ele.name === 'add'){\r\n            if(id !== undefined && value !== undefined){\r\n              this.addNode(id, value);\r\n              this.list._data.push({id, value});\r\n              if(source !== undefined) this.addEdge(source, id);\r\n              if(target !== undefined) this.addEdge(id, target);\r\n            }\r\n          }else if(ele.name === 'push_back'){\r\n            if(id != null && value != null){\r\n              const n = this.list.length();\r\n              this.addNode(id, value, {x: this.vw/2 + n*40, y: this.vh/4 - 70});\r\n              this.list._data.push({id, value});\r\n              if(source != null) this.addEdge(source, id);\r\n            }\r\n          }else if(ele.name === 'push_front'){\r\n            if(id != null && value != null){\r\n              this.addNode(id, value, {x: this.vw/2 - this.list.length()*40, y: this.vh/4 - 70});\r\n              this.list._data.unshift({id, value});\r\n              if(target != null) this.addEdge(id, target);\r\n            }\r\n          }else if(ele.name === 'pop_front'){\r\n            if(id != null){\r\n              this.removeNode(id);\r\n              this.list._data.shift();\r\n            }\r\n          }else if(ele.name === 'pop_back'){\r\n            if(id != null){\r\n              this.removeNode(id);\r\n              this.list._data.pop();\r\n            }\r\n          }else if(ele.name === 'add_node_before'){\r\n            let {id, value, pos} = ele.data;\r\n            if(id != null && value != null && pos != null){\r\n              const x = this.vw/2 - (this.list.length()-1)*(40) + 70*pos;\r\n              this.addNode(id, value, {x, y: this.vh/4 - 70});\r\n              if(pos === 0) this.list._data.unshift({id, value});\r\n              else{\r\n\r\n                let rest = this.list._data.splice(pos);\r\n                this.list._data.push({id, value});\r\n                this.list._data = this.list._data.concat(...rest);\r\n              }\r\n            }\r\n          }else if(ele.name === 'add_node'){\r\n            let {id, value, pos} = ele.data;\r\n            if(id != null && value != null && pos != null){\r\n              const x = this.vw/2 - (this.list.length()-1)*(40) + 70*pos;\r\n              this.addNode(id, value, {x, y: this.vh/4 - 70});\r\n              pos++;\r\n              if(pos === this.list.length()) this.list._data.push({id, value});\r\n              else{\r\n                let rest = this.list._data.splice(pos);\r\n                this.list._data.push({id, value});\r\n                this.list._data = this.list._data.concat(...rest);\r\n              }\r\n            }\r\n          }else if(ele.name === 'add_edge'){\r\n            let {source, target} = ele.data;\r\n            if(source && target){\r\n              console.log('ADD', source, target);\r\n              this.addEdge(source, target);\r\n            }\r\n          }else if(ele.name === 'remove_edge'){\r\n            let {source, target} = ele.data;\r\n            if(source && target){\r\n              this.removeEdge(source+'-'+target);\r\n              if(this.doublyLinked) this.removeEdge(target+'-'+source);\r\n            }\r\n          }\r\n        });\r\n      }\r\n    }\r\n    this.layoutProcessing();\r\n    this.pushStep(lastLines, lastDuration);\r\n  }\r\n\r\n  pushFront(value: number = 0){\r\n    /*\r\n    this.props.dispatch({\r\n      type: actions.CHANGE_PSEUDO,\r\n      payload: {\r\n        pseudo: this.props.pseudoset.pushFront,\r\n      }\r\n    });\r\n    */\r\n    let id = 0;\r\n    while(this.cy.getElementById(id.toString()).length > 0) id++;\r\n    const commands = this.list.push_front({id: id.toString(), value});\r\n    this.processCommands(commands);\r\n    this.layoutProcessing();\r\n    this.pushStep();\r\n    //console.log(this.buffer);\r\n    return this.buffer;\r\n  }\r\n\r\n\r\n  pushBack(value: number = 0, slow:boolean = false){\r\n    /*\r\n    this.props.dispatch({\r\n      type: actions.CHANGE_PSEUDO,\r\n      payload: {\r\n        pseudo: this.props.pseudoset.pushBack,\r\n      }\r\n    });\r\n    */\r\n    let id = 0;\r\n    while(this.cy.getElementById(id.toString()).length > 0) id++;\r\n    const commands = this.list.push_back({id: id.toString(), value}, slow);\r\n    this.processCommands(commands);\r\n    this.layoutProcessing();\r\n    this.pushStep();\r\n    return this.buffer;\r\n  }\r\n\r\n  popFront(){\r\n    /*\r\n    this.props.dispatch({\r\n      type: actions.CHANGE_PSEUDO,\r\n      payload: {\r\n        pseudo: this.props.pseudoset.popFront,\r\n      }\r\n    });\r\n    */\r\n    const commands = this.list.pop_front();\r\n    this.processCommands(commands);\r\n    this.layoutProcessing();\r\n    this.pushStep();\r\n    return this.buffer;\r\n  }\r\n\r\n  popBack(slow:boolean=false){\r\n    /*\r\n    this.props.dispatch({\r\n      type: actions.CHANGE_PSEUDO,\r\n      payload: {\r\n        pseudo: this.props.pseudoset.popBack,\r\n      }\r\n    });\r\n    */\r\n    const commands = this.list.pop_back(slow);\r\n    this.processCommands(commands);\r\n    this.layoutProcessing();\r\n    this.pushStep();\r\n    return this.buffer;\r\n  }\r\n\r\n  insert(value:number = 0, where:string, slow = false, nodeId: string){\r\n    /*\r\n    this.props.dispatch({\r\n      type: actions.CHANGE_PSEUDO,\r\n      payload: {\r\n        pseudo: (where === 'before' ? this.props.pseudoset.insertBefore : this.props.pseudoset.insertAfter),\r\n      }\r\n    });\r\n    */\r\n    let id = 0;\r\n    while(this.cy.getElementById(id.toString()).length > 0) id++;\r\n    let commands;\r\n    console.log(nodeId);\r\n    console.log(this.list._data);\r\n    if(where === 'before') commands = this.list.insert_before(nodeId, id.toString(), value, slow);\r\n    else commands = this.list.insert_after(nodeId, id.toString(), value, slow);\r\n    this.processCommands(commands);\r\n    this.layoutProcessing();\r\n    this.pushStep();\r\n    return this.buffer;\r\n  }\r\n\r\n  remove(slow = false, nodeId: string){\r\n\r\n    /*\r\n    this.props.dispatch({\r\n      type: actions.CHANGE_PSEUDO,\r\n      payload: {\r\n        pseudo: this.props.pseudoset.remove,\r\n      }\r\n    });\r\n    */\r\n    const commands = this.list.delete_position(nodeId, slow);  \r\n    this.processCommands(commands);\r\n    this.layoutProcessing();\r\n    this.pushStep();\r\n    return this.buffer;\r\n  }\r\n}\r\n\r\nexport default ListProcessor;","import React from 'react';\r\nimport MediaRecorder from '../utils/MediaRecorder';\r\nimport LinkedListSimulator from '../Algorithms/DS/LinkedListSimulator';\r\nimport ListProcessor from '../Processing/list-processing';\r\nimport actions from '../Actions/actions';\r\nimport { AnimationStep, CytoscapeElement, CytoEvent } from '../Types/types';\r\nimport InputModal from './InputModal';\r\n\r\nconst cytoscape = require('cytoscape');\r\nconst Styles = require('../Styles/Styles');\r\nconst { connect } = require('react-redux');\r\n\r\ntype pseudoSet = {\r\n  main: Array<{text: string, ind: number}>,\r\n  pushFront: Array<{text: string, ind: number}>,\r\n  pushBack: Array<{text: string, ind: number}>,\r\n  popFront: Array<{text: string, ind: number}>,\r\n  popBack: Array<{text: string, ind: number}>,\r\n  insertBefore: Array<{text: string, ind: number}>,\r\n  insertAfter: Array<{text: string, ind: number}>,\r\n  remove: Array<{text: string, ind: number}>,\r\n}\r\n\r\ntype exportStep = {\r\n  elements: Array<Object>\r\n  lines: Array<number>,\r\n  duration: number,\r\n}\r\n\r\ntype options = {\r\n  name: string,\r\n  positions: { [id: string]: { x: number, y: number } },\r\n  padding: number,\r\n  animate: boolean,\r\n  animationDuration: number,\r\n}\r\n\r\nlet layoutOptions: options = {\r\n  name: 'preset',\r\n  positions: {}, // map of (node id) => (position obj); or function(node){ return somPos; }\r\n  padding: 30, // padding on fit\r\n  animate: true, // whether to transition the node positions\r\n  animationDuration: 500, // duration of animation in ms if enabled\r\n};\r\n\r\ntype Props = {\r\n  dispatch: (action: Object) => Object,\r\n\r\n  action: string,\r\n  type: string,\r\n\talgorithm: string,\r\n\r\n\tanimation: Boolean,\r\n\tselection: {\r\n\t\ttype: string,\r\n\t\tid: string,\r\n\t\tweight: string,\r\n\t}\r\n\tspeed: number,\r\n\r\n  options: Array<{name: string, run: () => void}>,\r\n\tloadingGraph: Boolean,\r\n  data: string,\r\n  \r\n  pseudoset: pseudoSet,\r\n  paused: boolean,\r\n}\r\n\r\ntype State = {\r\n  showPushFrontModal: boolean,\r\n  showPushBackModal: boolean,\r\n  showPushAfterModal: boolean,\r\n  showPushBeforeModal: boolean,\r\n  showDeleteModal: boolean,\r\n}\r\ntype storeState = {\r\n  animation: boolean,\r\n  speed: number,\r\n  selection: Object,\r\n  paused: boolean,\r\n}\r\n\r\ntype stackState = {\r\n  list: Array<Object>,\r\n  elements: Array<Object>,\r\n}\r\n\r\nconst mapStateToProps = (state: storeState) => {\r\n  return {\r\n    animation: state.animation,\r\n    speed: state.speed,\r\n    selection: state.selection,\r\n    paused: state.paused,\r\n  }\r\n}\r\nclass LinkedList extends React.Component<Props, State>{\r\n  _mediaRecorder = new MediaRecorder(this.props.dispatch);\r\n  _isMounted = false;\r\n\r\n  list = new LinkedListSimulator();\r\n  undo: Array<stackState> = [];\r\n  redo: Array<stackState> = [];\r\n\r\n  ListProcessor:any;\r\n  layout = {\r\n\t\trun: () => { },\r\n\t\tstop: () => { },\r\n  };\r\n  \r\n  doublyLinked = false;\r\n\r\n  state = {\r\n    showDeleteModal: false,\r\n    showPushBeforeModal: false,\r\n    showPushBackModal: false,\r\n    showPushFrontModal: false,\r\n    showPushAfterModal: false,\r\n  }\r\n\r\n  cy = cytoscape();\r\n\r\n  nodeStyle = {...Styles.NODE, shape: 'square'};  \r\n  edgeStyle = {};\r\n  buffer:Array<exportStep> =[];\r\n  options:Array<{name: string, run: () => void}> = [];\r\n\r\n  step = 0;\r\n  animationTimeout = 0;\r\n  constructor(props:Props){\r\n    super(props);\r\n    if(this.props.type === actions.SELECT_SINGLE_LINKED_LIST || this.props.type === actions.SELECT_DOUBLE_LINKED_LIST){\r\n      this.options = [\r\n        {\r\n          name: 'Insertar al frente',\r\n          run: () => \r\n              this.props.animation\r\n              ? this.props.dispatch({type: actions.ANIMATION_RUNNING_ERROR})\r\n              : this.setState({showPushFrontModal: true}),\r\n        },\r\n        {\r\n          name: 'Insertar al final',\r\n          run: () => \r\n              this.props.animation\r\n              ? this.props.dispatch({type: actions.ANIMATION_RUNNING_ERROR})\r\n              : this.setState({showPushBackModal: true}),\r\n        },\r\n        {\r\n          name: 'Extraer frente',\r\n          run: () => this.popFront(),\r\n        },\r\n        {\r\n          name: 'Extraer final',\r\n          run: () => this.popBack(!this.doublyLinked),\r\n        },\r\n        {\r\n          name: 'Insertar antes de',\r\n          run: () => \r\n            this.props.selection  \r\n            ? this.setState({showPushBeforeModal: true})\r\n            : this.props.dispatch({type: actions.NO_NODE_SELECTED_ERROR})\r\n        },\r\n        {\r\n          name: 'Insertar despues de',\r\n          run: () => \r\n            this.props.selection  \r\n            ? this.setState({showPushAfterModal: true})\r\n            : this.props.dispatch({type: actions.NO_NODE_SELECTED_ERROR})\r\n        },\r\n        {\r\n          name: 'Eliminar nodo',\r\n          run: () => this.remove(!this.doublyLinked),\r\n        }\r\n      ]\r\n    }else if(this.props.type === actions.SELECT_STACK){\r\n      this.options = [\r\n        {\r\n          name: 'Apilar',\r\n          run: () => \r\n              this.props.animation\r\n              ? this.props.dispatch({type: actions.ANIMATION_RUNNING_ERROR})\r\n              : this.setState({showPushFrontModal: true}),\r\n        },\r\n        {\r\n          name: 'Desapilar',\r\n          run: () => this.popFront(),\r\n        }\r\n      ]\r\n    }else if(this.props.type === actions.SELECT_QUEUE){\r\n      this.options = [\r\n        {\r\n          name: 'Encolar',\r\n          run: () =>\r\n              this.props.animation\r\n              ? this.props.dispatch({type: actions.ANIMATION_RUNNING_ERROR}) \r\n              : this.setState({showPushBackModal: true}),\r\n        },\r\n        {\r\n          name: 'Desencolar',\r\n          run: () => this.popFront(),\r\n        }\r\n      ]\r\n    }\r\n  }\r\n\r\n  initialize(state: stackState){\r\n\r\n    this.edgeStyle = {...Styles.EDGE, ...Styles.EDGE_DIRECTED};\r\n\r\n    if(this.doublyLinked) this.edgeStyle = {...this.edgeStyle, ...Styles.EDGE_DOUBLE}\r\n    const {list, elements} = state;\r\n\t\tthis.cy = cytoscape({\r\n\r\n\t\t\tcontainer: document.getElementById('canvas'), // container to render in\r\n\r\n\t\t\telements,\r\n\r\n\t\t\tstyle: [ // the stylesheet for the graph\r\n\t\t\t\t{\r\n\t\t\t\t\tselector: 'node',\r\n\t\t\t\t\tstyle: {\r\n            ...Styles.NODE,\r\n            shape: 'square',\r\n          }\r\n\t\t\t\t},\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\tselector: 'edge',\r\n\t\t\t\t\tstyle: this.edgeStyle,\r\n\t\t\t\t}\r\n\t\t\t],\r\n\r\n\t\t\tlayout: {\r\n\t\t\t\tname: 'preset',\r\n\t\t\t},\r\n\t\t\theadless: false,\r\n\t\t\tstyleEnabled: true,\r\n\t\t\thideEdgesOnViewport: false,\r\n\t\t\thideLabelsOnViewport: false,\r\n\t\t\tuserPanningEnabled: false,\r\n\t\t\tzoomingEnabled: false,\r\n\t\t\ttextureOnViewport: false,\r\n\t\t\tmotionBlur: false,\r\n\t\t\tmotionBlurOpacity: 0.2,\r\n      pixelRatio: '1.0',\r\n      autoungrabify: true,\r\n    });\r\n\r\n    this.list._data = list;\r\n    this.cy.on('tap', 'node', (event: CytoEvent) => this.handleClickOnNode(event.target));\r\n    this.cy.on('resize', () => this.refreshLayout(false))\r\n    this.layout = this.cy.elements().makeLayout(layoutOptions);\r\n    this.layout.run();\r\n    this.refreshLayout(false);\r\n  }  \r\n\r\n  componentDidUpdate(prevProps:Props){\r\n    layoutOptions.animationDuration = 500/this.props.speed;\r\n\r\n    if (prevProps.animation && !this.props.animation) {\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.CHANGE_OPTIONS,\r\n\t\t\t\tpayload: { options: this.options }\r\n\t\t\t});\r\n\t\t} else if (!prevProps.animation && this.props.animation) {\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.CHANGE_OPTIONS,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\toptions: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tname: 'Volver a edicion',\r\n\t\t\t\t\t\t\trun: () => {\r\n                clearTimeout(this.animationTimeout);\r\n\t\t\t\t\t\t\t\tthis.loadGraph(this.buffer[this.buffer.length-1].elements);\r\n\t\t\t\t\t\t\t\tthis.props.dispatch({ type: actions.ANIMATION_END })\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n  }\r\n  componentDidMount(){\r\n    this._isMounted = true;\r\n    this.doublyLinked = this.props.type === actions.SELECT_DOUBLE_LINKED_LIST;\r\n\r\n    this.list.type = this.props.type;\r\n    this.initialize({list: [], elements: []});\r\n\r\n    this.ListProcessor = new ListProcessor(this.cy.width(), this.cy.height(), this.doublyLinked, this.props.type);\r\n\r\n    \r\n    this.props.dispatch({\r\n\t\t\ttype: this.props.action,\r\n\t\t\tpayload:{\r\n\t\t\t\tphoto: () => this._mediaRecorder.takePicture(this.cy),\r\n\t\t\t\tgif: () => this._mediaRecorder.takeGif(this.cy),\r\n\t\t\t\tundo: this.handleUndo,\r\n        redo: this.handleRedo,\r\n        rewind: this.handleRewind,\r\n        forward: this.handleForward,\r\n        repeat: this.handleRepeat,\r\n        end: this.handleEnd,\r\n        pause: this.handlePauseContinue,\r\n        remove: () => this.remove(!this.doublyLinked),\r\n        clear: this.clearGraph,\r\n        options: this.options,\r\n        type: this.props.type,\r\n\t\t\t}\r\n\t\t});\r\n  }\r\n\r\n  componentWillUnmount() {\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.ANIMATION_END,\r\n\t\t});\r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis._isMounted = false;\r\n\t\tlet nodes = this.cy.nodes();\r\n\t\tnodes.forEach((node: CytoscapeElement) => {\r\n\t\t\tthis.removeNode(node.id());\r\n\t\t});\r\n  }\r\n  \r\n  layoutProcessing(){\r\n    const n = this.list.length();\r\n    if(n === 0) return;\r\n    const mid = this.cy.width()/2;\r\n    for(let i = 0; i < n; i++){\r\n      const {id} = this.list._data[i];\r\n      layoutOptions.positions[id] = {\r\n        x: mid - (n-1)*(40) + 70*i,\r\n        y: this.cy.height()/4,\r\n      }\r\n    }\r\n  }\r\n  refreshLayout(animate:boolean=true) {\r\n    this.layout.stop();\r\n    //this.layoutProcessing();\r\n\t\tthis.layout = this.cy.elements().makeLayout({...layoutOptions, animate});\r\n\t\tthis.layout.run();\r\n  }\r\n  \r\n  clearGraph = () => {\r\n\t\tif(this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.CLEAR_GRAPH,\r\n\t\t});\r\n\t\tlet nodes = this.cy.nodes();\r\n    if(nodes.length === 0) return;\r\n    this.pushState();\r\n    this.ListProcessor.loadGraph();\r\n\t\tfor (let i = 0; i < nodes.length; i++) {\r\n\t\t\tthis.removeNode(nodes[i].id());\r\n\t\t}\r\n\t}\r\n\r\n  handleClickOnNode = (node: CytoscapeElement) => {\r\n\t\tif (this.props.animation === true) return;\r\n    let nodeId = node.id();\r\n    let { selection } = this.props;\r\n    if(selection && selection.type === 'node'){\r\n      const prev = this.cy.getElementById(selection.id);\r\n      prev.style(this.nodeStyle);\r\n      if(selection.id === nodeId){\r\n        this.props.dispatch({\r\n          type: actions.NO_SELECTION,\r\n        });\r\n        return;\r\n      }\r\n    }\r\n    node.style(Styles.NODE_SELECTED);\r\n    this.props.dispatch({\r\n      type: actions.SELECTION,\r\n      payload: {\r\n        selection: {\r\n          id: nodeId, type: 'node'\r\n        }\r\n      }\r\n    });\r\n\t}\r\n\r\n \t\r\n\thandleUndo = () => {\r\n\t\tif(this.undo.length === 0){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif(this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.NO_SELECTION,\r\n\t\t});\r\n\r\n\t\tconst currentElements = this.exportGraph();\r\n\t\t\r\n    let state = this.undo.pop();\r\n\r\n    if(state !== undefined){\r\n\t\t\tthis.redo.push({list: JSON.parse(JSON.stringify(this.ListProcessor.list._data)), elements: currentElements});\r\n      this.loadGraph(state.elements);\r\n      this.ListProcessor.loadGraph(state.elements, state.list);\r\n\t\t}\r\n\t}\r\n\r\n\thandleRedo = () => {\r\n\t\tif(this.redo.length === 0){\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif(this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.NO_SELECTION,\r\n\t\t});\r\n\r\n\t\tconst currentElements = this.exportGraph();\r\n\t\t\r\n\t\tlet state = this.redo.pop();\r\n\t\tif(state !== undefined){\r\n\t\t\tthis.undo.push({list: JSON.parse(JSON.stringify(this.ListProcessor.list._data)), elements: currentElements});\r\n\t\t\tthis.loadGraph(state.elements);\r\n      this.ListProcessor.loadGraph(state.elements, state.list);\r\n\t\t}\r\n\t}\r\n\r\n  pushState(){\r\n    this.redo = [];\r\n    this.undo.push({\r\n      list: JSON.parse(JSON.stringify(this.ListProcessor.list._data)),\r\n      elements: this.exportGraph(),\r\n    });\r\n  }\r\n  \r\n  handleRewind = () => { \r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = Math.max(this.step-1, 0);\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements, true);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandleForward = () => { \r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = Math.min(this.step+1, this.buffer.length-1);\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements, true);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandleRepeat = () => {\r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = 0;\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n  handleEnd = () => {\r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = this.buffer.length - 1;\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n  }\r\n  \r\n\thandlePauseContinue = () => {\r\n\t\tif(!this.props.paused){\r\n\t\t\tclearTimeout(this.animationTimeout);\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_PAUSE,\r\n\t\t\t})\r\n\t\t}else{\r\n\t\t\tnew Promise(resolve => {\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.ANIMATION_CONTINUE\r\n\t\t\t\t})\r\n\t\t\t\tresolve();\r\n\t\t\t}).then(() => this.animation());\r\n\t\t}\r\n\t}\r\n\t\r\n  loadGraph(elements: Array<Object>, keep=false) {\r\n    const nodes = this.cy.nodes();\r\n    const positions:{[id:string]:{x:number,y:number}} = {};\r\n\t\tnodes.forEach((node: CytoscapeElement) => {\r\n      if(keep) positions[node.id()] = JSON.parse(JSON.stringify(node.data('position')));\r\n\t\t\tthis.cy.remove(node);\r\n\t\t})\r\n\r\n\t\tfor (let i = 0; i < elements.length; i++) {\r\n\t\t\tthis.cy.add(JSON.parse(JSON.stringify(elements[i])));\r\n\t\t}\r\n\r\n\t\tthis.cy.nodes().forEach((node: CytoscapeElement) => {\r\n\t\t\tconst style = node.data('style');\r\n\t\t\tif (style != null) node.style(style);\r\n      const position = node.data('position');\r\n      if(keep && positions[node.id()]) node.position({x:positions[node.id()].x, y:positions[node.id()].y});\r\n\t\t\t//console.log(\"PREV\", node.position());\r\n\t\t\t//console.log(\"NEXT\", position);\r\n\t\t\tif (position != null) {\r\n\t\t\t\tlayoutOptions.positions[node.id()] = JSON.parse(JSON.stringify(position));\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tthis.cy.edges().forEach((edge: CytoscapeElement) => {\r\n\t\t\tconst style = edge.data('style');\r\n\t\t\tif (style != null) edge.style(style);\r\n\t\t})\r\n\r\n    this.refreshLayout();\r\n\t}\r\n  exportGraph(){\r\n\t\tconst elements:Array<Object> = [];\r\n\t\tthis.cy.nodes().forEach((node:CytoscapeElement) => {\r\n\t\t\telements.push({\r\n\t\t\t\tgroup: 'nodes',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: node.id(),\r\n          value: node.data('value'),\r\n          position: {\r\n            x: node.position().x,\r\n            y: node.position().y,\r\n          }\r\n\t\t\t\t},\r\n\t\t\t\tposition: {\r\n\t\t\t\t\tx: node.position().x,\r\n\t\t\t\t\ty: node.position().y,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t\tthis.cy.edges().forEach((edge:CytoscapeElement) => {\r\n\t\t\telements.push({\r\n\t\t\t\tgroup: 'edges',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: edge.id(),\r\n\t\t\t\t\tsource: edge.source().id(), target: edge.target().id(),\r\n\t\t\t\t\tweight: edge.data('weight'),\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t\treturn elements;\r\n  }\r\n  \r\n  animation(){\r\n\t\tlet step = () => {\r\n\t\t\tif(!this._isMounted) return;\r\n\t\t\tif(this.step === this.buffer.length){\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.FINISHED_ALGORITHM_SUCCESS,\r\n        });\r\n        this.props.dispatch({\r\n          type: actions.ANIMATION_PAUSE,\r\n        });\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!this.props.animation) {\r\n\t\t\t\tthis.cy.nodes().style(this.nodeStyle);\r\n\t\t\t\tthis.cy.edges().style(this.edgeStyle);\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.ANIMATION_END,\r\n\t\t\t\t});\r\n\t\t\t\tthis.cy.autolock(false);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n      const {elements, lines, duration} = this.buffer[this.step++];\r\n      if(this.props.paused) return;\r\n\t\t\tthis.loadGraph(elements);\r\n\t\t\tif(lines) this.props.dispatch({type: actions.CHANGE_LINE, payload: { lines }});\r\n\t\t\t//this.refreshLayout();\r\n\t\t\tthis.animationTimeout = window.setTimeout(step, ((duration === undefined) ? 1000 : duration)/(this.props.speed));\r\n\t\t}\r\n\t\tstep();\r\n  }\r\n  \r\n  removeNode = (node: string) => {\r\n\t\tthis.cy.remove('node[id=\"' + node + '\"]');\r\n  }\r\n  \r\n  removeEdge = (edge: string) => {\r\n\t\tthis.cy.remove('edge[id=\"' + edge + '\"]');\r\n  }\r\n  \r\n  addNode(id: string, value: number, position: {x: number, y: number} = {x: 0, y: 0}){\r\n    this.cy.add({\r\n      group: 'nodes',\r\n      data: {\r\n        id,\r\n        value,\r\n      },\r\n      position:{\r\n        x: position.x,\r\n        y: position.y,\r\n      }\r\n    });\r\n    layoutOptions.positions[id] = position;\r\n  }\r\n  \r\n  addEdge(x: string, y: string) {\r\n    //this.pushState();\r\n\t\tthis.cy.add({\r\n\t\t\tgroup: 'edges',\r\n\t\t\tdata: {\r\n\t\t\t\tid: x + '-' + y,\r\n\t\t\t\tsource: x,\r\n        target: y,\r\n        weight: 'sig',\r\n      },\r\n    });\r\n  }\r\n  \r\n  pushFront(value: number = 0){\r\n    if(this.props.animation){\r\n      this.props.dispatch({\r\n        type: actions.ANIMATION_RUNNING_ERROR,\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.step = 0;\r\n    this.pushState();\r\n\r\n    this.props.dispatch({\r\n      type: actions.CHANGE_PSEUDO,\r\n      payload: {\r\n        pseudo: this.props.pseudoset.pushFront,\r\n      }\r\n    });\r\n    this.buffer = this.ListProcessor.pushFront(value);\r\n    new Promise((resolve, reject) => {\r\n      this.props.dispatch({\r\n        type: actions.ANIMATION_START,\r\n      });\r\n      resolve();\r\n    }).then(() => this.animation());\r\n  }\r\n\r\n\r\n  pushBack(value: number = 0, slow:boolean = false){\r\n\r\n    if(this.props.animation){\r\n      this.props.dispatch({\r\n        type: actions.ANIMATION_RUNNING_ERROR,\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.props.dispatch({\r\n      type: actions.CHANGE_PSEUDO,\r\n      payload: {\r\n        pseudo: this.props.pseudoset.pushBack,\r\n      }\r\n    });\r\n\r\n    this.step = 0;\r\n    this.pushState();\r\n    this.buffer = this.ListProcessor.pushBack(value, slow);\r\n    new Promise((resolve, reject) => {\r\n      this.props.dispatch({\r\n        type: actions.ANIMATION_START,\r\n      });\r\n      resolve();\r\n    }).then(() => this.animation());\r\n  }\r\n\r\n  \r\n  popFront(){\r\n    if(this.props.animation){\r\n      this.props.dispatch({\r\n        type: actions.ANIMATION_RUNNING_ERROR,\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.props.dispatch({\r\n      type: actions.CHANGE_PSEUDO,\r\n      payload: {\r\n        pseudo: this.props.pseudoset.popFront,\r\n      }\r\n    });\r\n\r\n    if(this.ListProcessor.list.length() === 0){\r\n      this.props.dispatch({\r\n        type: actions.CHANGE_LINE,\r\n        payload: { lines: [1] }\r\n      });\r\n      this.props.dispatch({\r\n        type: actions.EMPTY_LIST_WARNING,\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.step = 0;\r\n    this.pushState();\r\n\r\n    this.buffer = this.ListProcessor.popFront();\r\n    new Promise((resolve, reject) => {\r\n      this.props.dispatch({\r\n        type: actions.ANIMATION_START,\r\n      });\r\n      resolve();\r\n    }).then(() => this.animation());\r\n  }\r\n\r\n  popBack(slow:boolean=false){\r\n    if(this.props.animation){\r\n      this.props.dispatch({\r\n        type: actions.ANIMATION_RUNNING_ERROR,\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.props.dispatch({\r\n      type: actions.CHANGE_PSEUDO,\r\n      payload: {\r\n        pseudo: this.props.pseudoset.popBack,\r\n      }\r\n    });\r\n\r\n    if(this.ListProcessor.list.length() === 0){\r\n      this.props.dispatch({\r\n        type: actions.EMPTY_LIST_WARNING,\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.step = 0;\r\n    this.pushState();\r\n\r\n    this.buffer = this.ListProcessor.popBack(slow);\r\n    new Promise((resolve, reject) => {\r\n      this.props.dispatch({\r\n        type: actions.ANIMATION_START,\r\n      });\r\n      resolve();\r\n    }).then(() => this.animation());\r\n  }\r\n\r\n  remove(slow = false){\r\n    if(this.props.animation){\r\n      this.props.dispatch({\r\n        type: actions.ANIMATION_RUNNING_ERROR,\r\n      });\r\n      return;\r\n    }\r\n\r\n    const {selection} = this.props;\r\n\r\n    if(!selection) {\r\n      this.props.dispatch({\r\n        type: actions.NO_NODE_SELECTED_ERROR,\r\n      });\r\n      return;\r\n    }\r\n\r\n    \r\n    this.props.dispatch({\r\n      type: actions.CHANGE_PSEUDO,\r\n      payload: {\r\n        pseudo: this.props.pseudoset.remove,\r\n      }\r\n    });\r\n    \r\n    this.step = 0;\r\n    this.pushState();\r\n\r\n    const nodeId = selection.id;\r\n\r\n    this.buffer = this.ListProcessor.remove(slow, nodeId);\r\n    new Promise((resolve, reject) => {\r\n        this.props.dispatch({\r\n          type: actions.ANIMATION_START,\r\n        });\r\n        resolve();\r\n      }).then(() => this.animation());\r\n  }\r\n\r\n  insert(value:number = 0, where:string, slow = false){\r\n    if(this.props.animation){\r\n      this.props.dispatch({\r\n        type: actions.ANIMATION_RUNNING_ERROR,\r\n      });\r\n      return;\r\n    }\r\n\r\n    const {selection} = this.props;\r\n    if(!selection) {\r\n      this.props.dispatch({\r\n        type: actions.NO_NODE_SELECTED_ERROR,\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.props.dispatch({\r\n      type: actions.CHANGE_PSEUDO,\r\n      payload: {\r\n        pseudo: (where === 'before' ? this.props.pseudoset.insertBefore : this.props.pseudoset.insertAfter),\r\n      }\r\n    });\r\n\r\n    this.step = 0;\r\n    this.pushState();\r\n    const nodeId = selection.id;\r\n\r\n    this.buffer = this.ListProcessor.insert(value, where, slow, nodeId);\r\n    new Promise((resolve, reject) => {\r\n      this.props.dispatch({\r\n        type: actions.ANIMATION_START,\r\n      });\r\n      resolve();\r\n    }).then(() => this.animation());\r\n  }\r\n  render(){\r\n    return(\r\n      <>\r\n        <InputModal \r\n          show={this.state.showPushFrontModal}\r\n          handleClose={() => this.setState({showPushFrontModal: false})}\r\n          callback={(v:number) => this.pushFront(v)}\r\n        />\r\n        <InputModal \r\n          show={this.state.showPushBackModal}\r\n          handleClose={() => this.setState({showPushBackModal: false})}\r\n          callback={(v:number) => this.pushBack(v, this.props.type === actions.SELECT_SINGLE_LINKED_LIST)}\r\n        />\r\n        <InputModal \r\n          show={this.state.showPushBeforeModal}\r\n          handleClose={() => this.setState({showPushBeforeModal: false})}\r\n          callback={(v:number) => this.insert(v, 'before', this.props.type === actions.SELECT_SINGLE_LINKED_LIST)}\r\n        />\r\n        <InputModal \r\n          show={this.state.showPushAfterModal}\r\n          handleClose={() => this.setState({showPushAfterModal: false})}\r\n          callback={(v:number) => this.insert(v, 'after')}\r\n        />\r\n        <div id=\"canvas\" className='standard-struct'/>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(LinkedList);","import React from 'react';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\nimport Graph from './Components/Graph';\r\nimport Heap from './Components/Heap';\r\nimport Home from './Components/Home';\r\nimport BST from './Components/BST'\r\nimport properties from './algorithm-properties';\r\nimport BubbleSort from './Components/BubbleSort';\r\nimport MergeSort from './Components/MergeSort';\r\nimport BinarySearch from './Components/BinarySearch';\r\nimport LinkedList from './Components/LinkedList';\r\n\r\nimport routes from './resources/names_and_routes/algorithm_routes';\r\nimport names from './resources/names_and_routes/algorithm_names';\r\n\r\nconst { HashRouter, Route, Switch} = require('react-router-dom');\r\nclass Editor extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<HashRouter>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t<Route key={names.BFS} path={routes.BFS} render={() => <Graph {...properties.BFS} />} />\r\n\t\t\t\t\t\t\t<Route key={names.DFS} path={routes.DFS} render={() => <Graph {...properties.DFS} />} />\r\n\t\t\t\t\t\t\t<Route key={names.Dijkstra} path={routes.Dijkstra} render={() => <Graph {...properties.Dijkstra} />} />\r\n\t\t\t\t\t\t\t<Route key={names.BellmanFord} path={routes.BellmanFord} render={() => <Graph {...properties.BellmanFord} />} />\r\n\t\t\t\t\t\t\t<Route key={names.Prim} path={routes.Prim} render={() => <Graph {...properties.Prim} />} />\r\n\t\t\t\t\t\t\t<Route key={names.Kruskal} path={routes.Kruskal} render={() => <Graph {...properties.Kruskal} />} />\r\n\t\t\t\t\t\t\t<Route key={names.Heap} path={routes.MinHeap} render={() => <Heap {...properties.Heap} />} />\r\n\t\t\t\t\t\t\t<Route key={names.BST} path={routes.BST} render={() => <BST {...properties.BST} />} />\r\n\t\t\t\t\t\t\t<Route key={names.AVL} path={routes.AVL} render={() => <BST {...properties.AVL} />} />\r\n\t\t\t\t\t\t\t<Route key={names.BubbleSort} path={routes.BubbleSort} render={() => <BubbleSort {...properties.BubbleSort} />} />\r\n\t\t\t\t\t\t\t<Route key={names.MergeSort} path={routes.MergeSort} render={() => <MergeSort {...properties.MergeSort} />} />\r\n\t\t\t\t\t\t\t<Route key={names.BinarySearch} path={routes.BinarySearch} render={() => <BinarySearch {...properties.BinarySearch}/>}/>\r\n\t\t\t\t\t\t\t<Route key={names.SingleLinkedList} path={routes.SingleLinkedList} render={() => <LinkedList {...properties.SingleLinkedList}/>}/>\r\n\t\t\t\t\t\t\t<Route key={names.DoubleLinkedList} path={routes.DoubleLinkedList} render={() => <LinkedList {...properties.DoubleLinkedList}/>}/>\r\n\t\t\t\t\t\t\t<Route key={names.Queue} path={routes.Queue} render={() => <LinkedList {...properties.Queue}/>}/>\r\n\t\t\t\t\t\t\t<Route key={names.Stack} path={routes.Stack} render={() => <LinkedList {...properties.Stack}/>}/>\r\n\t\t\t\t\t\t\t<Route render={()=><Home/>}/>\r\n\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</HashRouter>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Editor;","import React, { ReactElement } from 'react';\r\nimport { LINE_FOCUS, LINE_STD } from '../Styles/Styles';\r\nconst { connect } = require('react-redux');\r\n\r\ntype Props = {\r\n  code: Array<{text: string, ind: number}> | null,\r\n  lines: Array<number>,\r\n  show: boolean,\r\n}\r\n\r\ntype State = {\r\n  pseudo: Array<{text: string, ind: number}> | null,\r\n  lines: Array<number>,\r\n  showPseudo: boolean,\r\n}\r\nconst mapStateToProps = (state: State) => {\r\n  return {\r\n    code: state.pseudo,\r\n    lines: state.lines,\r\n    show: state.showPseudo,\r\n  }\r\n}\r\nconst CodeLine = (props:{line:{text:string, ind: number}, current: boolean, index: number}) => {\r\n  const {line, current, index} = props;\r\n  const focus = current ? LINE_FOCUS : LINE_STD;\r\n  return (\r\n    <div style={{...focus, paddingRight: '10px'}}>\r\n      <div className='codeline'>\r\n        {(index<10?'\\u00A0': '')+index}.\r\n        <span style={{paddingLeft: (line.ind *15).toString() + 'px'}}>{line.text}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nclass CodeBlock extends React.Component<Props>{\r\n  render(){\r\n    if(this.props.code && this.props.show){\r\n      const {code, lines} = this.props;\r\n      let codelines = [];\r\n      if(code){\r\n        for(let i = 0; i < code.length; i++){\r\n          codelines.push(<CodeLine index={i+1} line = {code[i]} current = {lines && lines.includes(i)}/>);\r\n        }\r\n      }\r\n      return (\r\n        <div className='codeblock'>\r\n          {codelines}\r\n        </div>\r\n      );\r\n    }else return <></>\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(CodeBlock);","import React from 'react';\r\ntype Props = {\r\n  op: Array<{name: string, run: () => void}>,\r\n}\r\nconst OptionsMenu = (props:Props) => {\r\n  const {op} = props;\r\n  const links = Array();\r\n  op.forEach((option:{name:string, run: () => void}) => {\r\n    const {name, run} = option;\r\n    links.push(\r\n      <button onClick={run}>{name}</button>\r\n    );\r\n  });\r\n  return  (\r\n    <>\r\n      {links}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default OptionsMenu;","import { Row, Col } from 'react-bootstrap';\r\nimport React from 'react';\r\nimport actions from '../Actions/actions'\r\nconst { connect } = require('react-redux');\r\n\r\ntype Props = {\r\n  dispatch: (action: Object) => Object,\r\n  speed: number,\r\n}\r\n\r\nconst mapStateToProps = (state: Props) => {\r\n  return {\r\n    speed: state.speed,\r\n  }\r\n}\r\n\r\nconst SpeedBar = (props: Props) => {\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    props.dispatch({\r\n      type: actions.CHANGE_SPEED,\r\n      payload: {\r\n        speed: e.currentTarget.value,\r\n      }\r\n    })\r\n  }\r\n  return (\r\n    <Row>\r\n      <Col xs={12}>\r\n        <div className=\"slidecontainer\">\r\n          <input\r\n            type=\"range\"\r\n            min=\"0.25\"\r\n            max=\"5\"\r\n            value={props.speed}\r\n            id=\"myRange\"\r\n            step=\"0.05\"\r\n            onChange={handleChange}\r\n            className=\"slider\"\r\n          >\r\n          </input>\r\n        </div>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default connect(mapStateToProps)(SpeedBar);","import React, {FunctionComponent} from 'react';\r\nimport BFSWiki from '../resources/information/BFS';\r\nimport { Modal, Button } from 'react-bootstrap';\r\n\r\ntype Props = {\r\n  show: boolean,\r\n  close: () => void,\r\n  article: JSX.Element | null,\r\n}\r\nclass InfoModal extends React.Component<Props>{\r\n  render(){\r\n    return (\r\n      <Modal size='lg' show={this.props.show} onHide={this.props.close}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>\r\n            Informacion\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          {this.props.article}\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"primary\" onClick={this.props.close}>\r\n            Cerrar\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nexport default InfoModal;","import {Row, Col} from 'react-bootstrap';\r\nimport React, { FunctionComponent } from 'react';\r\nimport OptionsMenu from './OptionsMenu';\r\nimport SpeedBar from './SpeedBar';\r\nimport actions from '../Actions/actions';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { \r\n  faPlay, \r\n  faPause, \r\n  faUndo, \r\n  faRedo, \r\n  faBackward, \r\n  faForward, \r\n  faStepBackward,\r\n  faStepForward,\r\n  faTimes, \r\n  faTrash,\r\n  faInfo,} from '@fortawesome/free-solid-svg-icons'\r\nimport InfoModal from './InfoModal';\r\nconst { connect } = require('react-redux');\r\n\r\n\r\nconst algoDict:({[name: string]: string})= {\r\n  'BFS': 'BFS',\r\n  'DFS': 'DFS',\r\n  'Dijkstra': 'Dijkstra',\r\n  'BellmanFord': 'Bellman-Ford',\r\n  'Prim': 'Prim',\r\n  'Kruskal': 'Kruskal',\r\n  'Heap': 'Min Heap',\r\n  'BST': 'ABB',\r\n  'AVL': 'Arbol AVL',\r\n  'BubbleSort': 'Bubble Sort',\r\n  'MergeSort': 'Merge Sort',\r\n  'BinarySearch': 'Busqueda Binaria',\r\n  'SingleLinkedList': 'Lista enlazada',\r\n  'DoubleLinkedList': 'Lista doble',\r\n  'Queue': 'Cola',\r\n  'Stack': 'Pila',\r\n}\r\n\r\ntype Props = {\r\n  algorithm: string,\r\n  animation: boolean,\r\n  run: () => void,\r\n  options: Array<{name: string, run: () => void}>,\r\n  dispatch: (action: Object) => void,\r\n  undo: () => void,\r\n  redo: () => void,\r\n  rewind: () => void,\r\n  forward: () => void,\r\n  pause: () => void,\r\n  repeat: () => void,\r\n  remove: () => void,\r\n  clear: () => void,\r\n  end: () => void,\r\n  paused: boolean,\r\n\r\n  article: JSX.Element | null,\r\n}\r\n\r\ntype ButtonProps = {\r\n  title: string,\r\n  callback: () => void,\r\n  delay: number,\r\n}\r\n\r\ntype State = {\r\n  showActions: boolean,\r\n  showInfo: boolean,\r\n}\r\nconst mapStateToProps = (state:Props) => {\r\n  return {...state}\r\n}\r\n\r\nlet interval = 0;\r\nconst ControlButton:FunctionComponent<ButtonProps> = ({title, callback, delay, children}) => {\r\n  return <button title={title} className='dropdown-button'\r\n          onMouseDown={()=>{callback(); interval=window.setInterval(() => callback(), delay); console.log('STARTED', interval)}}\r\n          onMouseUp={() => {console.log('STOP', interval); clearInterval(interval)}}>\r\n            {children}\r\n          </button>\r\n}\r\n\r\nclass Footer extends React.Component<Props, State>{\r\n  state = {\r\n    showActions: true,\r\n    showInfo: false,\r\n  }\r\n  interval = 0;\r\n  render(){\r\n    console.log(this.props.algorithm);\r\n    const {animation, paused} = this.props;\r\n    let control;\r\n    if(!animation){ \r\n      control = \r\n        [\r\n          <Col xs={1} sm={1} md={1}>\r\n            <ControlButton title=\"Deshacer\" callback={this.props.undo} delay={500}>\r\n              <FontAwesomeIcon icon={faUndo} size = \"lg\"/>\r\n            </ControlButton>\r\n          </Col>,\r\n          <Col xs={1} sm={1} md={1}>\r\n            <ControlButton title=\"Rehacer\" callback={this.props.redo} delay={500}>\r\n              <FontAwesomeIcon icon={faRedo} size = \"lg\"/>\r\n            </ControlButton>\r\n          </Col>,\r\n        ];\r\n        if(this.props.remove){\r\n          control.push(\r\n            <Col sm={1} md={1}>\r\n            <button title=\"Eliminar elemento\" className='dropdown-button' onClick={this.props.remove}>\r\n              <FontAwesomeIcon icon={faTimes} size = \"lg\"/>\r\n            </button>\r\n          </Col>,\r\n          );\r\n        }\r\n        if(this.props.clear){\r\n          control.push(\r\n            <Col xs={1} sm={1} md={1}>\r\n            <button title=\"Limpiar canvas\" className='dropdown-button' onClick={this.props.clear}>\r\n              <FontAwesomeIcon icon={faTrash} size = \"lg\"/>\r\n            </button>\r\n          </Col>,\r\n          );\r\n        }\r\n        \r\n    }else{\r\n      control = \r\n        [\r\n          <Col xs={1} sm={1} md={1} >\r\n            <button title='Principio' className='dropdown-button'  onClick={this.props.repeat}>\r\n              <FontAwesomeIcon icon={faStepBackward} size = \"lg\"/>\r\n            </button>\r\n          </Col>,\r\n          <Col xs={1} sm={1} md={1}>\r\n            <ControlButton title=\"Retroceder\" callback={this.props.rewind} delay={200}>\r\n              <FontAwesomeIcon icon={faBackward} size = \"lg\"/>\r\n            </ControlButton>\r\n          </Col>,\r\n          <Col xs={1} sm={1} md={1}>\r\n            <button title={paused ? 'Continuar' : 'Pausa'} className='dropdown-button' onClick={this.props.pause}>\r\n              <FontAwesomeIcon icon={paused ? faPlay : faPause} size = \"lg\"/>\r\n            </button>\r\n          </Col>,\r\n          <Col xs={1} sm={1} md={1}>\r\n            <ControlButton title=\"Avanzar\" callback={this.props.forward} delay={200}>\r\n              <FontAwesomeIcon icon={faForward} size = \"lg\"/>\r\n            </ControlButton>\r\n          </Col>,\r\n          <Col xs={1} sm={1} md={1} >\r\n          <button title='Final' className='dropdown-button'  onClick={this.props.end}>\r\n            <FontAwesomeIcon icon={faStepForward} size = \"lg\"/>\r\n          </button>\r\n        </Col>,\r\n        ]\r\n    }\r\n    \r\n    return(\r\n      <>\r\n        <InfoModal \r\n          show={this.state.showInfo} \r\n          close={() => this.setState({showInfo: false})}\r\n          article={this.props.article}/>\r\n        <div className='footer'>\r\n          {this.props.algorithm !== 'none' && \r\n            <Row>\r\n              <Col xs={2} sm={2} md={2}>\r\n                <div className=\"dropup\">\r\n                  <button className='dropdown-button' \r\n                  onClick={() => this.setState({showActions: !this.state.showActions})}>{algoDict[this.props.algorithm]}</button>\r\n                  { \r\n                    this.state.showActions && \r\n                    <div className='actions-menu'>\r\n                      <OptionsMenu op={this.props.options}/>\r\n                    </div>\r\n                  }\r\n                </div>\r\n              </Col>\r\n              <Col xs={1} sm={1} md={1}>\r\n                <span>Velocidad</span>\r\n                <SpeedBar/>\r\n              </Col>\r\n              <>{control}</>\r\n              <Col xs={1} sm={{span: 1, offset: 6-control.length}} md={{span: 1, offset: 6-control.length}}>\r\n                <button className='dropdown-button' title=\"Información\" onClick={()=>this.setState({showInfo: true})}>\r\n                  <FontAwesomeIcon icon={faInfo} size=\"lg\"/>\r\n                </button>\r\n              </Col>\r\n              <Col xs={1} sm={2} md={2}>\r\n              <button className='dropdown-button' onClick={() => this.props.dispatch({type: actions.TOGGLE_PSEUDO})}>Pseudocodigo</button>\r\n            </Col>\r\n            </Row>\r\n          }\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Footer);","import React from 'react';\r\nimport actions from '../Actions/actions'\r\nconst {connect} = require('react-redux');\r\ntype Props = {\r\n  callback: () => void,\r\n  dispatch: (action: Object) => void,\r\n};\r\n\r\nclass PhotoControl extends React.Component<Props>{\r\n  handleClick = () => {\r\n    this.props.dispatch({\r\n      type: actions.PHOTO_SUCCESS,\r\n    });\r\n    this.props.callback();\r\n  }\r\n  render(){\r\n    return (\r\n      <button className='dropdown-button' onClick={this.handleClick}>Foto</button>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect()(PhotoControl);","import React from 'react';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport actions from '../Actions/actions';\r\n\r\nconst {connect} = require('react-redux');\r\n\r\ntype Props = {\r\n  callback: () => void,\r\n  algorithm: string,\r\n  dispatch: (action: Object) => Object,\r\n  timeEllapsed: number,\r\n  processing: boolean,\r\n};\r\n\r\ntype storeState = {\r\n  gifLength: number,\r\n  processingGif: boolean,\r\n}\r\n\r\nconst mapStateToProps = (state: storeState) => {\r\n  return {\r\n    timeEllapsed: state.gifLength,\r\n    processing: state.processingGif,\r\n  }\r\n}\r\n\r\nclass  GIFControl extends React.Component<Props>{\r\n  handleClick(){\r\n    this.props.callback();\r\n  }\r\n  render(){\r\n    console.log(this.props.processing);\r\n    const {timeEllapsed} = this.props;\r\n    let ss = Math.floor(timeEllapsed/10).toString();\r\n    let ms = (timeEllapsed%10).toString();\r\n    if(ss.length === 1) ss = '0'+ss;\r\n    return (\r\n      <button className='dropdown-button' disabled={this.props.processing} onClick={() => this.handleClick()}>\r\n        {this.props.processing ? 'Procesando...' : 'GIF' + (this.props.timeEllapsed ? ' 0:' + ss + ':' +  ms : '')}\r\n      </button>\r\n    )\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps)(GIFControl);","import {Row, Col} from 'react-bootstrap';\r\nimport React from 'react';\r\nimport PhotoControl from './PhotoControl';\r\nimport GIFControl from './GIFControl';\r\nimport routes from '../resources/names_and_routes/algorithm_routes';\r\nimport actions from '../Actions/actions';\r\nconst {connect} = require('react-redux');\r\nconst {\r\n\tNavLink,\r\n\tHashRouter\r\n} = require('react-router-dom');\r\n\r\ntype Props = {\r\n  photo: () => void,\r\n  gif: () => void,\r\n  algorithm: string,\r\n  dispatch: (action:Object) => void,\r\n}\r\n\r\nconst mapStateToProps = (state:Props) => {\r\n  return { ...state };\r\n}\r\n\r\nclass MenuBar extends React.Component<Props>{\r\n  render(){\r\n    const searchAlgorithms = [\r\n      <NavLink to={routes.BFS}><button className='dropdown-button'>BFS</button></NavLink>,\r\n      <NavLink to={routes.DFS}><button className='dropdown-button'>DFS</button></NavLink>,\r\n      <NavLink to={routes.Dijkstra}><button className='dropdown-button'>Dijkstra</button></NavLink>,\r\n      <NavLink to={routes.BellmanFord}><button className='dropdown-button'>Bellman-Ford</button></NavLink>\r\n    ];\r\n    const mstAlgorithms = [\r\n      <NavLink to={routes.Kruskal}><button className='dropdown-button'>Kruskal</button></NavLink>,\r\n      <NavLink to={routes.Prim}><button className='dropdown-button'>Prim</button></NavLink>,\r\n    ];\r\n    const arrays = [\r\n      <NavLink to={routes.BubbleSort}><button className='dropdown-button'>Bubble Sort</button></NavLink>,\r\n      <NavLink to={routes.MergeSort}><button className='dropdown-button'>Merge Sort</button></NavLink>,\r\n      <NavLink to={routes.BinarySearch}><button className='dropdown-button'>Busqueda Binaria</button></NavLink>\r\n    ];\r\n    const dataStructures = [\r\n      <NavLink to={routes.SingleLinkedList}><button className='dropdown-button'>Lista enlazada</button></NavLink>,\r\n      <NavLink to={routes.Queue}><button className='dropdown-button'>Cola</button></NavLink>,\r\n      <NavLink to={routes.Stack}><button className='dropdown-button'>Pila</button></NavLink>,\r\n      <NavLink to={routes.DoubleLinkedList}><button className='dropdown-button'>Lista doble</button></NavLink>,\r\n      <NavLink to={routes.MinHeap}><button className='dropdown-button'>Min Heap</button></NavLink>,\r\n      <NavLink to={routes.BST}><button className='dropdown-button'>ABB</button></NavLink>,\r\n      <NavLink to={routes.AVL}><button className='dropdown-button'>Arbol AVL</button></NavLink>,\r\n    ];\r\n    return (\r\n      true && <div className='top-bar'>\r\n        <Row>\r\n          <Col xs={1} sm={2} md={2}>\r\n            <div className='dropdown'>\r\n              <button className='dropdown-button'>Algoritmos</button>\r\n              <HashRouter>\r\n                <div className='dropdown-menu'>\r\n                  <div className='dropright'>\r\n                    <button className='dropdown-button'>Algoritmos de Busqueda</button>\r\n                    <div className='right-menu'>\r\n                      {searchAlgorithms}\r\n                    </div>  \r\n                  </div>\r\n                  <div className='dropright'>\r\n                  <button className='dropdown-button'>Arbol Recubridor Minimo</button>\r\n                    <div className='right-menu'>\r\n                      {mstAlgorithms}\r\n                    </div>\r\n                  </div>\r\n                  <div className='dropright'>\r\n                  <button className='dropdown-button'>Arreglos</button>\r\n                    <div className='right-menu'>\r\n                      {arrays}\r\n                    </div>\r\n                  </div>\r\n                  <div className='dropright'>\r\n                  <button className='dropdown-button'>Estructuras de Datos</button>\r\n                    <div className='right-menu'>\r\n                      {dataStructures}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </HashRouter>\r\n            </div>\r\n          </Col>\r\n          <Col xs={1} sm={2} md={1} style={{visibility: this.props.algorithm !== 'none' ? 'visible' : 'hidden'}}>\r\n            <PhotoControl callback={this.props.photo}/>\r\n          </Col>\r\n          <Col xs={1} sm={2} md={1} style={{visibility: this.props.algorithm !== 'none' ? 'visible' : 'hidden'}}>\r\n            <GIFControl callback={this.props.gif}/>\r\n          </Col>\r\n          <Col xs={1} sm={2} md={{span: 2, offset: 6}}>\r\n            <div className='dropdown'>\r\n              <button className='dropdown-button'>Ayuda</button>\r\n              <div className='dropdown-menu'>\r\n                <button className='dropdown-button' onClick={() => this.props.dispatch({type: actions.TOGGLE_TUTORIAL_MODAL})}>\r\n                  Dibujo de grafos\r\n                </button>\r\n                <button className='dropdown-button'>\r\n                  Acerca de\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    )\r\n  }\r\n};\r\nexport default connect(mapStateToProps)(MenuBar);","export default [\r\n  {\r\n    \"group\": \"nodes\",\r\n    \"data\": {\r\n      \"id\": \"node-1\",\r\n      \"value\": 1,\r\n      \"position\": {\r\n        \"x\": 210,\r\n        \"y\": 240\r\n      },\r\n      \"style\": {}\r\n    },\r\n    \"position\": {\r\n      \"x\": 210,\r\n      \"y\": 240\r\n    }\r\n  },\r\n  {\r\n    \"group\": \"nodes\",\r\n    \"data\": {\r\n      \"id\": \"node-2\",\r\n      \"value\": 2,\r\n      \"position\": {\r\n        \"x\": 300,\r\n        \"y\": 112\r\n      },\r\n      \"style\": {}\r\n    },\r\n    \"position\": {\r\n      \"x\": 300,\r\n      \"y\": 112\r\n    }\r\n  },\r\n  {\r\n    \"group\": \"nodes\",\r\n    \"data\": {\r\n      \"id\": \"node-3\",\r\n      \"value\": 3,\r\n      \"position\": {\r\n        \"x\": 395,\r\n        \"y\": 226\r\n      },\r\n      \"style\": {}\r\n    },\r\n    \"position\": {\r\n      \"x\": 395,\r\n      \"y\": 226\r\n    }\r\n  },\r\n  {\r\n    \"group\": \"edges\",\r\n    \"data\": {\r\n      \"id\": \"node-1-node-3\",\r\n      \"source\": \"node-1\",\r\n      \"target\": \"node-3\",\r\n      \"weight\": 2,\r\n      \"style\": {}\r\n    }\r\n  },\r\n  {\r\n    \"group\": \"edges\",\r\n    \"data\": {\r\n      \"id\": \"node-1-node-2\",\r\n      \"source\": \"node-1\",\r\n      \"target\": \"node-2\",\r\n      \"weight\": 7,\r\n      \"style\": {}\r\n    }\r\n  },\r\n  {\r\n    \"group\": \"edges\",\r\n    \"data\": {\r\n      \"id\": \"node-2-node-3\",\r\n      \"source\": \"node-2\",\r\n      \"target\": \"node-3\",\r\n      \"weight\": 12,\r\n      \"style\": {}\r\n    }\r\n  }\r\n]","import React from 'react';\r\nimport example from '../resources/default_examples/example';\r\nimport { CytoEvent, CytoscapeElement } from '../Types/types';\r\nconst Styles = require('../Styles/Styles');\r\nconst cytoscape = require('cytoscape');\r\n\r\nconst getNodeIdString = (nodeId: string) => {\r\n\treturn 'node-' + nodeId;\r\n}\r\n\r\nclass FreeGraph extends React.Component<{}>{\r\n  cy = cytoscape();\r\n  nodeStyle = Styles.NODE;\r\n  edgeStyle = Styles.EDGE;\r\n  \r\n  selection:{type:string, id: string} | null = null;\r\n\r\n  layout = {\r\n\t\trun: () => { },\r\n\t\tstop: () => { },\r\n  };\r\n  \r\n  componentDidMount(){\r\n    this.cy = cytoscape({\r\n      container: document.getElementById('examplecanvas'),\r\n      elements: JSON.parse(JSON.stringify(example)),  \r\n      style: [ // the stylesheet for the graph\r\n\t\t\t\t{\r\n\t\t\t\t\tselector: 'node',\r\n\t\t\t\t\tstyle: this.nodeStyle,\r\n\t\t\t\t},\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\tselector: 'edge',\r\n\t\t\t\t\tstyle: this.edgeStyle,\r\n\t\t\t\t}\r\n\t\t\t],\r\n\r\n\t\t\tlayout: {\r\n\t\t\t\tname: 'preset',\r\n\t\t\t},    \r\n      headless: false,\r\n\t\t\tstyleEnabled: true,\r\n\t\t\thideEdgesOnViewport: false,\r\n\t\t\thideLabelsOnViewport: false,\r\n\t\t\tuserPanningEnabled: false,\r\n\t\t\tzoomingEnabled: false,\r\n\t\t\ttextureOnViewport: false,\r\n\t\t\tmotionBlur: false,\r\n\t\t\tmotionBlurOpacity: 0.2,\r\n\t\t\tpixelRatio: '1.0'\r\n    });\r\n\r\n    this.cy.on('tap', (event: CytoEvent) => this.handleClickViewport(event));\r\n\t\tthis.cy.on('tap', 'node', (event: CytoEvent) => this.handleClickOnNode(event.target));\r\n\t\tthis.cy.on('tap', 'edge', (event: CytoEvent) => this.handleClickOnEdge(event.target));\r\n\t\tthis.cy.autopanOnDrag({ enabled: true, speed: 0.01 });\r\n\t\tthis.layout = this.cy.elements().makeLayout({\r\n\t\t\tname: 'preset',\r\n\t\t});\r\n\t\tthis.layout.run();\r\n  }\r\n\r\n  \r\n  handleClickOnNode = (node: CytoscapeElement) => {\r\n\t\tlet nodeId = node.id();\r\n\t\tlet { selection } = this;\r\n\r\n\t\tif (!selection || selection.type !== 'node') {\r\n\t\t\tnode.style(Styles.NODE_SELECTED);\r\n\r\n\t\t\tif (selection && selection.type === 'edge') {\r\n\t\t\t\tlet edge = this.cy.getElementById(selection.id);\r\n\t\t\t\tedge.style(this.edgeStyle);\r\n\t\t\t}\r\n\r\n      this.selection = {\r\n        type: 'node',\r\n        id: nodeId,\r\n      };\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (selection.type === 'node') {\r\n\t\t\tlet prevNode = selection.id;\r\n\t\t\tif (prevNode === nodeId) {\r\n\t\t\t\tnode.style(Styles.NODE);\r\n\t\t\t\tthis.selection = null;\r\n\t\t\t} else {\r\n\t\t\t\tlet previous = this.cy.getElementById(prevNode);\r\n\t\t\t\tif (prevNode) {\r\n\t\t\t\t\tif (!previous.outgoers().contains(node))  {\r\n\t\t\t\t\t\tthis.createEdge(prevNode, nodeId);\r\n          }\r\n          this.selection = null;\r\n\t\t\t\t}\r\n\t\t\t\tprevious.style(Styles.NODE);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\thandleClickOnEdge = (edge: CytoscapeElement) => {\r\n\t\tlet edgeId = edge.id();\r\n\r\n\t\tlet { selection } = this;\r\n\r\n\t\tlet prevId = null;\r\n\t\tif (selection) {\r\n\t\t\tprevId = selection.id;\r\n\t\t\tlet previous = this.cy.getElementById(prevId);\r\n\t\t\tif (selection.type === 'edge') {\r\n\t\t\t\tprevious.style(this.edgeStyle);\r\n\t\t\t} else if (selection.type === 'node') {\r\n\t\t\t\tprevious.style(this.nodeStyle);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (prevId === edgeId) {\r\n      this.selection = null;\r\n\t\t\tlet previous = this.cy.getElementById(prevId);\r\n\t\t\tprevious.style(this.edgeStyle);\r\n\t\t} else {\r\n      this.selection = { type: 'edge', id: edgeId };\r\n\t\t\tedge.style(Styles.EDGE_SELECTED);\r\n\t\t}\r\n\t}\r\n\r\n\tcreateNode(x: string, y: string) {\r\n\t\tlet id = 1;\r\n\t\twhile (this.cy.getElementById(getNodeIdString(id.toString())).length > 0) {\r\n\t\t\tid++;\r\n\t\t}\r\n\t\tlet nodeId = getNodeIdString(id.toString());\r\n\t\tthis.cy.add({\r\n\t\t\tgroup: 'nodes',\r\n\t\t\tdata: { id: nodeId, value: id },\r\n\t\t\tposition: { x, y }\r\n\t\t});\r\n\t}\r\n\r\n  createEdge(x: string, y: string) {\r\n\t\tthis.cy.add({\r\n\t\t\tgroup: 'edges',\r\n\t\t\tdata: {\r\n\t\t\t\tid: x + '-' + y,\r\n\t\t\t\tweight: Math.floor(Math.random() * 15),\r\n\t\t\t\tsource: x,\r\n\t\t\t\ttarget: y,\r\n\t\t\t}\r\n\t\t});\r\n  }\r\n  \r\n  handleClickViewport = (event: CytoEvent) => {\r\n\r\n\t\tlet { selection } = this;\r\n\t\tif (event.target === this.cy) {\r\n\t\t\tif (selection) {\r\n\t\t\t\tlet previous = this.cy.getElementById(selection.id);\r\n\t\t\t\tif (selection.type === 'node') {\r\n\t\t\t\t\tprevious.style(Styles.NODE);\r\n\t\t\t\t} else if (selection.type === 'edge') {\r\n\t\t\t\t\tprevious.style(this.edgeStyle);\r\n        }\r\n        this.selection = null;\r\n\t\t\t} else {\r\n\t\t\t\tlet { x, y } = event.position;\r\n\t\t\t\tthis.createNode(x, y);\r\n\t\t\t\tthis.refreshLayout();\r\n\t\t\t}\r\n\t\t}\r\n  }\r\n  \r\n  refreshLayout() {\r\n\t\tthis.layout.stop();\r\n\t\tthis.layout = this.cy.elements().makeLayout({ name: 'preset' });\r\n\t\tthis.layout.run();\r\n\t}\r\n\r\n  render(){\r\n    return <div id = \"examplecanvas\" className=\"modal-struct\"/>\r\n  }\r\n} \r\n\r\nexport default FreeGraph;","import React from 'react';\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport { Button } from 'react-bootstrap';\r\nimport actions from '../Actions/actions';\r\nimport FreeGraph from './FreeGraph';\r\nconst { connect } = require('react-redux');\r\ntype Props = {\r\n  showTutorialModal: boolean,\r\n  dispatch: (action: Object) => Object,\r\n}\r\n\r\nconst mapStateToProps = (state:Props) => {\r\n  return {...state};\r\n}\r\nclass FreeGraphModal extends React.Component<Props>{\r\n  render(){\r\n    const handleClose = () => this.props.dispatch({ type: actions.TOGGLE_TUTORIAL_MODAL});\r\n    return (\r\n      <>\r\n        <Modal size=\"lg\" show={this.props.showTutorialModal} onHide={handleClose}>\r\n          <Modal.Header className='modal-header' closeButton>\r\n            <Modal.Title>Dibujo de grafos</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <p className='tutorial-paragraph'>Para crear un nodo, debe dar <b>click</b> en un espacio en blanco</p>\r\n            <p className='tutorial-paragraph'>Seleccione nodos o aristas simplemente dando click sobre estos</p>\r\n            <p className='tutorial-paragraph'>Para crear una arista, seleccione un nodo <b>fuente</b> y luego seleccione un nodo <b>destino</b></p>\r\n            <FreeGraph/>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"success\" onClick={handleClose}>\r\n              ¡Entendido!\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(FreeGraphModal);","// @flow\r\nimport React, { useState } from 'react';\r\nimport ReactNotification from 'react-notifications-component'\r\nimport 'react-notifications-component/dist/theme.css'\r\n\r\nimport './views/css/App.css';\r\n\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\nimport AlgorithmInfo from './Components/AlgorithmInfo'\r\nimport Editor from './Editor';\r\nimport Sidebar from './Components/Sidebar';\r\nimport CodeBlock from './Components/CodeBlock';\r\nimport BFS from './resources/pseudocodes/BFS';\r\nimport BFS_table from './resources/value_tables/BFS_table';\r\nimport BFSWiki from './resources/information/BFS'\r\nimport Footer from './Components/Footer';\r\nimport MenuBar from './Components/MenuBar';\r\nimport FreeGraphModal from './Components/FreeGraphModal';\r\nimport InfoModal from './Components/InfoModal';\r\nclass App extends React.Component<{algorithm:string, show:boolean}>{\r\n\r\n  state = {\r\n    show: true,\r\n  }\r\n  render() {\r\n    const {show} = this.state;\r\n    return (\r\n      <body>\r\n        <div>\r\n          <Container>\r\n            <ReactNotification/>\r\n            <FreeGraphModal/>\r\n            <CodeBlock/>\r\n            <MenuBar/>\r\n            <Row>\r\n              <Col>\r\n                <Editor algorithm={this.props.algorithm} />\r\n              </Col>\r\n            </Row>\r\n            <Footer/>\r\n          </Container>\r\n        </div>\r\n      </body>\r\n    );\r\n  }\r\n  \r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","const BFS = [\r\n  { text: 'BFS(Grafo G(V,E), nodo inicio):', ind: 0 },\r\n  { text: 'Para cada nodo u \\u2208 V:', ind: 1 },\r\n  { text: 'color[u]=Blanco', ind: 2 },\r\n  { text: 'color[inicio]=Gris:', ind: 1 },\r\n  { text: 'encolar(cola, inicio)', ind: 1 },\r\n  { text: 'Mientras no vacio(cola):', ind: 1},\r\n  { text: 'u=extraer(cola)', ind:2},\r\n  { text: 'color[u]=Negro', ind:2},\r\n  { text: 'Para cada v adyacente a u:', ind:2},\r\n  { text: 'Si color[v] es Blanco:', ind: 3},\r\n  { text: 'color[v]=Gris', ind: 4},\r\n  { text: 'encolar(cola, v)', ind: 4}\r\n];\r\n\r\nexport default BFS;","const DFS = [\r\n  { text: 'DFS_visitar(nodo u):', ind: 0},\r\n  { text: 'color[u]=Gris', ind: 1},\r\n  { text: 'Para cada v adyacente a u:', ind: 1},\r\n  { text: 'Si color[v] es blanco:', ind: 2},\r\n  { text: 'DFS_visitar(v)', ind: 3},\r\n  { text: 'color[u]=Negro', ind: 1},\r\n  { text: '\\u2063', ind: 0},\r\n  { text: 'DFS(Grafo G(V,E), Nodo inicio):', ind: 0},\r\n  { text: 'Para cada u \\u2208 V', ind: 1 },\r\n  { text: 'color[u]=blanco:', ind: 2 },\r\n  { text: 'DFS_visitar(u)', ind: 1 },\r\n]\r\nexport default DFS;","const dijkstra = [\r\n  {text: 'Dijkstra(Grafo G(V,E), nodo inicio):', ind: 0},\r\n  {text: 'Para cada u \\u2208 V:', ind: 1},\r\n  {text: 'distancia[u]=\\u221E', ind: 2},\r\n  {text: 'encolar(cola, <inicio,0>)', ind:1},\r\n  {text: 'Mientras no vacio(cola):', ind: 1},\r\n  {text: 'u=extraer_minimo(cola)', ind: 2},\r\n  {text: 'Para cada v adyacente a u:', ind: 2},\r\n  {text: 'Si distancia[u]+peso(u,v)<distancia[v]:', ind:3},\r\n  {text: 'distancia[v]=distancia[u]+peso(u,v)', ind:  4},\r\n  {text: 'actualizar(cola, <v,distancia[v]>)', ind: 4},\r\n];\r\n\r\nexport default dijkstra;","const kruskal = [\r\n  {text: 'Kruskal(Grafo G(V,E)):', ind: 0},\r\n  {text: 'F=Vacio', ind: 1},\r\n  {text: 'ordenar_por_peso(E)', ind: 1},\r\n  {text: 'Para cada arista (u, v) \\u2208 E:', ind: 1},\r\n  {text: 'Si no_camino(u,v):', ind: 2},\r\n  {text: 'Añadir (u, v) a F', ind: 3},\r\n  {text: 'Retornar F', ind: 1},\r\n]\r\n\r\nexport default kruskal;","const bellmanFord = [\r\n  {text: 'BellmanFord(Grafo G(V,E), nodo inicio):', ind: 0},\r\n  {text: 'Para cada u \\u2208 V:', ind: 1},\r\n  {text: 'distancia[u]=\\u221E', ind: 2},\r\n  {text: 'distancia[inicio]=0', ind: 1},\r\n  {text: 'Para i=0 hasta |G|-1:', ind: 1},\r\n  {text: 'Para cada arista (u, v) con peso w \\u2208 E:', ind: 2},\r\n  {text: 'Si distancia[u]+w<distancia[v]', ind: 3},\r\n  {text: 'distancia[v]=distancia[u]+w', ind: 4},\r\n  {text: '\\u2063', ind: 0},\r\n  {text: 'Para cada arista (u, v) con peso w \\u2208 E:', ind: 1},\r\n  {text: 'Si distancia[u]+w<distancia[v]', ind: 2},\r\n  {text: 'Alertar existencia de ciclo negativo', ind: 3},\r\n];\r\n\r\nexport default bellmanFord;","const bubblesort = [\r\n  {text: 'OrdenamientoBurbuja(Arreglo A):', ind: 0},\r\n  {text: 'Repetir:', ind: 1},\r\n  {text: 'Ordenado=Verdad', ind: 2},\r\n  {text: 'Para i=1 hasta longitud(A)-1:', ind: 2},\r\n  {text: 'Si A[i-1] > A[i]:', ind: 3},\r\n  {text: 'Intercambiar(A[i-1], A[i])', ind: 4},\r\n  {text: 'Ordenado=Falso', ind: 4},\r\n  {text: 'Hasta Ordenado', ind: 1},\r\n];\r\n\r\nexport default bubblesort;","const mergesort = [\r\n  {text: 'mergeSort(Arreglo A[n]):', ind: 0},\r\n  {text: 'Si n==1:', ind: 1},\r\n  {text: 'Retornar A', ind: 2},\r\n  {text: 'Arreglo L=mergeSort(A[0..n/2))', ind:1},\r\n  {text: 'Arreglo R=mergeSort(A[n/2..n))', ind:1},\r\n  {text: 'retornar merge(L,R)', ind: 1},\r\n  {text: '\\u2063', ind: 0},\r\n  {text: 'merge(Arreglo L[n], Arreglo R[m]):', ind: 0},\r\n  {text: 'Arreglo M[n+m]', ind: 1},\r\n  {text: 'p=0, i=0, j=0', ind: 1},\r\n  {text: 'Mientras i<n o j<m :', ind: 1},\r\n  {text: 'Si j==m o (i<n y L[i]'+'\\u2264'+'R[j]):', ind: 2},\r\n  {text: 'M[p]=L[i], p=p+1, i=i+1', ind: 3},\r\n  {text: 'Sino:', ind:2},\r\n  {text: 'M[p]=R[j], p=p+1, j=j+1', ind: 3},\r\n  {text: 'Retornar M', ind: 1}\r\n];\r\n\r\nexport default mergesort;","const prim = [\r\n  {text: 'Prim(Grafo G(V,E)):', ind: 0},\r\n  {text: 'F=Vacio', ind: 1},\r\n  {text: 'Para cada u \\u2208 V', ind: 1},\r\n  {text: 'distancia[u]=\\u221E', ind: 2},\r\n  {text: 'padre[u]=u', ind: 2},\r\n  {text: 'encolar(cola,<u,\\u221E>)', ind: 2},\r\n  {text: 'Mientras no vacio(cola):', ind: 1},\r\n  {text: 'u=extraer_minimo(cola)', ind: 2},\r\n  {text: 'Añadir u a F', ind: 2},\r\n  {text: 'Si padre[u]!=u:', ind: 2},\r\n  {text: 'Añadir (padre[u], u) a F', ind: 3},\r\n  {text: 'Para cada v adyacente a u:', ind: 2},\r\n  {text: 'Si v \\u2209 F y peso(u,v)<distancia[v]:', ind: 3},\r\n  {text: 'Actualizar(cola,<v,peso(u,v)>)', ind: 4},\r\n  {text: 'distancia[v]=peso(u,v)', ind: 4},\r\n  {text: 'retornar F', ind: 1}\r\n];\r\n\r\nexport default prim;","const binarySearch = [\r\n  { text: 'BusquedaBinaria(Arreglo A[0..n), entero v):', ind: 0},\r\n  { text: 'inf=0, sup=n-1', ind: 1},\r\n  { text: 'Mientras inf \\u2264 sup:', ind: 1},\r\n  { text: 'medio=(inf+sup)/2', ind: 2},\r\n  { text: 'Si v == A[medio]:', ind: 2},\r\n  { text: 'Retornar Verdadero', ind: 3},\r\n  { text: 'Si v \\u003c A[medio]:', ind: 2},\r\n  { text: 'sup=medio-1', ind: 3},\r\n  { text: 'Sino', ind: 2},\r\n  { text: 'inf=medio+1', ind: 3},\r\n  { text: 'Retornar falso', ind: 1},\r\n];\r\nexport default binarySearch;","import React from 'react';\r\nimport { Table } from 'react-bootstrap';\r\nimport Latex from 'react-latex';\r\n\r\nconst complexity = (\r\n  <div className='complexity'>\r\n    <Table striped bordered hover>\r\n      <thead>\r\n        <tr>\r\n          <th />\r\n          <th>Peor caso</th>\r\n          <th>Caso promedio</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr>\r\n          <td>\r\n            Matriz de adyacencia\r\n            </td>\r\n          <td>\r\n            <Latex>$O(|V^2|)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(|V^2|)$</Latex>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n      <tr>\r\n        <td>\r\n          Lista de adyacencia\r\n          </td>\r\n        <td>\r\n          <Latex>$O(|V|+|E|)$</Latex>\r\n        </td>\r\n        <td>\r\n          <Latex>$O(|V|+|E|)$</Latex>\r\n        </td>\r\n      </tr>\r\n    </Table>\r\n  </div>\r\n);\r\n\r\nconst BFS = (\r\n  <div>\r\n    <h1>BFS</h1>\r\n    <div>\r\n      {complexity}\r\n      <p>\r\n        El algoritmo BFS (Breadth-First Search, Búsqueda en Anchura) es un algoritmo\r\n        de búsqueda sobre grafos. A partir de un nodo inicial, cada uno de los vecinos\r\n        son explorados, aumentando así el nivel de profundidad de la búsqueda.\r\n      </p>\r\n    </div>\r\n    <p>\r\n      Cada uno de los nodos son explorados por orden de profundidad (o expansión).\r\n      Debido a este orden de exploración, el algoritmo es comúnmente implementado\r\n      utilizando algún tipo de estructura de datos especial. Las colas, al ser tipo\r\n      FIFO (First In, First Out - Primero en Entrar, Primero en Salir) son una natural\r\n      elección para la implementación del algoritmo BFS\r\n    </p>\r\n  </div>\r\n);\r\n\r\nexport default BFS;","import React from 'react';\r\nimport { Table } from 'react-bootstrap';\r\nimport Latex from 'react-latex';\r\nconst complexity = (\r\n  <div className='complexity'>\r\n    <Table striped bordered hover>\r\n      <thead>\r\n        <tr>\r\n          <th />\r\n          <th>Peor caso</th>\r\n          <th>Caso promedio</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr>\r\n          <td>\r\n            Matriz de adyacencia\r\n            </td>\r\n          <td>\r\n            <Latex>$O(|V^2|)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(|V^2|)$</Latex>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n      <tr>\r\n        <td>\r\n          Lista de adyacencia\r\n          </td>\r\n        <td>\r\n          <Latex>$O(|V|+|E|)$</Latex>\r\n        </td>\r\n        <td>\r\n          <Latex>$O(|V|+|E|)$</Latex>\r\n        </td>\r\n      </tr>\r\n    </Table>\r\n  </div>\r\n)\r\nconst DFS = (\r\n  <div>\r\n    <h1>DFS</h1>\r\n    <div>\r\n      {complexity}\r\n      <p>El algoritmo DFS (Depth-First Search, Búsqueda en Profundidad) es un algoritmo\r\n        de búsqueda sobre grafos. A partir de un nodo inicial, se explora cada vecino\r\n        recursivamente hasta lo mas profundo del espacio de búsqueda. Una vez alcanzado\r\n        el nivel mas profundo (un nodo sin vecinos a los cuales visitar), se realiza\r\n        <i>vuelta atrás</i>, continuando la exploración de los vecinos del nodo anteriormente\r\n        visitado.\r\n      </p>\r\n    </div>\r\n    <p>\r\n      Debido a su naturaleza recursiva, el algoritmo DFS es implementado usando funciones\r\n      recursivas, aunque existen variantes iterativas en las que se utilizan estructuras de datos\r\n      tipo pila. De hecho, las versiones recursivas hacen uso de la pila del sistema.\r\n    </p>\r\n  </div>\r\n);\r\n\r\nexport default DFS;","import React from 'react';\r\nimport { Table } from 'react-bootstrap';\r\nimport Latex from 'react-latex';\r\nconst complexity = (\r\n  <div className='complexity'>\r\n    <Table striped bordered hover>\r\n      <thead>\r\n        <tr>\r\n          <th>#</th>\r\n          <th>Peor caso</th>\r\n          <th>Caso promedio</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr>\r\n          <td>\r\n            Matriz de adyacencia\r\n            </td>\r\n          <td>\r\n            <Latex>$O(|V^2|)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(|V^2|)$</Latex>\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            Lista de adyacencia\r\n            </td>\r\n          <td>\r\n            <Latex>$O(|E|+|V|log|V|)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(|E|+|V|log|V|)$</Latex>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </Table>\r\n  </div>\r\n)\r\nconst Dijkstra = (\r\n  <div>\r\n    <h1>Dijkstra</h1>\r\n    <div>\r\n      {complexity}\r\n      <p>El algoritmo de Dijkstra (por su publicador, Edsger Dijkstra) es un algoritmo\r\n        utilizado sobre grafos con pesos no negativos, el cual calcula el costo mínimo para llegar desde un\r\n        nodo inicial hasta los demás vertices del grafo (o algún nodo en específico).\r\n      </p>\r\n    </div>\r\n    <p>\r\n      Similar al algoritmo BFS, se realiza una exploración hacia los vecinos de cada nodo.\r\n      Sin embargo, al examinar una arista <Latex>$(u,v,w)$</Latex>, se realiza una actualización del costo para\r\n      llegar hasta el nodo <Latex>$v$</Latex>, habiendo obtenido el costo mínimo para llegar a <Latex>$u$</Latex>.\r\n      Este proceso es conocido como <b>relajación</b>\r\n    </p>\r\n    <p>\r\n      En el algoritmo de Dijkstra, los nodos son explorados en orden de prioridad, siendo los nodos\r\n      mas prioritarios aquellos cuyo costo de llegada sea el menor posible. Diferentes estructuras\r\n      suelen ser utilizadas para esto, siendo una de las mas eficientes la <b>cola de prioridad</b>,\r\n      las cuales son usualmente implementadas con <b>Heaps</b>\r\n    </p>\r\n    <h2>Pesos negativos y ciclos negativos</h2>\r\n    <p>Debido a la naturaleza <i>greedy</i> del algoritmo, el proceso de relajación siempre\r\n    es aplicado asumiendo que se ha calculado el costo mínimo de llegada desde el punto inicial\r\n    de una arista. Por esto, si existen aristas con peso negativo en el grafo, el proceso de relajación\r\n    puede fallar, ignorando por completo caminos de menor costo, o cayendo en <b>ciclos negativos</b></p>.\r\n\r\n  </div>\r\n);\r\n\r\nexport default Dijkstra;","\r\nimport React from 'react';\r\nimport { Table } from 'react-bootstrap';\r\nimport Latex from 'react-latex';\r\nconst complexity = (\r\n  <div className='complexity'>\r\n    <Table striped bordered hover>\r\n      <thead>\r\n        <tr>\r\n          <th>#</th>\r\n          <th>Peor caso</th>\r\n          <th>Caso promedio</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr>\r\n          <td>\r\n            Matriz de adyacencia\r\n              </td>\r\n          <td>\r\n            <Latex>$O(|V^3|)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(|V^3|)$</Latex>\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            Lista de adyacencia\r\n              </td>\r\n          <td>\r\n            <Latex>$O(|E||V|)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(|E||V|)$</Latex>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </Table>\r\n  </div>\r\n);\r\n\r\nconst BellmanFord = (\r\n  <div>\r\n    <h1>Bellman-Ford</h1>\r\n    <div>\r\n      {complexity}\r\n      <p>\r\n        <Latex>\r\n          El algoritmo Bellman-Ford (por sus publicadores, Richard Bellman y Lester Ford Jr.\r\n            es un algoritmo utilizado sobre grafos con pesos no negativos, el cual calcula el costo mínimo\r\n            para llegar desde un nodo inicial hasta los demás vertices del grafo (o algún nodo en específico).\r\n        </Latex>\r\n      </p>\r\n    </div>\r\n    <p>\r\n      <Latex>\r\n        A pesar de ser más lento que el algoritmo de Dijkstra, Bellman-Ford puede manejar aristas con\r\n        pesos negativos, y a su vez puede detectar ciclos de costo negativo sobre el grafo.\r\n      </Latex>\r\n    </p>\r\n    <p>\r\n      <Latex>\r\n        El algoritmo primero inicializa el costo de llegada hacia todos los nodos como infinito,\r\n        excepto el nodo inicial, cuyo costo de llegada es naturalmente 0. Luego, por cada arista\r\n        $(u,v,w)$ se actualiza el costo de llegada a $v$, basándose en el costo parcial de llegada\r\n        a $u$. Este proceso es repetido $|V|-1$ veces, basándose en el hecho de que la longitud de un camino\r\n        entre cada par de nodos es a lo sumo $|V|-1$\r\n      </Latex>\r\n    </p>\r\n    <h2>Ciclos negativos</h2>\r\n    <p>\r\n      <Latex>\r\n        Como último paso, se realiza el proceso de relajación. Si alguna de las distancias es relajada,\r\n        se dice que se ha encontrado un ciclo negativo en el grafo. Todo ciclo negativo alcanzable desde\r\n        un nodo hace que no exista camino mínimo hacia diferentes nodos en el grafo.\r\n      </Latex>\r\n    </p>\r\n  </div>\r\n);\r\n\r\nexport default BellmanFord;","\r\nimport React from 'react';\r\nimport { Table } from 'react-bootstrap';\r\nimport Latex from 'react-latex';\r\nconst complexity = (\r\n  <div className='complexity'>\r\n    <Table striped bordered hover>\r\n      <thead>\r\n        <tr>\r\n          <th>#</th>\r\n          <th>Peor caso</th>\r\n          <th>Caso promedio</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr>\r\n          <td>\r\n            Matriz de adyacencia\r\n            </td>\r\n          <td>\r\n            <Latex>$O(|V^2|)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(|V^2|)$</Latex>\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            Lista de adyacencia\r\n            </td>\r\n          <td>\r\n            <Latex>$O(|E|+|V|log|V|)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(|E|+|V|log|V|)$</Latex>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </Table>\r\n  </div>\r\n)\r\nconst Prim = (\r\n  <div>\r\n    <h1>Prim</h1>\r\n    <div>\r\n      {complexity}\r\n      <p>\r\n        El algoritmo de Prim (por uno de sus publicadores, Robert C. Prim) es un algoritmo utilizado\r\n        sobre grafos con peso para obtener un árbol recubridor de costo mínimo.\r\n      </p>\r\n    </div>\r\n    <p>\r\n      <Latex>\r\n        El árbol recubridor $T$ se inicializa como vacío. Al igual que el algoritmo de Dijkstra\r\n        para cálculo de caminos de peso mínimo, el algoritmo de Prim explora los vecinos de cada nodo,\r\n        con una ligera diferencia en el proceso de relajación. Al relajar una arista $(u,v,w)$, el nodo $v$\r\n        actualiza su arista incidente de peso mínimo, en lugar de la distancia total de llegada.\r\n      </Latex>\r\n    </p>\r\n    <p>\r\n      Cada nodo es explorado en orden de prioridad con respecto al peso de su arista mínima incidente.\r\n      Al explorar un nodo, se añade a <Latex>$T$</Latex> su menor arista incidente, con la excepción del nodo inicial (el cual\r\n      no posee ninguna arista incidente en la exploración).\r\n    </p>\r\n    <p>\r\n      Al haber explorado cada uno de los nodos de <Latex>$V$</Latex>,<Latex>$T$</Latex>contendrá un árbol recubridor de costo mínimo.\r\n      Si el grafo de entrada es desconectado, entonces <Latex>$T$</Latex>contendrá un bosque de árboles recubridores mínimos.\r\n      Similarmente al algoritmo de Dijkstra, para explorar cada nodo por orden de prioridad, suele usarse\r\n      alguna estructura de datos eficiente, como las <b>colas de prioridad</b>.\r\n    </p>\r\n  </div>\r\n)\r\n\r\nexport default Prim;","import React from 'react';\r\nimport { Table } from 'react-bootstrap';\r\nimport Latex from 'react-latex';\r\nconst complexity = (\r\n  <div className='complexity'>\r\n    <Table striped bordered hover>\r\n      <thead>\r\n        <tr>\r\n          <th />\r\n          <th>Peor caso</th>\r\n          <th>Caso promedio</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr>\r\n          <td>\r\n            Búsqueda de caminos\r\n            </td>\r\n          <td>\r\n            <Latex>$O(|E|log|V|+V^2|)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(|E|log|V|+|V^2|)$</Latex>\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            Conjuntos disjuntos\r\n            </td>\r\n          <td>\r\n            <Latex>$O(|E|log|V|)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(|E|log|V|)$</Latex>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </Table>\r\n  </div>\r\n)\r\nconst Kruskal = (\r\n  <div>\r\n    <h1>Kruskal</h1>\r\n    <div>\r\n      {complexity}\r\n      <p>\r\n        El algoritmo de Kruskal (por su publicador, Joseph Kruskal) es un algoritmo utilizado\r\n        sobre grafos con peso para obtener un árbol recubridor de costo mínimo.\r\n      </p>\r\n    </div>\r\n    <p>\r\n      El árbol recubridor <Latex>$T$</Latex> se inicializa como vacío. Las aristas del grafo son procesadas\r\n      por orden de peso. Aquellas cuyo costo es menor son procesadas primero.\r\n    </p>\r\n    <p>\r\n      <Latex>\r\n        Una arista $(u,v,w)$ es añadida si no existe algún camino de $u$ a $v$\r\n        en $T$. De existir algún camino, añadir dicha arista generaría la formación de un ciclo,\r\n        y por ende $T$ dejaría de ser un árbol\r\n  \r\n        Si el grafo de entrada es desconectado, el algoritmo obtiene un bosque de árboles recubridores\r\n        de costo mínimo\r\n      </Latex>\r\n    </p>\r\n    <h2>Detección de ciclo en T</h2>\r\n    <p>\r\n      El paso mas complejo del algoritmo es verificar la existencia de algún camino en <Latex>$T$</Latex>.\r\n      Sin embargo, solo hace falta verificar la existencia de caminos en <Latex>$T$</Latex>, no el camino en sí.\r\n      Es por esto que, en lugar de encontrar caminos, basta con verificar que ambos nodos se encuentren\r\n      en la misma componente conexa de <Latex>$T$</Latex>. Esto suele realizarse por medio de alguna estructura de datos,\r\n      usualmente siendo usados los <b>conjuntos disjuntos</b>, debido a su eficiencia en tiempo.\r\n    </p>\r\n  </div>\r\n)\r\n\r\nexport default Kruskal;","import React from 'react';\r\nimport { Table } from 'react-bootstrap';\r\nimport Latex from 'react-latex';\r\nconst complexity = (\r\n  <div className='complexity'>\r\n    <Table striped bordered hover>\r\n      <thead>\r\n        <tr>\r\n          <th>#</th>\r\n          <th>Mejor caso</th>\r\n          <th>Peor caso</th>\r\n          <th>Caso promedio</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr>\r\n          <td>\r\n            Ordenamiento\r\n          </td>\r\n          <td>\r\n            <Latex>$O(n)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(n^2)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(n^2)$</Latex>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </Table>\r\n  </div>\r\n)\r\nconst BubbleSort = (\r\n  <div>\r\n    <h1>Ordenamiento Burbuja</h1>\r\n    <div>\r\n      {complexity}\r\n      <p>\r\n        El ordenamiento burbuja, del inglés <i>bubble-sort</i> es un algoritmo de ordenamiento de\r\n        arreglos. Funciona realizando todas las <i>inversiones</i> necesarias sobre el arreglo.\r\n        Una inversión consiste en el intercambio de dos elementos del arreglo, que se encuentran en\r\n        posiciones contrarias de acuerdo a su orden.\r\n      </p>\r\n    </div>\r\n\r\n    <p>\r\n      El algoritmo realiza las iteraciones necesarias hasta que el arreglo esté ordenado.\r\n      La máxima cantidad de iteraciones que realizará el algoritmo será igual a la longitud del arreglo.\r\n    </p>\r\n    <p>\r\n      En cada iteración, se compara cada posición con el elemento siguiente. Si están en posiciones contrarias,\r\n      se realiza una inversión y se continúa recorriendo el arreglo hasta llegar al final\r\n    </p>\r\n    <p>\r\n      Este es un algoritmo de ordenamiento poco eficiente, y suele ser utilizado con propósitos educativos.\r\n    </p>\r\n  </div>\r\n);\r\n\r\nexport default BubbleSort;","import React from 'react';\r\nimport { Table } from 'react-bootstrap';\r\nimport Latex from 'react-latex';\r\nconst complexity = (\r\n  <div className='complexity'>\r\n    <Table striped bordered hover>\r\n      <thead>\r\n        <tr>\r\n          <th>#</th>\r\n          <th>Mejor caso</th>\r\n          <th>Peor caso</th>\r\n          <th>Caso promedio</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr>\r\n          <td>\r\n            Ordenamiento\r\n          </td>\r\n          <td>\r\n            <Latex>$O(n\\log n)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(n\\log n)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(n\\log n)$</Latex>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </Table>\r\n  </div>\r\n)\r\n\r\nconst MergeSort = (\r\n  <div>\r\n    <h1>Ordenamiento por mezcla</h1>\r\n    <div>\r\n      {complexity}\r\n      <p>\r\n        El ordenamiento por mezcla (del inglés <i>merge-sort</i>), es un algoritmo utilizado para\r\n        ordenar arreglos. Es un algoritmo <i>divide y vencerás</i>.\r\n      </p>\r\n    </div>\r\n    <p>\r\n      El algoritmo consiste en la división recursiva del arreglo en mitades. El caso base de la recursión\r\n      es un arreglo de longitud 1, el cual lógicamente ya se encuentra ordenado.\r\n    </p>\r\n    <p>\r\n      La <i>conquista</i> del algoritmo viene dada por la función de mezcla. Una vez que dos mitades se\r\n      encuentran ordenadas, se convierte en una tarea trivial obtener un arreglo con los elementos ordenados\r\n      de ambas mitades.\r\n    </p>\r\n    <p>\r\n      En cada paso de la mezcla, se añade al arreglo el elemento mas pequeño de ambas mitades. Gracias a la división\r\n      recursiva, se puede notar fácilmente que este elemento estará al principio de alguno de los dos arreglos.\r\n    </p>\r\n    <p>\r\n      El algoritmo concluye al realizar la mezcla del arreglo completo. A diferencia del <i>ordenamiento burbuja</i>,\r\n      el ordenamiento por mezcla es muy eficiente, teniendo una complejidad <i>poli-logarítmica</i>. A lo sumo\r\n      existirán <Latex>$O(\\log n)$</Latex> níveles de recursión, y en cada uno se analizarán a lo sumo el arreglo completo,\r\n      resultando en una complejidad total de <Latex>$O(n\\log n)$</Latex>\r\n    </p>\r\n    <h2>Desventaja del ordenamiento por mezcla</h2>\r\n    <p>\r\n      Aunque el ordenamiento por mezcla tiene un muy buen peor caso, la complejidad se mantiene igual\r\n      tanto para el mejor y caso promedio.\r\n    </p>\r\n    <p>\r\n      En cada nivel de la recursión, se debe utilizar un arreglo auxiliar. Existen variadas mejoras al algoritmo\r\n      cuyo objetivo es el de reducir la complejidad en memoria. Creando arreglos auxiliares en cada nivel de la recursión,\r\n      se tiene <Latex>$O(n\\log n)$</Latex> de memoria. Teniendo un arreglo auxiliar general para cada nivel, se reduce\r\n      la memoria auxiliar a <Latex>$O(n)$</Latex>.\r\n    </p>\r\n  </div>\r\n)\r\n\r\nexport default MergeSort;","import React from 'react';\r\nimport { Table } from 'react-bootstrap';\r\nimport Latex from 'react-latex';\r\nimport { Tex } from 'react-tex';\r\nconst complexity = (\r\n  <div className='complexity'>\r\n    <Table striped bordered hover>\r\n      <thead>\r\n        <tr>\r\n          <th>#</th>\r\n          <th>Mejor caso</th>\r\n          <th>Peor caso</th>\r\n          <th>Caso promedio</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr>\r\n          <td>\r\n            Inserción\r\n            </td>\r\n          <td>\r\n            <Latex>$O(1)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(\\log n)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(1)$</Latex>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n      <tr>\r\n        <td>\r\n          Extraer Mínimo\r\n          </td>\r\n        <td>\r\n          <Latex>$O(1)$</Latex>\r\n        </td>\r\n        <td>\r\n          <Latex>$O(\\log n)$</Latex>\r\n        </td>\r\n        <td>\r\n          <Latex>$O(\\log n)$</Latex>\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td>\r\n          Consultar Mínimo\r\n          </td>\r\n        <td>\r\n          <Latex>$O(1)$</Latex>\r\n        </td>\r\n        <td>\r\n          <Latex>$O(1)$</Latex>\r\n        </td>\r\n        <td>\r\n          <Latex>$O(1)$</Latex>\r\n        </td>\r\n      </tr>\r\n    </Table>\r\n  </div>\r\n)\r\nconst Heap = (\r\n  <div>\r\n    <h1>Heap</h1>\r\n    <div>\r\n      {complexity}\r\n      <p>\r\n        Un Heap (o montículo) es una estructura de datos, un árbol binario <i>casi completo</i>.\r\n        Usualmente, suelen identificarse dos tipos de Heaps:\r\n\r\n        <h4>Min Heap</h4>\r\n        <p>\r\n          Se dice que un Heap es Min Heap si se cumple que el nodo raíz es menor o\r\n          igual a todos sus descendientes, y a su vez, éstos cumplen con esta propiedad\r\n        </p>\r\n        <h4>Max Heap</h4>\r\n        <p>\r\n          Se dice que un Heap es Max Heap si se cumple que el nodo raíz es mayor o\r\n            igual a todos sus descendientes, y a su vez, éstos cumplen con esta propiedad\r\n        </p>\r\n\r\n        Para simplificar, asumiremos que el Heap será un Min Heap.\r\n      </p>\r\n    </div>\r\n    <h2>Implementación</h2>\r\n    <p>\r\n      Los Heaps, como muchas otras estructuras tipo árbol, pueden ser implementados\r\n      utilizando apuntadores. Sin embargo, debido a su <i>casi completitud</i>, los nodos\r\n      pueden ser intuitivamente indexados, lo que hace posible su implementación\r\n      por medio de simples arreglos.\r\n    </p>\r\n    <p>\r\n      <Latex>\r\n        Para un Heap con N nodos, se indexan los nodos por nivel, de izquierda a derecha.\r\n        Esto hace que, para un nodo indexado i, sus hijos izquierdo y derechos sean los\r\n        nodos $2i$ y $2i+1$. Por otro lado, el padre de un nodo $i$ será el nodo\r\n      </Latex>\r\n      <Tex texContent={\"\\\\lfloor{\\\\frac{i}{2}}\\\\rfloor\"} />.\r\n    </p>\r\n    <h3>\r\n      Operaciones\r\n    </h3>\r\n    <h4>Inserción</h4>\r\n    <p>\r\n      Para insertar un nuevo nodo al Heap, se agrega un nodo en el último nivel del árbol.\r\n      Como esto puede eliminar la propiedad de Heap, se debe subir, o <i>flotar</i> el nodo\r\n      hasta que se vuelva a cumplir.\r\n    </p>\r\n    <p>\r\n      Mientras el nuevo nodo sea menor a su padre, se intercambiarán dichos nodos.\r\n      Dado que la altura de un Heap es logarítmica, la complejidad en tiempo de la inserción\r\n      será de <Latex>$O(\\log n)$</Latex>\r\n    </p>\r\n    <h4>Extracción de Mínimo</h4>\r\n    <p>\r\n      Eliminar la raíz del Heap sería una operación complicada, pero gracias a que el Heap\r\n      siempre debe ser <i>casi completo</i>, se puede intercambiar  el valor de la raíz\r\n      con el nodo mas profundo y a la derecha del árbol, y eliminar a este en su lugar.\r\n      </p>\r\n    <p>\r\n      Al igual que la inserción, esta operación puede eliminar la propiedad de Heap del árbol.\r\n      En este caso, se aplica un proceso similar a <i>flotar</i>. Se baja o <i>hunde</i> el nodo\r\n      hasta que se cumpla la propiedad. Si el nodo es mayor que su mínimo hijo directo,\r\n      se intercambian dichos nodos y se continúa hundiendo.\r\n      </p>\r\n    <p>\r\n      El Heap, al tener altura logarítmica, también tendra complejidad <Latex>$O(\\log n)$</Latex> para\r\n      extraer el mínimo\r\n      </p>\r\n    <h4>Consultar Mínimo</h4>\r\n    <p>\r\n      Al estar el mínimo elemento contenido en la raíz del Heap, para consultarlo bastará\r\n      simplemente con obtener el valor de la raíz. Esto tiene una complejidad constante.\r\n    </p>\r\n  </div>\r\n)\r\n\r\nexport default Heap;","import React from 'react';\r\nimport { Table } from 'react-bootstrap';\r\nimport Latex from 'react-latex';\r\nconst complexity = (\r\n  <div className='complexity'>\r\n    <Table striped bordered hover>\r\n      <thead>\r\n        <tr>\r\n          <th>#</th>\r\n          <th>Mejor caso</th>\r\n          <th>Peor caso</th>\r\n          <th>Caso promedio</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr>\r\n          <td>\r\n            Inserción\r\n            </td>\r\n          <td>\r\n            <Latex>$O(1)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(n)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(\\log n)$</Latex>\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            Búsqueda\r\n            </td>\r\n          <td>\r\n            <Latex>$O(1)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(n)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(\\log n)$</Latex>\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            Eliminación\r\n            </td>\r\n          <td>\r\n            <Latex>$O(1)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(n)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(\\log n)$</Latex>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </Table>\r\n  </div>\r\n);\r\n\r\nconst BST = (\r\n  <div>\r\n    <h1>\r\n      Árbol Binario de Búsqueda\r\n    </h1>\r\n    <div>\r\n      {complexity}\r\n      <p>\r\n        Un Árbol Binario de Búsqueda es una estructura de datos\r\n        en la cual se cumplen las siguientes propiedades:\r\n        <ol>\r\n          <li>\r\n            Es un Árbol Binario\r\n          </li>\r\n          <li>\r\n            Todos los nodos pertenecientes al sub-árbol izquierdo son menores\r\n            o iguales que la raíz\r\n          </li>\r\n          <li>\r\n            Todos los nodos pertenecientes al sub-árbol derecho son mayores\r\n            que la raíz\r\n          </li>\r\n          <li>\r\n            Todos los nodos del árbol son Árboles Binarios de Búsqueda\r\n          </li>\r\n        </ol>\r\n      </p>\r\n    </div>\r\n    <p>\r\n      Al mantener los datos de manera ordenada, los ABB son frecuentemente\r\n      utilizados para eficientes inserciones, búsqueda y eliminaciones.\r\n\r\n      Los ABB poseen como peor caso complejidad en tiempo lineal. Es por esto\r\n      que existen varios tipos de ABB que procuran mantener una altura logarítmica,\r\n      tales como los <i>AVL</i> o los <i>rojo-negro</i>\r\n    </p>\r\n    <h2>Operaciones</h2>\r\n    <h3>Búsqueda</h3>\r\n    <p>\r\n      Los Árboles Binarios de Búsqueda permiten realizar búsqueda binaria\r\n      sobre sus elementos. Para buscar, simplemente se compara el valor del nodo actual\r\n      al buscado. Si el elemento buscado es menor al nodo actual, se busca recursivamente\r\n      en el sub-árbol izquierdo, de lo contrario se busca en el sub-árbol derecho.\r\n\r\n      Este proceso se repite hasta encontrar el elemento, o llegar a una hoja del árbol\r\n    </p>\r\n\r\n    <h3>Inserción</h3>\r\n    <p>\r\n      La inserción se lleva a cabo de la misma manera recursiva que la búsqueda.\r\n      Al llegar a una hoja, se crea un nuevo nodo y se añade al árbol.\r\n    </p>\r\n\r\n    <h3>Eliminación</h3>\r\n    <p>\r\n      Existen tres casos a considerar en la eliminación de nodos en un ABB.\r\n      <ol>\r\n        <li>\r\n          Eliminar una hoja: El caso mas sencillo, simplemente se elimina del árbol. Se sigue manteniendo\r\n          la propiedad del ABB.\r\n        </li>\r\n        <li>Eliminar un nodo con un solo hijo: En este caso, el único hijo del nodo a eliminar\r\n          lo suplantará. Llamando P y H a los nodos padre e hijo del nodo a eliminar, se convierte a H\r\n          como el nuevo hijo de P. En el caso de que el nodo a eliminar sea la raíz, H se convierte en la nueva\r\n          raíz del árbol\r\n        </li>\r\n        <li>\r\n          <p>\r\n            Eliminar un nodo con dos hijos: Debido a la complejidad de eliminar un nodo con\r\n            dos hijos, este caso se puede simplificar a alguno de los casos anteriores. Para esto, se busca el nodo\r\n          <i>sucesor</i> del nodo a eliminar, es decir, el mínimo nodo en el árbol que sea mayor que\r\n            éste. Para encontrar el sucesor, se debe buscar el nodo mas a la izquierda del hijo derecho.\r\n          </p>\r\n          <p>\r\n            Una vez encontrado el nodo sucesor <i>s</i>, se intercambian los valores y éste\r\n            es eliminado. Es fácil demostrar que s será una hoja (caso 1) o tendrá solo un hijo (caso 2)\r\n          </p>\r\n          <p>\r\n            De manera análoga, este proceso puede ser realizado buscando el nodo <i>predecesor</i>\r\n          </p>\r\n        </li>\r\n      </ol>\r\n    </p>\r\n  </div>\r\n)\r\n\r\nexport default BST;","import React from 'react';\r\nimport { Table } from 'react-bootstrap';\r\nimport Latex from 'react-latex';\r\n\r\nconst complexity = (\r\n  <div className='complexity'>\r\n    <Table striped bordered hover>\r\n      <thead>\r\n        <tr>\r\n          <th>#</th>\r\n          <th>Mejor caso</th>\r\n          <th>Peor caso</th>\r\n          <th>Caso promedio</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr>\r\n          <td>\r\n            Búsqueda\r\n            </td>\r\n          <td>\r\n            <Latex>$O(1)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(\\log n)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(\\log n)$</Latex>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </Table>\r\n  </div>\r\n);\r\n\r\nconst BinarySearch = (\r\n  <div>\r\n    <h1>Búsqueda Binaria</h1>\r\n    <div>\r\n      {complexity}\r\n      <p>\r\n        La búsqueda binaria, o <i>búsqueda dicotómica</i> es un algoritmo utilizado para buscar\r\n        elementos en un arreglo de elementos ordenados.\r\n      </p>\r\n    </div>\r\n    <p>\r\n      El algoritmo realiza una búsqueda por intervalos sobre el arreglo, iniciando con un intervalo\r\n      que cubre todo el arreglo. Si la consulta es menor al elemento medio del intervalo, se busca a\r\n      la izquierda de dicho elemento. Si es mayor, se busca a la derecha. El algoritmo termina cuando,\r\n      en algún intervalo el elemento medio es igual al consultado, o se realiza una búsqueda en un intervalo\r\n      vacío.\r\n    </p>\r\n  </div>\r\n)\r\n\r\nexport default BinarySearch;","import React from 'react';\r\nimport { Table } from 'react-bootstrap';\r\nimport Latex from 'react-latex';\r\nconst complexity = (\r\n  <div className='complexity'>\r\n    <Table striped bordered hover>\r\n      <thead>\r\n        <tr>\r\n          <th />\r\n          <th>Mejor caso</th>\r\n          <th>Peor caso</th>\r\n          <th>Caso promedio</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr>\r\n          <td>\r\n            Insertar\r\n          </td>\r\n          <td>\r\n            <Latex>$O(1)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(n)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(n)$</Latex>\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            Eliminar\r\n          </td>\r\n          <td>\r\n            <Latex>$O(1)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(n)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(n)$</Latex>\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            Buscar\r\n          </td>\r\n          <td>\r\n            <Latex>$O(1)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(n)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(n)$</Latex>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </Table>\r\n  </div>\r\n)\r\n\r\nconst LinkedList = (\r\n  <div>\r\n    <h1>Lista Enlazada</h1>\r\n    <div>\r\n      {complexity}\r\n      <p>\r\n        Las listas enlazadas son estructuras de datos en las cuales se almacenan\r\n        elementos de manera secuencial. La principal ventaja de las listas enlazadas sobre\r\n        los arreglos es que sus elementos no son almacenados en memoria de manera contigua,\r\n        teniendo cada uno un <i>apuntador</i> al siguiente elemento.\r\n      </p>\r\n    </div>\r\n    <p>\r\n      A diferencia de los arreglos, si una lista enlazada es modificada, no es necesario\r\n      reorganizar en memoria la estructura completa, bastando cambiar los apuntadores necesarios.\r\n    </p>\r\n    <p>\r\n      Sin embargo, las listas enlazadas poseen una principal desventaja con respecto al acceso,\r\n      eliminación e inserción de elementos en posiciones aleatorias, la cual es que, en la mayoría\r\n      de los casos, será necesario recorrer gran parte de la lista, hasta llegar a la posición deseada.\r\n    </p>\r\n    <h2>Uso y variaciones de las listas enlazadas</h2>\r\n    <p>\r\n      En realidad, las listas enlazadas son un <i>tipo</i> de estructura de datos, teniendo múltiples\r\n      variaciones con diferentes propósitos. Las listas enlazadas que solo mantienen referencia al\r\n      siguiente elemento son denominadas <i>listas simplemente enlazadas</i>\r\n    </p>\r\n    <p>\r\n      Por medio de listas enlazadas, pueden implementarse estructuras mas avanzadas, como lo son\r\n      las <b>pilas</b>  y las <b>colas</b>. Además, si se modifica la estructura de cada elemento,\r\n      permitiendo tener un apuntador extra hacia el elemento anterior, se pueden implementar\r\n      inserciones y extracciones tanto de inicio y final en tiempo constante. Dichas listas son\r\n      llamadas <i>doblemente enlazadas</i>\r\n    </p>\r\n  </div>\r\n)\r\n\r\nexport default LinkedList;","import React from 'react';\r\nimport { Table } from 'react-bootstrap';\r\nimport Latex from 'react-latex';\r\nconst complexity = (\r\n  <div className='complexity'>\r\n    <Table striped bordered hover>\r\n      <thead>\r\n        <tr>\r\n          <th />\r\n          <th>Mejor caso</th>\r\n          <th>Peor caso</th>\r\n          <th>Caso promedio</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr>\r\n          <td>\r\n            Encolar\r\n          </td>\r\n          <td>\r\n            <Latex>$O(1)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(1)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(1)$</Latex>\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            Desencolar\r\n          </td>\r\n          <td>\r\n            <Latex>$O(1)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(1)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(1)$</Latex>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </Table>\r\n  </div>\r\n)\r\n\r\nconst Queue = (\r\n  <div>\r\n    <h1>Cola</h1>\r\n    <div>\r\n      {complexity}\r\n      <p>\r\n      Las colas (del inglés <i>queue</i>) son estructuras de datos utilizadas\r\n      para almacenar y extraer elementos siguiendo el principio <b>FIFO</b> (<i>First-In, First-Out</i>, primero\r\n      en entrar, primero en salir).\r\n      </p>\r\n    </div>\r\n    <p>\r\n      La cola es una estructura simple, ampliamente utilizada en variados algoritmos. \r\n      Por ejemplo, el algoritmo de BFS (Búsqueda en Anchura) hace uso de una cola para mantener los \r\n      nodos aún no explorados, esperando a ser extraídos para su exploración de acuerdo al orden \r\n      en que deben ser analizados.\r\n    </p>\r\n    <p>\r\n      Debido a que debe mantenerse el orden de los elementos, pero solo se necesita tener acceso al primero,\r\n      las colas suelen ser implementadas con listas simplemente enlazadas, manteniendo un apuntador extra\r\n      hacia el último elemento de la lista, para así realizar inserciones de complejidad constante.\r\n    </p>\r\n  </div>\r\n)\r\n\r\nexport default Queue;","import React from 'react';\r\nimport { Table } from 'react-bootstrap';\r\nimport Latex from 'react-latex';\r\nconst complexity = (\r\n  <div className='complexity'>\r\n    <Table striped bordered hover>\r\n      <thead>\r\n        <tr>\r\n          <th />\r\n          <th>Mejor caso</th>\r\n          <th>Peor caso</th>\r\n          <th>Caso promedio</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr>\r\n          <td>\r\n            Apilar\r\n          </td>\r\n          <td>\r\n            <Latex>$O(1)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(1)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(1)$</Latex>\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            Desapilar\r\n          </td>\r\n          <td>\r\n            <Latex>$O(1)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(1)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(1)$</Latex>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </Table>\r\n  </div>\r\n);\r\n\r\nconst Stack = (\r\n  <div>\r\n    <h1>Pila</h1>\r\n    <div>\r\n      {complexity}\r\n      <p>\r\n      Las colas (del inglés <i>queue</i>) son estructuras de datos utilizadas\r\n      para almacenar y extraer elementos siguiendo el principio <b>LIFO</b> (<i>Last-In, First-Out</i>, último\r\n      en entrar, primero en salir).\r\n      </p>\r\n    </div>\r\n    <div>\r\n      <p>\r\n        Al igual que las colas, la pila es una estructura simple utilizada en la implementación de \r\n        diversos algoritmos. Por ejemplo, las pilas pueden ser utilizadas en una versión iterativa de \r\n        DFS (Búsqueda en Profundidad). Otro ejemplo en el que una pila puede ser utilizada es en la \r\n        evaluación de operaciones aritméticas en notación <i>pos-fija</i>\r\n      </p>\r\n      <p>\r\n        Las pilas pueden ser implementadas como listas enlazadas simples, siempre insertando \r\n        y extrayendo el frente de la lista, sin necesidad de ningún otro apuntador extra\r\n      </p>\r\n    </div>\r\n  </div>\r\n)\r\n\r\nexport default Stack;\r\n","import React from 'react';\r\nimport { Table } from 'react-bootstrap';\r\nimport Latex from 'react-latex';\r\nconst complexity = (\r\n  <div className='complexity'>\r\n    <Table striped bordered hover>\r\n      <thead>\r\n        <tr>\r\n          <th />\r\n          <th>Mejor caso</th>\r\n          <th>Peor caso</th>\r\n          <th>Caso promedio</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr>\r\n          <td>\r\n            Insertar frente o final\r\n          </td>\r\n          <td>\r\n            <Latex>$O(1)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(1)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(1)$</Latex>\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            Eliminar frente o final\r\n          </td>\r\n          <td>\r\n            <Latex>$O(1)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(1)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(1)$</Latex>\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            Buscar\r\n          </td>\r\n          <td>\r\n            <Latex>$O(1)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(n)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(n)$</Latex>\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            Insertar o eliminar (aleatorio)\r\n          </td>\r\n          <td>\r\n            <Latex>$O(1)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(n)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(n)$</Latex>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </Table>\r\n  </div>\r\n)\r\n\r\nconst Deque = (\r\n  <div>\r\n    <h1>Listas Doblemente Enlazadas</h1>\r\n    <div>\r\n      {complexity}\r\n      <p>\r\n        Las listas doblemente enlazadas (del inglés <i>Double-Ended Queue</i>, o también <i>deque</i>) son un tipo de lista enlazada, \r\n        en la cual cada elemento posee dos apuntadores, uno hacia el elemento anterior y otro\r\n        al siguiente. Esta propiedad provee diversas ventajas sobre las listas simples, al costo \r\n        del doble de memoria debido a los apuntadores hacia los anteriores.\r\n      </p>\r\n    </div>\r\n    <p>\r\n      Manteniendo dos apuntadores al primer y último elemento, provee inserciones \r\n      y extracciones de ambos extremos en tiempo constante. \r\n    </p>\r\n    <p>\r\n      Si se desea eliminar un elemento, al tener una referencia al elemento anterior, la eliminación \r\n      pasa a tener un tiempo constante. Sin embargo, la búsqueda y acceso sigue teniendo un caso promedio \r\n      de complejidad lineal.\r\n    </p>\r\n    <p>\r\n      Existen diversas implementaciones de listas doblemente enlazadas que permiten acceso aleatorio a elementos \r\n      en tiempo constante, manteniendo apuntadores hacia diversos bloques de elementos pertenecientes a la lista.\r\n    </p>\r\n  </div>\r\n)\r\n\r\nexport default Deque;","import React from 'react';\r\nimport { Table } from 'react-bootstrap';\r\nimport Latex from 'react-latex';\r\nimport { Tex } from 'react-tex';\r\nconst bfTex = 'factor(nodo)=altura(der)-altura(izq) \\\\in \\\\{-1,0,1\\\\}';\r\nconst complexity = (\r\n  <div className='complexity'>\r\n    <Table striped bordered hover>\r\n      <thead>\r\n        <tr>\r\n          <th>#</th>\r\n          <th>Mejor caso</th>\r\n          <th>Peor caso</th>\r\n          <th>Caso promedio</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr>\r\n          <td>\r\n            Inserción\r\n            </td>\r\n          <td>\r\n            <Latex>$O(1)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(\\log n)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(\\log n)$</Latex>\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            Búsqueda\r\n            </td>\r\n          <td>\r\n            <Latex>$O(1)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(\\log n)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(\\log n)$</Latex>\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            Eliminación\r\n            </td>\r\n          <td>\r\n            <Latex>$O(1)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(\\log n)$</Latex>\r\n          </td>\r\n          <td>\r\n            <Latex>$O(\\log n)$</Latex>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </Table>\r\n  </div>\r\n);\r\n\r\nconst AVL = (\r\n  <div>\r\n    <h1>Árbol AVL</h1>\r\n    <div>\r\n      {complexity}\r\n      <p>\r\n        El árbol AVL (por sus publicadores, Adelson-Velskii y Landis) es un árbol binario de búsqueda\r\n        balanceado, lo que le permite mantener una altura logarítmica con respecto a la cantidad \r\n        de elementos almacenados, lo que significa que poseen un peor caso de complejidad\r\n        logarítmica en sus operaciones de inserción, eliminación y búsqueda.\r\n      </p>\r\n    </div>\r\n    <p>\r\n      El árbol AVL se mantiene balanceado <i>por altura</i>. Para cada nodo, \r\n      la diferencia absoluta de altura entre ambos sub-árboles hijos es a lo sumo 1.\r\n    </p>\r\n    <p>\r\n      Se conoce como <i>factor de balance</i> a la diferencia existente entre altura de hijo derecho\r\n      e izquierdo. Para que un árbol binario de búsqueda sea AVL, se debe cumplir que:\r\n    </p>\r\n    <Tex texContent={bfTex}/>\r\n    <h2>Operaciones</h2>\r\n    <p>\r\n      Los árboles AVL permite las mismas operaciones que las de un árbol binario de búsqueda simple.\r\n      Sin embargo, como las modificaciones potencialmente desbalancearán el árbol, los nodos \r\n      involucrados en la operación (incluidos desde la raíz hasta el nodo en cuestión) deben ser balanceados\r\n      por medio de <i>rotaciones</i>\r\n    </p>\r\n    <h3>Balancear</h3>\r\n    <p>Un nodo se encuentra desbalanceado si su factor de balance es <i>-2</i> o <i>2</i>.</p>\r\n    <p>Para rebalancear se realizan rotaciones, los cuales no son mas que modificaciones \r\n      en las que se mantiene el orden de los elementos\r\n    </p>\r\n    <p>Existen dos casos a considerar cuando se balancea un árbol A, los cuales se dividen en dos casos:</p>\r\n    <ul>\r\n      <li>\r\n        <p><b>Caso 1</b>: El sub-árbol derecho es el mas alto (el factor del árbol es 2) </p>\r\n        <p>Siendo D el sub-árbol derecho, se consideran dos casos:</p>\r\n        <ul>\r\n          <li>\r\n            <p><b>Caso 1.1</b>: El sub-árbol derecho de D es mas alto (el factor de D es 1 o 0)</p>\r\n            <p>En este caso se realiza una rotación izquierda en A</p>\r\n          </li>\r\n          <li>\r\n            <p><b>Caso 1.2</b>: El sub-árbol izquierdo de D es mas alto (el factor de D es -1)</p>\r\n            <p>En este caso se realizará una <i>doble rotación</i>, primero se rotará D hacia la derecha y luego\r\n            se rotará A hacia la izquierda</p>\r\n          </li>\r\n        </ul>\r\n      </li>\r\n      <li>\r\n        <p><b>Caso 2</b>: El sub-árbol izquierdo de A es el mas alto (el factor de A es 2) </p>\r\n        <p>Siendo I el sub-árbol izquierdo, se consideran dos casos:</p>\r\n        <ul>\r\n          <li>\r\n            <p><b>Caso 2.1</b>: El sub-árbol izquierdo de I es mas alto (el factor de I es -1 o 0)</p>\r\n            <p>En este caso se realiza una rotación derecha en A</p>\r\n          </li>\r\n          <li>\r\n            <p><b>Caso 2.2</b>: El sub-árbol derecho de I es mas alto (el factor de I es 1)</p>\r\n            <p>En este caso se realizará una <i>doble rotación</i>, primero se rotará I hacia la izquierda y luego\r\n            se rotará A hacia la derecha</p>\r\n          </li>\r\n        </ul>\r\n      </li>\r\n    </ul>\r\n\r\n  </div>\r\n)\r\n\r\nexport default AVL;","import BFS from '../resources/pseudocodes/BFS';\r\nimport DFS from '../resources/pseudocodes/DFS';\r\nimport dijkstra from '../resources/pseudocodes/dijkstra';\r\nimport kruskal from '../resources/pseudocodes/kruskal';\r\nimport bellmanFord from '../resources/pseudocodes/bellmanFord';\r\nimport bubblesort from '../resources/pseudocodes/bubblesort';\r\nimport mergesort from '../resources/pseudocodes/mergesort';\r\nimport prim from '../resources/pseudocodes/prim';\r\nimport {heap} from '../resources/pseudocodes/heap';\r\nimport {avl, bst} from '../resources/pseudocodes/bst';\r\nimport binarySearch from '../resources/pseudocodes/binarySearch';\r\nimport listPseudo from '../resources/pseudocodes/list';\r\n\r\n\r\nimport BFSInfo from '../resources/information/BFS';\r\nimport DFSInfo from '../resources/information/DFS';\r\nimport DijkstraInfo from '../resources/information/Dijkstra';\r\nimport BellmanFordInfo from '../resources/information/BellmanFord';\r\nimport PrimInfo from '../resources/information/Prim';\r\nimport KruskalInfo from '../resources/information/Kruskal';\r\nimport bubbleSortInfo from '../resources/information/BubbleSort';\r\nimport mergeSortInfo from '../resources/information/MergeSort';\r\nimport HeapInfo from '../resources/information/Heap';\r\nimport BSTInfo from '../resources/information/BST';\r\nimport binarySearchInfo from '../resources/information/BinarySearch';\r\nimport LinkedListInfo from '../resources/information/LinkedList';\r\nimport QueueInfo from '../resources/information/Queue';\r\nimport StackInfo from '../resources/information/Stack';\r\nimport DequeInfo from '../resources/information/Deque';\r\nimport AVLInfo from '../resources/information/AVL';\r\nimport actions from '../Actions/actions'\r\nconst algorithmReducer = (state = {}, action) => {\r\n  const control = (action.payload ? \r\n    {\r\n      options: action.payload.options,\r\n      photo: action.payload.photo,\r\n      gif: action.payload.gif,\r\n      undo: action.payload.undo,\r\n      redo: action.payload.redo,\r\n      rewind: action.payload.rewind,\r\n      forward: action.payload.forward,\r\n      pause: action.payload.pause,\r\n      repeat: action.payload.repeat,\r\n      end: action.payload.end,\r\n      remove: action.payload.remove || null,\r\n      clear: action.payload.clear || null,\r\n      selection: null,\r\n    } : {});\r\n\r\n  switch (action.type) {\r\n    case actions.HOME:\r\n      return {\r\n        ...state,\r\n        algorithm: 'none',\r\n        selection: null,\r\n        pseudo: null,\r\n      }\r\n\r\n    case actions.SELECT_BFS:\r\n      return {\r\n        ...state,\r\n        ...control,\r\n        algorithm: 'BFS',\r\n        selection: null,\r\n        pseudo: BFS,\r\n        article: BFSInfo,\r\n        run: action.payload.run,\r\n      }\r\n\r\n    case actions.SELECT_DFS:\r\n      \r\n      return {\r\n        ...state,\r\n        ...control,\r\n        algorithm: 'DFS',\r\n        pseudo: DFS,\r\n        article: DFSInfo,\r\n        run: action.payload.run,\r\n      }\r\n\r\n    case actions.SELECT_DIJKSTRA:\r\n      return {\r\n        ...state,\r\n        ...control,\r\n        algorithm: 'Dijkstra',\r\n        pseudo: dijkstra,\r\n        article: DijkstraInfo,\r\n        run: action.payload.run,\r\n      }\r\n\r\n    case actions.SELECT_BELLMAN_FORD:\r\n      return {\r\n        ...state,\r\n        ...control,\r\n        algorithm: 'BellmanFord',\r\n        pseudo: bellmanFord,\r\n        article: BellmanFordInfo,\r\n        run: action.payload.run,\r\n      }\r\n\r\n    case actions.SELECT_KRUSKAL:\r\n      return {\r\n        ...state,\r\n        ...control,\r\n        algorithm: 'Kruskal',\r\n        pseudo: kruskal,\r\n        article: KruskalInfo,\r\n        run: action.payload.run,\r\n      }\r\n\r\n    case actions.SELECT_PRIM:\r\n      return {\r\n        ...state,\r\n        ...control,\r\n        algorithm: 'Prim',\r\n        pseudo: prim,\r\n        article: PrimInfo,\r\n        run: action.payload.run,\r\n      }\r\n\r\n    case actions.SELECT_HEAP:\r\n      return {\r\n        ...state,\r\n        ...control,\r\n        algorithm: 'Heap',\r\n        pseudo: heap,\r\n        article: HeapInfo,\r\n      }\r\n\r\n    case actions.SELECT_BST:\r\n      return {\r\n        ...state,\r\n        ...control,\r\n        algorithm: 'BST',\r\n        pseudo: bst,\r\n        article: BSTInfo,\r\n      }\r\n\r\n    case actions.SELECT_AVL:\r\n      return {\r\n        ...state,\r\n        ...control,\r\n        algorithm: 'AVL',\r\n        pseudo: avl,\r\n        article: AVLInfo,\r\n      }\r\n\r\n    case actions.SELECT_BUBBLESORT:\r\n      return {\r\n        ...state,\r\n        ...control,\r\n        algorithm: 'BubbleSort',\r\n        pseudo: bubblesort,\r\n        article: bubbleSortInfo,\r\n      }\r\n\r\n    case actions.SELECT_MERGESORT:\r\n      return {\r\n        ...state,\r\n        ...control,\r\n        algorithm: 'MergeSort',\r\n        pseudo: mergesort,\r\n        article: mergeSortInfo,\r\n      }\r\n\r\n    case actions.SELECT_BINARY_SEARCH:\r\n      return {\r\n        ...state,\r\n        ...control,\r\n        algorithm: 'BinarySearch',\r\n        pseudo: binarySearch,\r\n        article: binarySearchInfo,\r\n      }\r\n\r\n    case actions.SELECT_LINKED_LIST:\r\n      const nextState = {\r\n        ...state,\r\n        ...control,\r\n      }\r\n      switch(action.payload.type){\r\n        case actions.SELECT_SINGLE_LINKED_LIST:\r\n          return {\r\n            ...nextState,\r\n            algorithm: 'SingleLinkedList',\r\n            pseudo: listPseudo.singlySet.main,\r\n            article: LinkedListInfo,\r\n          }\r\n        case actions.SELECT_DOUBLE_LINKED_LIST:\r\n          return {\r\n            ...nextState,\r\n            algorithm: 'DoubleLinkedList',\r\n            pseudo: listPseudo.doublySet.main,\r\n            article: DequeInfo,\r\n          }\r\n        case actions.SELECT_QUEUE:\r\n          return {\r\n            ...nextState,\r\n            algorithm: 'Queue',\r\n            pseudo: listPseudo.queueSet.main,\r\n            article: QueueInfo,\r\n          }\r\n        case actions.SELECT_STACK:\r\n          return {\r\n            ...nextState,\r\n            algorithm: 'Stack',\r\n            pseudo: listPseudo.stackSet.main,\r\n            article: StackInfo,\r\n          }\r\n      }\r\n      \r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default algorithmReducer;","import actions from '../Actions/actions'\r\n\r\nconst animationReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case actions.ANIMATION_START:\r\n      return {\r\n        ...state,\r\n        selection: null,\r\n        animation: true,\r\n      }\r\n\r\n    case actions.ANIMATION_PAUSE:\r\n      return {\r\n        ...state,\r\n        paused: true,\r\n      }\r\n\r\n    case actions.ANIMATION_CONTINUE:\r\n      return {\r\n        ...state,\r\n        paused: false,\r\n      }\r\n\r\n    case actions.ANIMATION_END:\r\n      return {\r\n        ...state,\r\n        animation: false,\r\n        paused: false,\r\n        lines: null,\r\n      }\r\n\r\n    case actions.DEC_SPEED:\r\n      return {\r\n        ...state,\r\n        speed: Math.min(state.speed + 0.10, 2),\r\n      }\r\n\r\n    case actions.INC_SPEED:\r\n      return {\r\n        ...state,\r\n        speed: Math.max(state.speed - 0.10, 0),\r\n      }\r\n\r\n    case actions.CHANGE_SPEED:\r\n      return {\r\n        ...state,\r\n        speed: action.payload.speed,\r\n      }\r\n\r\n    case actions.CHANGE_PSEUDO:\r\n      return {\r\n        ...state,\r\n        pseudo: action.payload.pseudo,\r\n      }\r\n    \r\n    case actions.SHOW_PSEUDO:\r\n      return {\r\n        ...state,\r\n        showPseudo: true,\r\n      }\r\n    \r\n    case actions.TOGGLE_PSEUDO:\r\n      return {\r\n        ...state,\r\n        showPseudo: !state.showPseudo,\r\n      }\r\n      \r\n    case actions.CHANGE_LINE:\r\n      return {\r\n        ...state,\r\n        lines: action.payload.lines,\r\n      }\r\n\r\n    case actions.CHANGE_OPTIONS:\r\n      return {\r\n        ...state,\r\n        options: action.payload.options,\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default animationReducer;","import actions from '../Actions/actions'\r\n\r\nconst canvasReducer = (state = {}, action) => {\r\n  switch(action.type){\r\n    case actions.CLEAR_GRAPH:\r\n        return {\r\n          ...state,\r\n          selection: null,\r\n          animation: false,\r\n        }\r\n  \r\n    case actions.LOAD_GRAPH:\r\n      return {\r\n        ...state,\r\n        loadingGraph: true,\r\n        animation: false,\r\n        data: action.payload.data,\r\n        selection: null,\r\n      }\r\n\r\n    case actions.FINISHED_LOAD:\r\n      return {\r\n        ...state,\r\n        loadingGraph: false,\r\n        data: null,\r\n      }\r\n    \r\n    case actions.INC_GIF_LENGTH:\r\n      return {\r\n        ...state,\r\n        gifLength: state.gifLength + 1,\r\n      }\r\n\r\n    case actions.RESET_GIF_LENGTH:\r\n      return {\r\n        ...state,\r\n        gifLength: 0,\r\n      }\r\n  \r\n    case actions.START_GIF_ENCODING:\r\n      return {\r\n        ...state,\r\n        processingGif: true,\r\n      }\r\n\r\n    case actions.FINISHED_GIF_ENCODING:\r\n      return {\r\n        ...state,\r\n        processingGif: false,\r\n      }\r\n\r\n    case actions.TOGGLE_TUTORIAL_MODAL:\r\n      return {\r\n        ...state,\r\n        showTutorialModal: !state.showTutorialModal,\r\n      }\r\n      \r\n    default: \r\n      return state;\r\n  }\r\n}\r\n\r\nexport default canvasReducer;","import actions from '../Actions/actions'\r\n\r\nconst selectionReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case actions.NO_SELECTION:\r\n      return {\r\n        ...state,\r\n        selection: null,\r\n      }\r\n\r\n    case actions.SELECTION:\r\n      return {\r\n        ...state,\r\n        selection: action.payload.selection,\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default selectionReducer;","import actions from '../Actions/actions';\r\nimport { store } from 'react-notifications-component';\r\nimport React from 'react';\r\nconst createNotification = (title, message, type) => {\r\n  store.addNotification({\r\n    title,\r\n    message,\r\n    type,\r\n    insert: \"top\",\r\n    container: \"top-right\",\r\n    animationIn: [\"animated\", \"fadeIn\"],\r\n    animationOut: [\"animated\", \"fadeOut\"],\r\n    dismiss: {\r\n      duration: 5000,\r\n      onscreen: true,\r\n      showIcon: true,\r\n    },\r\n  });\r\n}\r\n\r\nconst notificationsReducer = action => {\r\n  switch(action.type){\r\n    case actions.NO_NODE_SELECTED_ERROR:\r\n      createNotification('Error', \r\n      'Seleccione un nodo para ejecutar el algoritmo',\r\n      'danger');\r\n      break;\r\n\r\n    case actions.NO_EDGE_SELECTED_ERROR:\r\n      createNotification('Error',\r\n      'Seleccione una arista para cambiar su peso',\r\n      'danger');\r\n      break;\r\n\r\n    case actions.NO_ELEMENT_SELECTED_ERROR:\r\n      createNotification('Error',\r\n      'Debe seleccionar un elemento para eliminarlo',\r\n      'danger');\r\n      break;\r\n\r\n    case actions.INVALID_INTEGER_ERROR: \r\n      createNotification('Error',\r\n      'Debe ingresar un número entero entre -999 y 999',\r\n      'danger');\r\n      break;\r\n\r\n    case actions.INVALID_ARRAY_ERROR:\r\n      createNotification('Arreglo inválido',\r\n      'Verifique que el arreglo cumpla con los requerimientos',\r\n      'danger');\r\n      break;\r\n\r\n    case actions.INVALID_GRAPH_ERROR:\r\n      createNotification('Error en el archivo',\r\n      'El archivo no representa un grafo válido',\r\n      'danger');\r\n      break;\r\n    \r\n    case actions.INVALID_HEAP_ERROR:\r\n      createNotification('Error',\r\n      'El archivo proporcionado no representa un Heap válido. Intente con otro archivo',\r\n      'danger');\r\n      break;\r\n\r\n    case actions.INVALID_BST_ERROR:\r\n      createNotification('Error',\r\n      'El archivo proporcionado no representa un Árbol Binario de Búsqueda válido. Intente con otro archivo',\r\n      'danger');\r\n      break;\r\n\r\n    case actions.INVALID_AVL_ERROR:\r\n      createNotification('Error',\r\n      'El archivo proporcionado no representa un Árbol AVL válido. Intente con otro archivo',\r\n      'danger');\r\n      break;\r\n    \r\n    case actions.ANIMATION_RUNNING_ERROR:\r\n      createNotification('Error',\r\n      'No se pueden hacer modificaciones mientras se ejecuta el algoritmo',\r\n      'danger');\r\n      break;\r\n    \r\n    case actions.GIF_ENCODING_ERROR:\r\n      createNotification('Error procesando GIF',\r\n      'Ha ocurrido un error y no se pudo descargar el GIF. Intente nuevamente',\r\n      'danger');\r\n      break;\r\n\r\n    case actions.EMPTY_LIST_WARNING:\r\n      createNotification('La lista se encuentra vacia',\r\n      'No se pudo realizar la acción',\r\n      'warning');\r\n      break;\r\n\r\n    case actions.EMPTY_HEAP_WARNING:\r\n      createNotification('Heap vacío',\r\n      'No se puede extraer el mínimo elemento de un heap vacío',\r\n      'warning');\r\n      break;\r\n    \r\n    case actions.DIJKSTRA_NEGATIVE_WEIGHT_WARNING:\r\n      createNotification('Cuidado con las aristas con peso negativo',\r\n      'El algoritmo de Dijkstra puede no obtener el camino mínimo si hay aristas negativas',\r\n      'warning');\r\n      break;\r\n\r\n    case actions.NEGATIVE_CYCLE_FOUND:\r\n      createNotification('El algoritmo ha encontrado un ciclo negativo',\r\n      'Los nodos pertenecientes al ciclo están marcados en rojo',\r\n      'warning');\r\n      break;\r\n\r\n    case actions.AVL_NOT_FOUND_INFO:\r\n      createNotification('El elemento no fue encontrado en el árbol AVL',\r\n      'Debe volver a la edición para modificar el arreglo',\r\n      'info');\r\n      break;\r\n\r\n    case actions.AVL_ELEMENT_ALREADY_INFO:\r\n      createNotification('Elemento en el árbol',\r\n      'El elemento ya se encuentra en el árbol AVL',\r\n      'info');\r\n      break;\r\n\r\n    case actions.STARTING_BFS_INFO:\r\n      createNotification('',\r\n      'Realizando BFS desde el nodo seleccionado',\r\n      'info');\r\n      break;\r\n\r\n    case actions.STARTING_DFS_INFO:\r\n      createNotification('',\r\n      'Realizando DFS desde el nodo seleccionado',\r\n      'info');\r\n      break;\r\n    \r\n    case actions.STARTING_DIJKSTRA_INFO:\r\n      createNotification('',\r\n      'Calculando caminos de peso mínimo desde el nodo seleccionado mediante Dijkstra',\r\n      'info');\r\n      break;\r\n    \r\n    case actions.STARTING_BELLMAN_FORD_INFO:\r\n      createNotification('',\r\n      'Calculando caminos de peso mínimo desde el nodo seleccionado mediante Bellman-Ford',\r\n      'info');\r\n      break;\r\n\r\n    case actions.STARTING_KRUSKAL_INFO:\r\n      createNotification('',\r\n      'Obteniendo árbol recubridor mínimo mediante el algoritmo de Kruskal',\r\n      'info');\r\n      break;\r\n    \r\n    case actions.STARTING_PRIM_INFO:\r\n      createNotification('',\r\n      'Obteniendo árbol recubridor mínimo mediante el algoritmo de Prim',\r\n      'info');\r\n      break;\r\n    \r\n    case actions.STARTING_BUBBLESORT_INFO:\r\n      createNotification('',\r\n      'Ordenando el arreglo mediante ordenamiento burbuja',\r\n      'info');\r\n      break;\r\n\r\n    case actions.STARTING_MERGESORT_INFO:\r\n      createNotification('',\r\n      'Ordenando el arreglo mediante ordenamiento por mezcla',\r\n      'info');\r\n      break;\r\n\r\n    case actions.STARTING_BINARYSEARCH_INFO:\r\n      createNotification('',\r\n      'Realizando búsqueda binaria sobre el arreglo',\r\n      'info');\r\n      break;\r\n\r\n    case actions.STARTING_GIF_RECORDING_INFO:\r\n      createNotification('Creación de GIF iniciada',\r\n      'La grabación tendra una duracion maxima de 30 segundos',\r\n      'info');\r\n      break;\r\n    \r\n    case actions.FINISHED_GIF_RECORDING_INFO:\r\n      createNotification('Grabación de GIF terminada',\r\n      'Procesando GIF para descargar',\r\n      'info');\r\n      break;\r\n\r\n    case actions.SORTING_BINARY_SEARCH_INFO:\r\n      createNotification('Solo arreglos ordenados',\r\n      'Los arreglos se ordenarán para realizar la búsqueda binaria',\r\n      'info');\r\n      break;\r\n    \r\n    case actions.BINARY_SEARCH_NOT_FOUND_INFO:\r\n      createNotification('El elemento no se encuentra en el arreglo',\r\n      'Debe volver a la edición para modificar el arreglo',\r\n      'info');\r\n      break;\r\n    \r\n    case actions.NO_FILE_SELECTED_INFO:\r\n      createNotification('Ningún archivo seleccionado',\r\n      'Debe seleccionar un archivo para subirlo',\r\n      'info');\r\n      break;\r\n\r\n    case actions.FINISHED_GIF_SUCCESS:\r\n      createNotification('Creación de GIF terminada',\r\n      'El archivo GIF será descargado a su dispositivo',\r\n      'success');\r\n      break;\r\n    \r\n    case actions.LOAD_GRAPH_SUCCESS:\r\n      createNotification('Grafo cargado con éxito',\r\n      ' ',\r\n      'success');\r\n      break;\r\n    \r\n    case actions.PHOTO_SUCCESS:\r\n      createNotification('Captura realizada','La captura será descargada a su dispositivo','success');\r\n      break;\r\n    \r\n    case actions.FINISHED_ALGORITHM_SUCCESS:\r\n      createNotification('Ejecución terminada exitosamente',\r\n      'Debe volver a la edición para modificar el grafo',\r\n      'success');\r\n      break;\r\n\r\n    case actions.AVL_FOUND_SUCCESS:\r\n      createNotification('Búsqueda terminada',\r\n      'El elemento fue encontrado en el árbol AVL',\r\n      'success');\r\n      break;\r\n    \r\n    case actions.ARRAY_SORTED_SUCCESS:\r\n      createNotification('El arreglo fue ordenado exitosamente',\r\n      'Debe volver a la edición para modificar el arreglo',\r\n      'success');\r\n      break;\r\n\r\n    case actions.BINARY_SEARCH_FOUND_SUCCESS:\r\n      createNotification('El elemento fue encontrado en el arreglo',\r\n      'Debe volver a la edición para modificar el arreglo',\r\n      'success');\r\n      break;\r\n  }\r\n}\r\n\r\nexport default notificationsReducer;","import algorithmReducer from './algorithmReducer';\r\nimport animationReducer from './animationReducer';\r\nimport canvasReducer from './canvasReducer';\r\nimport selectionReducer from './selectionReducer';\r\nimport notificationsReducer from './notificationsReducer';\r\nconst initialState = {\r\n  algorithm: 'none',\r\n  selection: null,\r\n  animation: false,\r\n  speed: 0.75,\r\n  loadingGraph: false,\r\n  data: null,\r\n  pseudo: null,\r\n  lines: null,\r\n  run: () => { },\r\n  options: [],\r\n  photo: () => { },\r\n  gif: () => {},\r\n  gifLength: 0,\r\n  showPseudo: true,\r\n  paused: false,\r\n  processingGif: false,\r\n  \r\n  article: null,\r\n  \r\n  remove: null,\r\n  clear: null,\r\n  undo: () => {},\r\n  redo: () => {},\r\n  rewind: () => {},\r\n  forward: () => {},\r\n  repeat: () => {},\r\n  pause: () => {},\r\n  end: () => {},\r\n\r\n  showTutorialModal: false,\r\n};\r\n\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  let finalState = state;\r\n\r\n  finalState = algorithmReducer(finalState, action);\r\n  finalState = animationReducer(finalState, action);\r\n  finalState = canvasReducer(finalState, action);\r\n  finalState = selectionReducer(finalState, action);\r\n  \r\n  notificationsReducer(action);\r\n  return finalState;\r\n}\r\n\r\nexport default reducer;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App'\r\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\r\nimport './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport {createStore} from 'redux';\r\nimport {Provider} from 'react-redux';\r\nimport { CookiesProvider } from 'react-cookie';\r\nimport reducer from './Reducers/reducer';\r\n\r\nconst store = createStore(reducer);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <CookiesProvider>\r\n      <App />\r\n    </CookiesProvider>\r\n  </Provider>, \r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","export const NODE = {\r\n\t'background-color': 'white',\r\n\t'color': 'black',\r\n\t'border-style': 'solid',\r\n\t'font-size': '15',\r\n\t'width': '40',\r\n\t'height': '40',\r\n\t'border-width': '1',\r\n\t'border-opacity': '1',\r\n\t'border-color': 'black',\r\n\t'label': 'data(value)',\r\n\t'text-valign': 'center',\r\n\t'text-halign': 'center',\r\n\t'z-index': 3,\r\n};\r\n\r\nexport const NODE_GRAY = {\r\n\t'background-color': 'gray',\r\n\t'color': 'black',\r\n}\r\n\r\nexport const NODE_RED = {\r\n\t'background-color': 'red',\r\n\t'color': 'black',\r\n}\r\n\r\nexport const NODE_BLACK = {\r\n\t'background-color': 'black',\r\n\t'color': 'white',\r\n}\r\n\r\nexport const NODE_CORRECT = {\r\n\t'background-color': 'Chartreuse',\r\n\t'color': 'black',\r\n}\r\n\r\nexport const NODE_WRONG = {\r\n\t'background-color': '#FF9494',\r\n\t'color': 'black',\r\n}\r\n\r\nexport const NODE_SELECTED = {\r\n\t'background-color': '#2B3B6B',\r\n\t'color': 'white',\r\n}\r\n\r\nexport const EDGE = {\r\n  'width': 2,\r\n  'line-color': '#ccc',\r\n\t'curve-style': 'bezier',\r\n\t'line-style': 'solid',\r\n}\r\n\r\nexport const EDGE_VISITED = {\r\n\t'line-color': '#2B3B6B',\r\n\t'target-arrow-color': '#2B3B6B',\r\n}\r\n\r\nexport const EDGE_TRAVERSE = {\r\n\t'line-color': 'green',\r\n\t'target-arrow-color': 'green',\r\n}\r\n\r\nexport const EDGE_NO_MST = {\r\n\t'line-style': 'dashed', \r\n\t'line-color': '#eee'\r\n}\r\n\r\nexport const EDGE_MST = {\r\n\t'line-style': 'solid', \r\n\t'line-color': 'black'\r\n}\r\n\r\nexport const EDGE_DIRECTED = {\r\n\t'target-arrow-color': '#ccc',\r\n\t'line-color': '#ccc',\r\n  'target-arrow-shape': 'triangle',\r\n}\r\n\r\nexport const EDGE_DOUBLE = {\r\n\t'source-arrow-color': '#ccc',\r\n\t'source-arrow-shape': 'triangle',\r\n}\r\n\r\nexport const EDGE_WEIGHTED = {\r\n\t'label': 'data(weight)',\r\n\t'text-margin-y': '-10.0',\r\n\t'text-rotation': 'autorotate',\r\n}\r\nexport const EDGE_SELECTED = {\r\n  'line-color': 'black',\r\n  'target-arrow-color': 'black',\r\n}\r\n\r\nexport const LINE_STD = {\r\n\t//'background-color': '#1E1E1E',\r\n\t'color': '#CECFE6',\r\n}\r\n\r\nexport const LINE_FOCUS = {\r\n\t'background-color': '#4C5090',\r\n\t'color': '#CECFE6',\r\n}\r\n\r\nexport const NODE_POPPER = {\r\n\t'z-index': 0,\r\n\t'border-width': 0,\r\n\t'font-size': 15,\r\n\t'width': 10,\r\n\t'height': 10,\r\n\t'visibility': 'visible',\r\n\t'shape': 'square',\r\n}","module.exports = __webpack_public_path__ + \"static/media/graph3.674484b1.png\";","module.exports = __webpack_public_path__ + \"static/media/AVL.79af0dfa.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAzkAAAG3CAIAAAAYVQzPAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAACFXSURBVHhe7d15kJTFwfjxRFHkZgkYVzFA8AANiDceeJWoiIq+atQfeFWUMvEIWh4kqNHXK4cKmpQxljEiVox3Il4Qy7sM3lGIeKx4HxFETtlF2Pz6nX1CkUHNzB7TPTOfzx+WT+/Dbk9v1/a3dmdnv/EvAABSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVqHZ1dXXjytZOOdlFWTn++OO33nrrE088MbsuK+W77Icddtj6668/aNCgsPhlp0tOdlFWNt10044dOw4YMCC7Livlu+xNXnjhhexrfTnTalS7Rx999BsAVKLbbrst+1pfzrQa1a6p1V588cXsuqysvfbaffr0yS7KysSJEy176Z188smWvfTs9igeeeQRrQYVQqtF4fSKQqtFYbdHodWgcmi1KJxeUWi1KOz2KLQaVA6tFoXTKwqtFoXdHoVWg8qh1aJwekWh1aKw26PQalA5tFoUTq8otFoUdnsUWg0qh1aLwukVhVaLwm6PQqtB5dBqUTi9otBqUdjtUWg1qBxaLQqnVxRaLQq7PQqtBpVDq0Xh9IpCq0Vht0eh1aByaLUonF5RaLUo7PYotBpUDq0WhdMrCq0Whd0ehVaDyqHVonB6RaHVorDbo9BqUDm0WhROryi0WhR2exRaDSqHVovC6RWFVovCbo9Cq0Hl0GpROL2i0GpR2O1RaDWoHFotCqdXFFotCrs9Cq0GlUOrReH0ikKrRWG3R6HVoHJotSicXlG0bqstW7Zs9uzZCxYsyK7/0/Llyz/++ON//OMfL7300ttvv71kyZLsDc1VgmUPjyU8ovnz52fXraR1d3tjY2NY2LCqCxcuzIZWk/iyz50796233gqTzK5zwuDfv1bYadmtxdBqUDm0WhRaLYpWbLX6+vpbbrllww03/NKzMLz1D3/4w3777detW7d27doNGTJk/PjxIR2yNzdLWy97CILzzz9/4403vvnmm1euXJmNtobW3e0hxY488sgOHTr85S9/yYb+LfFl/+ijj4455pgDDjjgvffey4ZyJk2aFNbna4Rcy24thlaDyqHVotBqUbRiq919991bbrnlWmutteZZuHz58iuuuKJXr1477bTT9ddff+utt44ePbpHjx7Dhw+fM2dOdlPx2nTZGxsbwzxramrCPFNutRCUV199ddeuXddstcSX/f333w+h1r59+5CSea329NNPh1zLc+WVVx500EHh/qFDh37wwQfZrcXQalA5tFoUWi2KVmm1+vr6kAsdO3YM7ypY8yx89tlnu3TpMmzYsFdffbVpZMmSJeeff364+ZJLLvniiy+aBovVpss+c+bM733ve2GGibfajBkzQiKH97Zmq6W87LNmzQrJGMo+TGbNVvtSoc922GGH/v37P//889lQkbQaVA6tFoVWi6KFrRYK5oknnthrr73CCvTt2zeco+F/8s7CZcuWnXvuueGjXHfddav3QV1dXfgnO++8c7O/x9N2yz537tyxY8cOHTr06KOPTrnVwjwPPfTQ3Xfffc8998xrtWSXfcGCBRdccMGGG27YtWvXbbfdNtRkIa22cOHCH/zgBzU1NVdcccWKFSuy0SJpNagcWi0KrRZFC1utvr5+woQJ7du3P+CAA+65557w/6EY8s7Cjz76KMTceuut9+yzz2ZDOSEmjjvuuN69ez/00EONjY3ZaDHabtknT548ePDgKVOmXHnllcm22ueff37ppZcOGjTolltuCR2T12rJLvvMmTPDYw+9eNFFF4XQ32KLLf5rq4U4u+mmm7p163bIIYe05Ke3Wg0qh1aLQqtF0cJWa2hoCCff1KlTP/vss6VLl1588cVrttqrr74azuMtt9xyzfM43F9TU3PjjTc27+dxbbTss2fP3nrrrc8444zwoCZNmpRmq4XMuuOOO8LcwhrOmzdv7Nixea2W7LKH5T3rrLNef/31sHnefPPNQlqtrq5uhx12CA/w/vvvb8knQqtB5dBqUWi1KFrxdws+//zzL221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aLUotBpAgbRaQrRaFFotCq0GUCCtlhCtFoVWi0KrARRIqyVEq0Wh1aLQagAF0moJ0WpRaLUotBpAgbRaQrRaFK3YasuXL586dWpYhy9NkPnz50+ZMuXggw/u0aNHWK6BAweeeuqpM2bM+OKLL7I7iteKyx6mF+Zz4IEHvvfee9nQaj766KPJkyePGDGipqamU6dOu++++zXXXBMGszcXT6sBFEirJUSrRdGKrRb6Y9dddw1LsWaChBI6++yz119//e233378+PEXXXTR6NGja2trQ7Hdddddzc611lr2uXPn/uQnP+ncufN+++23ZquFJjvppJM6duy4yy67nHPOOeHOoUOHdu/ePTyipUuXZjcVSasBFEirJUSrRdEqrdbQ0HDjjTf27t07rMOaCbJy5cobbrihffv2I0aMmDlz5vLly8PIokWLbrnllnDzNtts89prr2W3FqlVlj189COOOKJDhw5hMmu2Wpjtb37zm27duoV7Pvjgg3AZvPvuuyNHjgy5Nm3atOy+Imk1gAJptYRotSha2GqNjY2vvPLKoYceGlagS5cuXbt2XWuttfISZN68eYcddli7du3uv//+bChn6dKlRx555Le//e0///nPod6y0WK0cNmXLVs2ZcqUvn37rrvuur169Qr/XbPVQp/ts88+22+//Zw5c7Kh3KO++eabN9poowkTJoT/z0aLodUACqTVEqLVomhhq9XX14deCZWzyy67TJ48efz48R06dMhLkDfeeGOvvfYaMGDA22+/nQ392//+7//26NEjdM+KFSuyoWK0cNlnzpwZHnttbe24ceMeeuihLbbYYs1Wmz59emiyCy+8MO8HtW+++ea11147derU5s1cqwEUSKslRKtF0cJWa/rp56RJk1577bXFixdffPHFa7ZaGH/++ecff/zxZcuWZUM54d/+8Ic/7NmzZ7g/Squ98sorY8aMefDBB+fPnx/a60tbbeLEiU3f+Wve98++ilYDKJBWS4hWi6IVf7fg888//9JW+yovv/xybW3tJptsEkouGypSKy77V7XauHHjNt9882eeeWbp0qVXXnnllltu2aVLl1GjRj399NPN+7ltE60GUCCtlhCtFkWsVvvwww9POumkdu3anXHGGYsXL85Gi9TWrVZfXz969Oj+/ftPnDhxp5122myzzYYOHbrddtttuOGGoTKvuOKK8JCzW4uk1QAKpNUSotWiiNJqCxcuPPfcc2tqakaOHFlXV5eNFq80rdapU6dNNtnkhBNOeOaZZxYsWPDxxx/ffffdO++8c+/evadOnZrdWiStBlAgrZYQrRZF6Vst3Hb22Wd37tx5+PDha/62QVFK02phfUaNGvXPf/4zG/3X/70KyR133PGd73znkEMOWbRoUTZaDK0GUCCtlhCtFkWJWy0Uz/HHH7/WWmvtueees2bNykabq61braGhYcyYMR07drzmmmvyfvsh3L/bbrsNGDBg9dfyKJxWAyiQVkuIVouilK32wgsvfP/73+/UqdPhhx/+6quvZqMt0NatFkyYMKFHjx5TpkzJ+02Cjz76KNy8zjrr/P3vf8+GiqHVAAqk1RKi1aIoWauFONt7771D94wbN+6dd97JRlumBK120003de7c+Re/+EXe99XmzJmz22679e/fv65Zz7fTagAF0moJ0WpRlKbVQgDtscce3bt3P++885r9W59rKkGrhcQcMmTI/vvvP3/+/Gwo5/777+/Xr9+RRx7ZvD8JqtUACqTVEqLVoihBqy1atOiUU04JH+Woo44KSRRabXVLlixpaGjIbi1SCVotPKjx48d37do1VOYHH3wQplpfXz979ux99tmnZ8+efg8UoK1ptYRotSjautUaGxuffPLJfv36hY+y6667Hnvsscf9p7Fjx95///15f8GpQCVotWDOnDljxoxp167dsGHDTjvttNCdgwYNCqF2wQUXNO+baoFWAyiQVkuIVouirVstRNgNN9xQU1MTPsqX6ty588SJE+vr67N/UIzStFrIzffff/93v/vdPvvs061bt29961ujRo2666678n4qWhStBlAgrZYQrRZFK7Za6ZXvsms1gAJptYRotSi0WhRaDaBAWi0hWi0KrRaFVgMokFZLiFaLQqtFodUACqTVEqLVotBqUWg1gAJptYRotSi0WhRaDaBAWi0hWi0KrRaFVgMokFZLiFaLQqtFodUACqTVEqLVotBqUWg1gAJptYRotSi0WhRaDaBAWi0hWi0KrRaFVgMokFZLiFaLQqtFodUACqTVEqLVotBqUWg1gAJptYRotSi0WhRaDaBAWi0hWi0KrRaFVgMokFZLiFaLQqtFodUACqTVEqLVotBqUWg1gAJptYRotSi0WhRaDaBAWi0hWi0KrRaFVgMokFZLiFaLQqtFodUACqTVEqLVotBqUWg1gAJptYRotSi0WhRaDaBAWi0hWi0KrRaFVgMokFZLiFaLQqtFodUACqTVEqLVotBqUWg1gAJptYQ0tRpUD60G8F9ptYTMmjXr4LLVNye7KCtDhw5db7311l9//doy1C4nuyhDTzzxRLb7AfgKWg0AIF1aDQAgXVoNACBdWg0AIF1aDQAgXVoNACBdWg0AIF1aDQAgXVoNACBdWg0AIF1aDQAgXVoNACBdWg0AIF0V2GozZsx4tDzdd999V1111YMPPphdl5uw8tnnAABoJRXYan379v0GMYSVzz4HAEArqcxWq62tfbEMnXnmmaF4/vSnP2XXZSWsuVYDgFZXma3Wp0+f7KKsTJw4MbRa6J7suqyENddqANDqtFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkKcyW23ttdcO6VB2ampqQqvV1tZm12UlrLlWA4BWV4Gttv/++w8pT5tvvnmHDh0GDhyYXZebsPLZ5wAAaCUV2GoAABVDqwEApEurAQCkS6sBAKRLqwEApEurAQCkS6sBAKRLqwEApEurAQCkS6sBAKRLqwEApEurAQCkS6tVhfPPPz/7++plLjyQ7CEBQHWI02oLylz2MMrHcccd942KEB5I9pAAoDrEabXs4C1b2cMoH1oNAMpUtFYbNWrUH8rQ8OHDw+Szh1E+tBoAlKlorfazn/0suygrP/7xj8Pks4vyodUAoExpteJURqtlo2Uim3SOVgOg2mi14mi10ssmnaPVAKg2Wq04Wq30sknnaDUAqo1WK45WK71s0jlaDYBqo9WKo9VKL5t0jlYDoNpoteJotdLLJp2j1QCoNlqtOFqt9LJJ52g1AKqNViuOViu9bNI5Wg2AaqPViqPVSi+bdI5WA6DaaLXiaLXSyyado9UAqDZarTharfSySedoNQCqjVYrjlYrvWzSOVoNgGqj1Yqj1Uovm3SOVgOg2mi14mi10ssmnaPVAKg2Wq04Wq30sknnaDUAqo1WK45WK71s0jlaDYBqo9WKo9VKL5t0jlYDoNpUZqvV19f/9Kc/3WKLLV599dVsqJVotTW99NJLY8eO7dmzZ/v27Y866qgnn3wye0MrySado9UAqDaV2WrTp0/v27dvv379tFqTNmq1hoaGKVOmbLTRRhtssMGOO+6400479enTp1evXr/85S8XL16c3dRi2aRztBoA1aYCW+2NN97Yddddw4fQaqu0Uas9+uijvXv3Hjx48OTJk+fNm7dgwYJ777132LBh3bt3v/3221euXJnd1zLZpHO0GgDVptJa7bPPPjv++OM33njjzTbbTKut0hat1tDQcO6554b3dvnll9fX1zcNrlix4rbbbguD4bMQ0q1psIVyU85oNQCqTUW12vLlyydPnlxTU3PVVVeNHj1aq63SFq22ePHisWPHhvd26623ZkM5s2bNCoPbbrvthx9+mA21TG7KGa0GQLWpqFabMWPGzjvvfOqpp3788cdHH320VlulLVotlPGFF14Y3tuvfvWrVd9XW7ly5e233x4GjzrqqM8++6xpsIVyU85oNQCqTeW02tKlS8NBvscee4Q+W7JkiVZbXVu0WvC3v/2tf//+22677b333tvQ0LBixYrHH39877337tmz59133+35agDQchXSaiELJk6c2Ldv36antGu1PG3Uao2NjWGFQ5x169ate06nTp1Cuj3xxBOh27KbWiybdI5WA6DaVEKrhTh75JFHNtxww3HjxjX93E2r5WmjVlu0aNGdd965yy679O7de8uc8FnYaqutfv/738+fPz+7qcWySedoNQCqTSW02uzZs0eMGLH99tvX1dU1jWi1PG3RakuXLv35z3/eoUOHQw45ZNq0aQsWLFi4cOETTzxx/PHHt2/f/rTTTvv000+zW1smm3SOVgOg2pR9q4UsO/vsswcOHPjXv/61sbFx1aBWW11btNpLL700ePDgPn36PPfcc6tWPnjnnXeGDRvWt2/fhx9+ePXxZssmnaPVAKg2Zd9qdXV12223XdNB/qV69Ohx8803t9bTp7RakxBh9913X21t7YknntjQ0JCN/tukSZO6dOly9dVXr/mmZsgmnaPVAKg2Zd9qH3744Wmnnbb/f9p333179+7dsWPHPfbY44gjjnj44Ydb63cStVqTpte87dWr1wknnLDqBTtWueGGG0KrhWJb803NkE06R6sBUG3KvtUaGxsbGhpCE6zu008/HT16dN++fWfOnNn0WhLZ3S2m1VZ58sknwwoPGzbs448/zoZywvqfdNJJPXv2/OMf//jFF19koy2QTTpHqwFQbcq+1b6U56vlaYtWC4l20EEHrbvuulddddWyZcuaBpt+NtqpU6fNN988hHLTYAtlk87RagBUG61WHK22uhkzZgwcOLB79+5hte+5557p06efc845386ZPHlya307M5t0jlYDoNpoteJotdU1NjY+88wzxxxzzBZbbNGuXbu11177u9/97oEHHjh16tTly5dnN7VYNukcrQZAtanMVlu5cuXs2bNnzJjx+eefZ0OtRKutaeHChaGJH3/88ccee2zmzJnz5s3L3tBKsknnaDUAqk1ltlrb0Wqll006R6sBUG20WnG0Wullk87RagBUG61WHK1Wetmkc7QaANVGqxVHq5VeNukcrQZAtdFqxdFqpZdNOkerAVBttFpxtFrpZZPO0WoAVButVhytVnrZpHO0GgDVRqsVR6uVXjbpHK0GQLXRasXRaqWXTTpHqwFQbbRacbRa6WWTztFqAFQbrVYcrVZ62aRztBoA1UarFUerlV426RytBkC10WrF0Wqll006R6sBUG20WnG0Wullk87RagBUG61WHK1Wetmkc7QaANVGqxVHq5VeNukcrQZAtdFqxdFqpZdNOkerAVBttFpxtFrpZZPO0WoAVButVhytVnrZpHO0GgDVRqsVR6uVXjbpHK0GQLXRasXRaqWXTTpHqwFQbbRacbRa6WWTztFqAFQbrVacymi1F8tKNukcrQZAtdFqxamMVitfWg2AahOt1fr06bN7Gdpoo43C5LOHUT60GgCUqWitVtayh1E+tBoAlKnyyw6aQasBQJnSalVh+vTpkypCeCDZQwKA6qDVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAAUvWvf/1/IbYCbS1ymp0AAAAASUVORK5CYII=\""],"sourceRoot":""}