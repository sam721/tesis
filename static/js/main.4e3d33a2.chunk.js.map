{"version":3,"sources":["Styles/Styles.ts","Components/CodeBlock.tsx","Components/AlgorithmInfo.tsx","Actions/actions.js","utils/dataURItoBlob.js","utils/MediaRecorder.js","Components/UploadGraphModal.tsx","Components/InputModal.tsx","Processing/graph-processing.ts","resources/names_and_routes/algorithm_names.js","Components/Graph.tsx","Components/InputHeapModal.tsx","utils/heap-utils.js","resources/pseudocodes/heap.jsx","Algorithms/DS/PriorityQueue.js","Processing/heap-processing.ts","Components/Heap.tsx","resources/names_and_routes/algorithm_routes.js","Components/Home.tsx","utils/avl-utils.js","Components/InputAVLModal.tsx","utils/cy-utils.js","resources/pseudocodes/avl.jsx","Processing/avl-proccesing.tsx","Components/AVL.tsx","Algorithms/DS/Queue.js","Algorithms/BFS.js","Algorithms/DFS.js","Algorithms/Dijkstra.js","Algorithms/BellmanFord.js","Algorithms/Prim.js","Algorithms/DS/DisjointSet.js","Algorithms/Kruskal.js","resources/pseudocodes/list.jsx","algorithm-properties.js","Algorithms/BubbleSort.js","Components/InputArrayModal.tsx","Components/BubbleSort.tsx","Algorithms/MergeSort.js","Processing/mergesort-processing.ts","Components/MergeSort.tsx","Algorithms/BubbleSort-util.js","Algorithms/BinarySearch.js","Components/BinarySearch.tsx","Algorithms/DS/LinkedListSimulator.js","Processing/list-processing.ts","Components/LinkedList.tsx","Editor.js","Components/Sidebar.tsx","resources/pseudocodes/BFS.jsx","Components/OptionsMenu.tsx","Components/SpeedBar.tsx","Components/Footer.tsx","Components/PhotoControl.tsx","Components/GIFControl.tsx","Components/MenuBar.tsx","resources/default_examples/example.js","Components/FreeGraph.tsx","Components/FreeGraphModal.tsx","App.jsx","serviceWorker.js","resources/pseudocodes/DFS.jsx","resources/pseudocodes/dijkstra.jsx","resources/pseudocodes/kruskal.jsx","resources/pseudocodes/bellmanFord.jsx","resources/pseudocodes/bubblesort.jsx","resources/pseudocodes/mergesort.jsx","resources/pseudocodes/prim.jsx","resources/pseudocodes/binarySearch.jsx","Reducers/algorithmReducer.js","Reducers/animationReducer.js","Reducers/canvasReducer.js","Reducers/selectionReducer.js","Reducers/notificationsReducer.js","Reducers/reducer.js","index.js","static/images/graph3.png","static/images/AVL.png","static/images/array.png"],"names":["__webpack_require__","r","__webpack_exports__","d","NODE","NODE_GRAY","NODE_RED","NODE_BLACK","NODE_CORRECT","NODE_WRONG","NODE_SELECTED","EDGE","EDGE_VISITED","EDGE_TRAVERSE","EDGE_NO_MST","EDGE_MST","EDGE_DIRECTED","EDGE_DOUBLE","EDGE_WEIGHTED","EDGE_SELECTED","LINE_STD","LINE_FOCUS","NODE_POPPER","background-color","color","border-style","font-size","width","height","border-width","border-opacity","border-color","label","text-valign","text-halign","z-index","line-color","curve-style","line-style","target-arrow-color","target-arrow-shape","source-arrow-color","source-arrow-shape","text-margin-y","text-rotation","visibility","connect","require","CodeLine","props","line","current","index","focus","react_default","a","createElement","style","Object","objectSpread","paddingRight","className","paddingLeft","ind","toString","text","CodeBlock","this","code","show","_this$props","lines","codelines","i","length","push","CodeBlock_CodeLine","includes","Fragment","React","Component","state","pseudo","showPseudo","AlgorithmInfo","Container","backgroundColor","Row","Col","algorithm","Components_CodeBlock","actions","INITIAL","HOME","TOGGLE_TUTORIAL_MODAL","SELECT_BFS","SELECT_DFS","SELECT_BELLMAN_FORD","SELECT_DIJKSTRA","SELECT_KRUSKAL","SELECT_PRIM","SELECT_HEAP","SELECT_AVL","SELECT_BUBBLESORT","SELECT_MERGESORT","SELECT_BINARY_SEARCH","SELECT_LINKED_LIST","SELECT_SINGLE_LINKED_LIST","SELECT_DOUBLE_LINKED_LIST","SELECT_QUEUE","SELECT_STACK","SELECTION","NO_SELECTION","ANIMATION_START","ANIMATION_PAUSE","ANIMATION_CONTINUE","ANIMATION_END","CLEAR_GRAPH","CHANGE_PSEUDO","TOGGLE_PSEUDO","SHOW_PSEUDO","CLOSE_PSEUDO","INC_SPEED","DEC_SPEED","CHANGE_SPEED","CHANGE_OPTIONS","CHANGE_LINE","LOAD_GRAPH","FINISHED_LOAD","INC_GIF_LENGTH","RESET_GIF_LENGTH","START_GIF_ENCODING","FINISHED_GIF_ENCODING","NO_NODE_SELECTED_ERROR","NO_EDGE_SELECTED_ERROR","NO_ELEMENT_SELECTED_ERROR","INVALID_INTEGER_ERROR","INVALID_ARRAY_ERROR","INVALID_GRAPH_ERROR","INVALID_HEAP_ERROR","INVALID_AVL_ERROR","ANIMATION_RUNNING_ERROR","GIF_ENCODING_ERROR","EMPTY_LIST_WARNING","EMPTY_QUEUE_WARNING","EMPTY_STACK_WARNING","EMPTY_HEAP_WARNING","DIJKSTRA_NEGATIVE_WEIGHT_WARNING","NEGATIVE_CYCLE_FOUND","AVL_NOT_FOUND_INFO","AVL_ELEMENT_ALREADY_INFO","STARTING_BFS_INFO","STARTING_DFS_INFO","STARTING_DIJKSTRA_INFO","STARTING_BELLMAN_FORD_INFO","STARTING_KRUSKAL_INFO","STARTING_PRIM_INFO","STARTING_BUBBLESORT_INFO","STARTING_MERGESORT_INFO","STARTING_BINARYSEARCH_INFO","STARTING_GIF_RECORDING_INFO","FINISHED_GIF_RECORDING_INFO","STARTING_BINARY_SEARCH_INFO","BINARY_SEARCH_NOT_FOUND_INFO","NO_FILE_SELECTED_INFO","FINISHED_GIF_SUCCESS","LOAD_GRAPH_SUCCESS","PHOTO_SUCCESS","FINISHED_ALGORITHM_SUCCESS","AVL_FOUND_SUCCESS","ARRAY_SORTED_SUCCESS","BINARY_SEARCH_FOUND_SUCCESS","dataURItoBlob","dataURI","byteString","atob","split","mimeString","arrayBuffer","ArrayBuffer","_ia","Uint8Array","charCodeAt","dataView","DataView","Blob","type","gifshot","MediaRecorder","_this2","dispatch","arguments","undefined","_action","classCallCheck","_gifBuffer","_takingGif","_interval","_dispatch","downloadGif","buffer","createGIF","images","gifWidth","gifHeight","frameDuration","obj","error","console","log","image","link","document","setAttribute","window","URL","createObjectURL","display","body","appendChild","click","removeChild","cy","_this","download","jpg","takeGif","clearInterval","setInterval","takePicture","elements","graph","JSON","stringify","encodeURIComponent","input","value","UploadGraphModal","uploadGraph","getElementById","files","file","reader","FileReader","onload","content","result","parse","payload","data","e","readAsText","handleClose","Modal_default","onHide","Header","closeButton","Title","Body","id","Footer","Button","variant","onClick","InputModal","possibleConstructorReturn","getPrototypeOf","call","setStepInputRef","handleAccept","validateNumber","parseInt","callback","handleChange","setState","currentTarget","handleCancel","currentValue","element","prevProps","test","min","max","ref","onChange","selection","weight","Styles","cytoscape","exportGraph","nodes","forEach","node","group","position","edges","edge","source","target","processCommands","commands","action","headless","steps","lastLines","_loop","pos","_commands$pos","eles","distance","duration","inst","ele","prevStyle","name","algorithmNames","BFS","DFS","Dijkstra","BellmanFord","Kruskal","Prim","MinHeap","AVL","BubbleSort","MergeSort","BinarySearch","SingleLinkedList","DoubleLinkedList","Queue","Stack","autopanOnDrag","getNodeIdString","nodeId","Graph","_isMounted","_mediaRecorder","values","Array","showModal","showWeightModal","layout","run","stop","nodeStyle","edgeStyle","undo","redo","options","step","animationTimeout","handleUndo","animation","currentElements","pop","loadGraph","handleRedo","handleRewind","clearTimeout","Math","_this$buffer$_this$st","handleForward","_this$buffer$_this$st2","handleRepeat","_this$buffer$_this$st3","handleEnd","_this$buffer$_this$st4","handlePauseContinue","paused","Promise","resolve","then","clearGraph","pushState","removeNode","remove","removeNodePopper","removeEdge","executeAnimation","notification","graphProcessing","algoNames","runButton","createPopper","refreshLayout","reject","execute","autolock","removeButton","handleClickOnNode","prevNode","previous","directed","outgoers","contains","neighborhood","createEdge","handleClickOnEdge","edgeId","prevId","changeWeight","weightButton","handleClickViewport","event","_event$position","x","y","createNode","weighted","takeJson","initialize","photo","gif","rewind","forward","pause","repeat","end","clear","cookies","getAll","get","set","path","loadingGraph","cancelGif","removePoppers","_this3","withPoppers","container","selector","styleEnabled","hideEdgesOnViewport","hideLabelsOnViewport","userPanningEnabled","zoomingEnabled","textureOnViewport","motionBlur","motionBlurOpacity","pixelRatio","match","on","enabled","speed","makeLayout","_this4","add","withStyle","borderWidth","zIndex","lineColor","targetArrowShape","targetArrowColor","lineStyle","textRotation","textMarginY","_this5","_this5$buffer","setTimeout","_this6","floor","random","_this7","Components_UploadGraphModal","Components_InputModal","w","withCookies","InputHeapModal","validateArray","map","n","left","right","Infinity","validateHeap","changeArray","insert","heap","PriorityQueue","_comp","_eq","_data","isEmpty","classes","parent","_ref","l","_ref2","_ref3","_ref4","HeapProcessor","vw","vh","layoutProcessing","prev","addNode","concat","sep","getHeight","setSep","nx","ny","prevPosition","popper","prevPopPosition","lastDuration","val","src","layoutOptions","positions","padding","animate","animationDuration","Heap","showInsertModal","heapProcessor","output","parseHeap","autoungrabify","grabbable","pannable","_this7$buffer","_this8","_this9","_this10","Components_InputHeapModal","v","algorithmRoutes","NavLink","HashRouter","AlgoThumb","imgSrc","title","children","Home","md","Home_AlgoThumb","to","routes","ArrayPic","isLeaf","getChildren","lca","InputAVLModal","addEdge","recursion","correct","balance","sign","abs","validateAVL","_this$props2","search","avl","AVLProcessor","treeRoot","found","anc","pushStep","newChild","suc","inorderSuccessor","root","updateLayout","refresh","_getChildren","_getChildren2","slicedToArray","propagate","levels","dfs","depth","_getChildren3","_getChildren4","hleft","hright","bal","iter","j","b","_getChildren5","_getChildren6","dif","_getChildren7","_getChildren8","_getChildren9","_getChildren10","C","_getChildren11","_getChildren12","A","B","_getChildren13","_getChildren14","_getChildren15","_getChildren16","start","_getChildren17","_getChildren18","lh","rh","rotateRight","rotateLeft","newNode","insertion","_getChildren19","_getChildren20","bsearch","_getChildren21","_getChildren22","getNext","warnings","showSearchModal","showRemoveModal","update","parseAVL","keep","_this6$buffer","_this$AVLProcessor$se","Components_InputAVLModal","shift","param","level","q","front","next","class","visited","pq","dist","fill","_pq$top","top","nextId","prevDistance","pre","currentId","u","negativeCycle","part_of_tree","connectedEdges","t","nextStyle","DisjointSet","_parent","find","nodeX","nodeY","sorted","ds","connected","join","pseudocodes_list","singlySet","main","pushFront","pushBack","popFront","popBack","insertBefore","insertAfter","doublySet","queueSet","stackSet","properties","pseudoset","pseudocodes","bcolor","swap","InputArrayModal","currentValues","size","prevValues","toConsumableArray","valuesToGraph","Bubblesort","prevState","shape","_this4$buffer","Components_InputArrayModal","mergeSortAnimation","mid","mergeSort","h","nofocus","shadows","rshadows","cmd","p","slice","li","ri","shadow","addShadow","Mergesort","Sort","defaultStyle","lo","hi","showInputModal","BinarySearchAlgo","LinkedListSimulator","slow","newId","caseLines","ListProcessor","doubly","list","doublyLinked","_ele$data","splice","unshift","_ele$data2","_this2$list$_data","rest","apply","_ele$data3","_this2$list$_data2","_ele$data4","_ele$data5","push_front","push_back","pop_front","pop_back","where","insert_before","insert_after","delete_position","LinkedList","showDeleteModal","showPushBeforeModal","showPushBackModal","showPushFrontModal","showPushAfterModal","_this11","_this12","_this13","_this14","Route","Switch","Editor","Editor_HashRouter","key","names","render","Components_Graph","Components_Heap","Components_AVL","Components_BubbleSort","Components_MergeSort","Components_BinarySearch","Components_LinkedList","Components_Home","items","Sidebar_NavLink","Sidebar_HashRouter","OptionsMenu","op","links","option","xs","algoDict","interval","ControlButton","delay","onMouseDown","onMouseUp","showActions","control","index_es","icon","faStepBackward","Footer_ControlButton","faBackward","faPlay","faPause","faForward","faStepForward","faUndo","faRedo","faTimes","faTrash","Components_OptionsMenu","Components_SpeedBar","span","offset","faInfo","PhotoControl","handleClick","GIFControl","processing","timeEllapsed","ss","ms","disabled","gifLength","processingGif","MenuBar","searchAlgorithms","MenuBar_NavLink","mstAlgorithms","arrays","dataStructures","MenuBar_HashRouter","Components_PhotoControl","Components_GIFControl","example","FreeGraph","assertThisInitialized","FreeGraphModal","showTutorialModal","Components_FreeGraph","App","dist_default","Components_FreeGraphModal","Components_MenuBar","src_Editor","Components_Footer","Boolean","location","hostname","dijkstra","kruskal","bellmanFord","bubblesort","mergesort","prim","binarySearch","algorithmReducer","nextState","listPseudo","animationReducer","canvasReducer","selectionReducer","createNotification","message","store","addNotification","animationIn","animationOut","dismiss","onscreen","showIcon","notificationsReducer","SORTING_BINARY_SEARCH_INFO","initialState","reducer","finalState","createStore","ReactDOM","es","es6","src_App","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.4e3d33a2.chunk.js","sourcesContent":["export const NODE = {\r\n\t'background-color': 'white',\r\n\t'color': 'black',\r\n\t'border-style': 'solid',\r\n\t'font-size': '15',\r\n\t'width': '40',\r\n\t'height': '40',\r\n\t'border-width': '1',\r\n\t'border-opacity': '1',\r\n\t'border-color': 'black',\r\n\t'label': 'data(value)',\r\n\t'text-valign': 'center',\r\n\t'text-halign': 'center',\r\n\t'z-index': 3,\r\n};\r\n\r\nexport const NODE_GRAY = {\r\n\t'background-color': 'gray',\r\n\t'color': 'black',\r\n}\r\n\r\nexport const NODE_RED = {\r\n\t'background-color': 'red',\r\n\t'color': 'black',\r\n}\r\n\r\nexport const NODE_BLACK = {\r\n\t'background-color': 'black',\r\n\t'color': 'white',\r\n}\r\n\r\nexport const NODE_CORRECT = {\r\n\t'background-color': 'Chartreuse',\r\n\t'color': 'black',\r\n}\r\n\r\nexport const NODE_WRONG = {\r\n\t'background-color': '#FF9494',\r\n\t'color': 'black',\r\n}\r\n\r\nexport const NODE_SELECTED = {\r\n\t'background-color': '#2B3B6B',\r\n\t'color': 'white',\r\n}\r\n\r\nexport const EDGE = {\r\n  'width': 2,\r\n  'line-color': '#ccc',\r\n\t'curve-style': 'bezier',\r\n\t'line-style': 'solid',\r\n}\r\n\r\nexport const EDGE_VISITED = {\r\n\t'line-color': '#2B3B6B',\r\n\t'target-arrow-color': '#2B3B6B',\r\n}\r\n\r\nexport const EDGE_TRAVERSE = {\r\n\t'line-color': 'green',\r\n\t'target-arrow-color': 'green',\r\n}\r\n\r\nexport const EDGE_NO_MST = {\r\n\t'line-style': 'dashed', \r\n\t'line-color': '#eee'\r\n}\r\n\r\nexport const EDGE_MST = {\r\n\t'line-style': 'solid', \r\n\t'line-color': 'black'\r\n}\r\n\r\nexport const EDGE_DIRECTED = {\r\n\t'target-arrow-color': '#ccc',\r\n\t'line-color': '#ccc',\r\n  'target-arrow-shape': 'triangle',\r\n}\r\n\r\nexport const EDGE_DOUBLE = {\r\n\t'source-arrow-color': '#ccc',\r\n\t'source-arrow-shape': 'triangle',\r\n}\r\n\r\nexport const EDGE_WEIGHTED = {\r\n\t'label': 'data(weight)',\r\n\t'text-margin-y': '-10.0',\r\n\t'text-rotation': 'autorotate',\r\n}\r\nexport const EDGE_SELECTED = {\r\n  'line-color': 'black',\r\n  'target-arrow-color': 'black',\r\n}\r\n\r\nexport const LINE_STD = {\r\n\t//'background-color': '#1E1E1E',\r\n\t'color': '#CECFE6',\r\n}\r\n\r\nexport const LINE_FOCUS = {\r\n\t'background-color': '#4C5090',\r\n\t'color': '#CECFE6',\r\n}\r\n\r\nexport const NODE_POPPER = {\r\n\t'z-index': 0,\r\n\t'border-width': 0,\r\n\t'font-size': 15,\r\n\t'width': 10,\r\n\t'height': 10,\r\n\t'visibility': 'visible',\r\n}","import React, { ReactElement } from 'react';\r\nimport { LINE_FOCUS, LINE_STD } from '../Styles/Styles';\r\nconst { connect } = require('react-redux');\r\n\r\ntype Props = {\r\n  code: Array<{text: string, ind: number}> | null,\r\n  lines: Array<number>,\r\n  show: boolean,\r\n}\r\n\r\ntype State = {\r\n  pseudo: Array<{text: string, ind: number}> | null,\r\n  lines: Array<number>,\r\n  showPseudo: boolean,\r\n}\r\nconst mapStateToProps = (state: State) => {\r\n  return {\r\n    code: state.pseudo,\r\n    lines: state.lines,\r\n    show: state.showPseudo,\r\n  }\r\n}\r\nconst CodeLine = (props:{line:{text:string, ind: number}, current: boolean, index: number}) => {\r\n  const {line, current, index} = props;\r\n  const focus = current ? LINE_FOCUS : LINE_STD;\r\n  return (\r\n    <div style={{...focus, paddingRight: '10px'}}>\r\n      <div className='codeline'>\r\n        {(index<10?'\\u00A0': '')+index}.\r\n        <span style={{paddingLeft: (line.ind *15).toString() + 'px'}}>{line.text}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nclass CodeBlock extends React.Component<Props>{\r\n  render(){\r\n    if(this.props.code && this.props.show){\r\n      const {code, lines} = this.props;\r\n      let codelines = [];\r\n      if(code){\r\n        for(let i = 0; i < code.length; i++){\r\n          codelines.push(<CodeLine index={i+1} line = {code[i]} current = {lines && lines.includes(i)}/>);\r\n        }\r\n      }\r\n      return (\r\n        <div className='codeblock'>\r\n          {codelines}\r\n        </div>\r\n      );\r\n    }else return <></>\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(CodeBlock);","import React from 'react';\r\nimport { Row, Col, Container } from 'react-bootstrap';\r\nimport CodeBlock from './CodeBlock';\r\nimport BFS from '../resources/pseudocodes/BFS';\r\n\r\n\r\nconst {connect} = require('react-redux');\r\n\r\nconst mapStateToProps = (state: any) => {\r\n  return {\r\n    algorithm: state.algorithm,\r\n  }\r\n}\r\n\r\nclass AlgorithmInfo extends React.Component<any>{\r\n  render() {\r\n    return (\r\n      <Container style={{height: '100%', backgroundColor:'#ccc'}}>\r\n        <Row style={{height: '40%'}}>\r\n          <Col>\r\n            <div className=\"algorithm-description\">\r\n              <div className=\"header\">\r\n                <h4>\r\n                  {this.props.algorithm != null ? this.props.algorithm : 'Nombre del algoritmo'}\r\n                </h4>\r\n              </div>\r\n              <div className=\"content\">\r\n                Descripcion del algoritmo\r\n              </div>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n        <Row style={{height: '50%'}}>\r\n          <Col>\r\n            <div className=\"algorithm-description\" >\r\n              <div className=\"header\">\r\n                <h4>Pseudocodigo</h4>\r\n              </div>\r\n              <div className=\"content\">\r\n                <CodeBlock/>\r\n              </div>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(AlgorithmInfo);","const actions = {\r\n\r\n    INITIAL: 'INITIAL',\r\n    HOME: 'HOME',\r\n    TOGGLE_TUTORIAL_MODAL: 'TOGGLE_TUTORIAL_MODAL',\r\n    \r\n    SELECT_BFS: 'SELECT_BFS',\r\n    SELECT_DFS: 'SELECT_DFS',\r\n    SELECT_BELLMAN_FORD: 'SELECT_BELLMAN_FORD',\r\n    SELECT_DIJKSTRA: 'SELECT_DIJKSTRA',\r\n    SELECT_KRUSKAL: 'SELECT_KRUSKAL',\r\n    SELECT_PRIM: 'SELECT_PRIM',\r\n    SELECT_HEAP: 'SELECT_HEAP',\r\n    SELECT_AVL: 'SELECT_AVL',\r\n    SELECT_BUBBLESORT: 'SELECT_BUBBLESORT',\r\n    SELECT_MERGESORT: 'SELECT_MERGESORT',\r\n    SELECT_BINARY_SEARCH: 'SELECT_BINARY_SEARCH',\r\n    SELECT_LINKED_LIST: 'SELECT_LINKED_LIST',\r\n    SELECT_SINGLE_LINKED_LIST: 'SELECT_SINGLE_LINKED_LIST',\r\n    SELECT_DOUBLE_LINKED_LIST: 'SELECT_DOUBLE_LINKED_LIST',\r\n    SELECT_QUEUE: 'SELECT_QUEUE',\r\n    SELECT_STACK: 'SELECT_STACK',\r\n\r\n    SELECTION: 'SELECTION',\r\n    NO_SELECTION: 'NO_SELECTION',\r\n    ANIMATION_START: 'ANIMATION_START',\r\n    ANIMATION_PAUSE: 'ANIMATION_PAUSE',\r\n    ANIMATION_CONTINUE: 'ANIMATION_CONTINUE',\r\n    ANIMATION_END: 'ANIMATION_END',\r\n    CLEAR_GRAPH: 'CLEAR_GRAPH',\r\n    \r\n    CHANGE_PSEUDO: 'CHANGE_PSEUDO',\r\n    TOGGLE_PSEUDO: 'TOGGLE_PSEUDO',\r\n    SHOW_PSEUDO: 'SHOW_PSEUDO',\r\n    CLOSE_PSEUDO: 'CLOSE_PSEUDO',\r\n    INC_SPEED: 'INC_SPEED',\r\n    DEC_SPEED: 'DEC_SPEED',\r\n    CHANGE_SPEED: 'CHANGE_SPEED',\r\n    CHANGE_OPTIONS: 'CHANGE_OPTIONS',\r\n    CHANGE_LINE: 'CHANGE_LINE',\r\n\r\n    LOAD_GRAPH: 'LOAD_GRAPH',\r\n    FINISHED_LOAD: 'FINISHED_LOAD',\r\n    INC_GIF_LENGTH: 'INC_GIF_LENGTH',\r\n    RESET_GIF_LENGTH: 'RESET_GIF_LENGTH',\r\n    START_GIF_ENCODING: 'START_GIF_ENCODING',\r\n    FINISHED_GIF_ENCODING: 'FINISHED_GIF_ENCODING',\r\n\r\n    NO_NODE_SELECTED_ERROR: 'NO_NODE_SELECTED_ERROR',\r\n    NO_EDGE_SELECTED_ERROR: 'NO_EDGE_SELECTED_ERROR',\r\n    NO_ELEMENT_SELECTED_ERROR: 'NO_ELEMENT_SELECTED_ERROR',\r\n    INVALID_INTEGER_ERROR: 'INVALID_INTEGER_ERROR',\r\n    INVALID_ARRAY_ERROR: 'INVALID_ARRAY_ERROR',\r\n    INVALID_GRAPH_ERROR: 'INVALID_GRAPH_ERROR',\r\n    INVALID_HEAP_ERROR: 'INVALID_HEAP_ERROR',\r\n    INVALID_AVL_ERROR: 'INVALID_AVL_ERROR',\r\n    ANIMATION_RUNNING_ERROR: 'ANIMATION_RUNNING_ERROR',\r\n    GIF_ENCODING_ERROR: 'GIF_ENCODING_ERROR',\r\n\r\n    EMPTY_LIST_WARNING: 'EMPTY_LIST_WARNING',\r\n    EMPTY_QUEUE_WARNING: 'EMPTY_QUEUE_WARNING',\r\n    EMPTY_STACK_WARNING: 'EMPTY_STACK_WARNING',\r\n    EMPTY_HEAP_WARNING: 'EMPTY_HEAP_WARNING',\r\n    DIJKSTRA_NEGATIVE_WEIGHT_WARNING: 'DIJKSTRA_NEGATIVE_WEIGHT_WARNING',\r\n    NEGATIVE_CYCLE_FOUND: 'NEGATIVE_CYCLE_FOUND',\r\n\r\n    AVL_NOT_FOUND_INFO: 'AVL_NOT_FOUND_INFO',\r\n    AVL_ELEMENT_ALREADY_INFO: 'AVL_ELEMENT_ALREADY_INFO',\r\n    STARTING_BFS_INFO: 'STARTING_BFS_INFO',\r\n    STARTING_DFS_INFO: 'STARTING_DFS_INFO',\r\n    STARTING_DIJKSTRA_INFO: 'STARTING_DIJKSTRA_INFO',\r\n    STARTING_BELLMAN_FORD_INFO: 'STARTING_BELLMAN_FORD_INFO',\r\n    STARTING_KRUSKAL_INFO: 'STARTING_KRUSKAL_INFO',\r\n    STARTING_PRIM_INFO: 'STARTING_PRIM_INFO',\r\n    STARTING_BUBBLESORT_INFO: 'STARTING_BUBBLESORT_INFO',\r\n    STARTING_MERGESORT_INFO: 'STARTING_MERGESORT_INFO',\r\n    STARTING_BINARYSEARCH_INFO: 'STARTING_BINARYSEARCH_INFO',\r\n    STARTING_GIF_RECORDING_INFO: 'STARTING_GIF_RECORDING_INFO',\r\n    FINISHED_GIF_RECORDING_INFO: 'FINISHED_GIF_RECORDING_INFO',\r\n    STARTING_BINARY_SEARCH_INFO: 'STARTING_BINARY_SEARCH_INFO',\r\n    BINARY_SEARCH_NOT_FOUND_INFO: 'BINARY_SEARCH_NOT_FOUND_INFO',\r\n    NO_FILE_SELECTED_INFO: 'NO_FILE_SELECTED_INFO',\r\n\r\n    FINISHED_GIF_SUCCESS: 'FINISHED_GIF_SUCCESS',\r\n    LOAD_GRAPH_SUCCESS: 'LOAD_GRAPH_SUCCESS',\r\n    PHOTO_SUCCESS: 'PHOTO_SUCCESS',\r\n    FINISHED_ALGORITHM_SUCCESS: 'FINISHED_ALGORITHM_SUCCESS',\r\n    AVL_FOUND_SUCCESS: 'AVL_FOUND_SUCCESS',\r\n    ARRAY_SORTED_SUCCESS: 'ARRAY_SORTED_SUCCESS',\r\n    BINARY_SEARCH_FOUND_SUCCESS: 'BINARY_SEARCH_FOUND_SUCCESS',\r\n    \r\n}\r\nexport default actions;","/*\r\nThe MIT License (MIT)\r\nCopyright (c) 2016 David Gomez-Urquiza\r\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\r\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n*/\r\n\r\nfunction dataURItoBlob(dataURI) {\r\n  // convert base64 to raw binary data held in a string\r\n  var byteString = atob(dataURI.split(',')[1]);\r\n\r\n  // separate out the mime component\r\n  var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];\r\n\r\n  // write the bytes of the string to an ArrayBuffer\r\n  var arrayBuffer = new ArrayBuffer(byteString.length);\r\n  var _ia = new Uint8Array(arrayBuffer);\r\n  for (var i = 0; i < byteString.length; i++) {\r\n      _ia[i] = byteString.charCodeAt(i);\r\n  }\r\n\r\n  var dataView = new DataView(arrayBuffer);\r\n  var blob = new Blob([dataView], { type: mimeString });\r\n  return blob;\r\n}\r\n\r\nexport default dataURItoBlob;","import dataURItoBlob from './dataURItoBlob';\r\nimport actions from '../Actions/actions';\r\nconst gifshot = require('gifshot');\r\nclass MediaRecorder{\r\n\r\n  _gifBuffer = [];\r\n  _takingGif = false;\r\n  _interval = 0;\r\n  _dispatch = null;\r\n  \r\n  constructor(dispatch = (_action) => {}){\r\n    this._dispatch = dispatch;\r\n  }\r\n\r\n  downloadGif = (buffer, width, height) => {\r\n    const dispatch = this._dispatch;\r\n    try{\r\n      gifshot.createGIF({\r\n        'images': buffer,\r\n        'gifWidth': width,\r\n        'gifHeight': height,\r\n        'frameDuration': 1,\r\n        }, function(obj) {\r\n          if(!obj.error) {\r\n            const image = dataURItoBlob(obj.image);\r\n      \r\n            let link = document.createElement('a');\r\n            link.setAttribute('href', window.URL.createObjectURL(image));\r\n            link.setAttribute('download', 'test.gif');\r\n            link.setAttribute('target', '_blank');\r\n            link.style.display = 'none';\r\n            document.body.appendChild(link);\r\n            link.click();\r\n            document.body.removeChild(link);\r\n            dispatch({\r\n              type: actions.FINISHED_GIF_SUCCESS,\r\n            });\r\n            dispatch({\r\n              type: actions.FINISHED_GIF_ENCODING,\r\n            });\r\n          }else{\r\n            dispatch({\r\n              type: actions.FINISHED_GIF_SUCCESS,\r\n            });\r\n            \r\n            console.log(obj.error);\r\n          }\r\n        }\r\n      );\r\n    }catch(error){\r\n      console.log(error);\r\n      dispatch({\r\n        type: actions.FINISHED_GIF_ENCODING,\r\n      });\r\n      dispatch({\r\n        type: actions.GIF_ENCODING_ERROR,\r\n      });\r\n    }\r\n  }\r\n  takePicture(cy, _this = null, download = true){\r\n    let image = cy.jpg();\r\n    if(download){\r\n      let link = document.createElement('a');\r\n      link.setAttribute('href', image);\r\n      link.setAttribute('download', 'test.jpg');\r\n      link.setAttribute('target', '_blank');\r\n      link.style.display = 'none';\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n    }else if(_this._gifBuffer.length < 300){\r\n      _this._gifBuffer.push(image);\r\n      _this._dispatch({\r\n        type: actions.INC_GIF_LENGTH,\r\n      });\r\n    }else{\r\n      _this.takeGif(cy);\r\n    }\r\n  }\r\n\r\n  cancelGif(){\r\n    this._takingGif = false;\r\n    this._dispatch({type: actions.RESET_GIF_LENGTH});\r\n    clearInterval(this._interval);\r\n  }\r\n\r\n  takeGif(cy){\r\n    if(!this._takingGif){\r\n      this._takingGif = true;\r\n      this._dispatch({type: actions.STARTING_GIF_RECORDING_INFO});\r\n      this._interval = setInterval(this.takePicture, 300, cy, this, false);\r\n    }else{\r\n      clearInterval(this._interval);\r\n      this._dispatch({type: actions.FINISHED_GIF_RECORDING_INFO});\r\n      this._dispatch({type: actions.RESET_GIF_LENGTH});\r\n      this._dispatch({type: actions.START_GIF_ENCODING});\r\n      this.downloadGif(this._gifBuffer, cy.width(), cy.height());\r\n      this._takingGif = false;\r\n      this._gifBuffer = [];\r\n    }\r\n  }\r\n\r\n  takeJson(elements){\r\n   \r\n    const graph = JSON.stringify(elements); \r\n    let link = document.createElement('a');\r\n    link.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(graph));\r\n    link.setAttribute('download', 'graph.json');\r\n    link.setAttribute('target', '_blank');\r\n    link.style.display = 'none';\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n  }\r\n\r\n  readJson(){\r\n    /*\r\n    const graph = prompt(\"Insertar grafo en formato JSON\");\r\n    if(graph){\r\n      console.log(JSON.parse(graph));\r\n      cy.json(JSON.parse(graph));\r\n    }\r\n    */\r\n   let input = document.createElement('input');\r\n   input.setAttribute('type', 'file');\r\n   input.setAttribute('id','myFile');\r\n   input.setAttribute('style', 'position: absolute');\r\n   document.body.appendChild(input);\r\n   input.click();\r\n   console.log(input.value);\r\n  }\r\n\r\n  \r\n}\r\n\r\nexport default MediaRecorder;","import React from 'react';\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport { Button } from 'react-bootstrap';\r\nimport actions from '../Actions/actions';\r\n\r\nconst { connect } = require('react-redux');\r\ntype Props = {\r\n  show: boolean,\r\n  handleClose: () => void,\r\n  dispatch: (action: Object) => Object,\r\n}\r\n\r\nclass UploadGraphModal extends React.Component<Props>{\r\n\r\n  uploadGraph = () => {\r\n    const input = (document.getElementById('graphUploadInput') as HTMLInputElement);\r\n    if(input.files && input.files.length > 0){\r\n      const file = input.files[0];\r\n      const reader = new FileReader();\r\n      reader.onload = () => {\r\n        const content = reader.result;\r\n        if(typeof content === 'string'){\r\n          try{\r\n            JSON.parse(content);\r\n            this.props.dispatch({\r\n              type: actions.LOAD_GRAPH,\r\n              payload: {\r\n                data: content,\r\n              }\r\n            });\r\n          }catch(e){\r\n            this.props.dispatch({type: actions.INVALID_GRAPH_ERROR});\r\n          }\r\n        }\r\n      }\r\n      reader.readAsText(file);\r\n      this.props.handleClose();\r\n    }else{\r\n      this.props.dispatch({\r\n        type: actions.NO_FILE_SELECTED_INFO,\r\n      });\r\n    }\r\n  }\r\n  render(){\r\n    const {show, handleClose} = this.props;\r\n    return (\r\n      <>\r\n        <Modal show={show} onHide={handleClose}>\r\n          <Modal.Header className='modal-header' closeButton>\r\n            <Modal.Title>Seleccione un archivo</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <p>El archivo debe contener un grafo valido, previamente descargado </p>\r\n            <input type=\"file\" id=\"graphUploadInput\"/>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={handleClose}>\r\n              Cancelar\r\n            </Button>\r\n            <Button variant=\"primary\" onClick={() => this.uploadGraph()}>\r\n              Subir grafo\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect()(UploadGraphModal);","import React, { ReactElement } from 'react';\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport { Button, FormControl } from 'react-bootstrap';\r\nimport actions from '../Actions/actions';\r\n\r\nconst { connect } = require('react-redux');\r\n//5(3(1(.)(.))(4(.)(.)))(9(7(6(.)(.))(8(.)(.)))(15(11(.)(.))(.)))\r\ntype Props = {\r\n  show: boolean,\r\n  handleClose: () => void,\r\n  callback: (value: number) => void,\r\n  currentValue: number,\r\n  dispatch: (action:Object) => void,\r\n}\r\n\r\ntype storeState = {\r\n  selection: {weight: number},\r\n}\r\n\r\ntype State = {\r\n  text: string,\r\n}\r\n\r\nconst mapStateToProps = (state:storeState) => {\r\n  return {\r\n    currentValue: (state.selection ? state.selection.weight : 0),\r\n  }\r\n}\r\nclass InputModal extends React.Component<Props, State>{\r\n  input:HTMLInputElement | null;\r\n  setStepInputRef:(element:HTMLInputElement)=>void;\r\n\r\n  constructor(props:Props){\r\n    super(props);\r\n    this.input = null;\r\n    this.state = {\r\n      text: this.props.currentValue.toString(),\r\n    }\r\n    this.setStepInputRef = element => {\r\n      this.input = element;\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(prevProps:Props){\r\n    const {currentValue} = this.props;\r\n    if(currentValue != null && currentValue != prevProps.currentValue){\r\n      this.setState({\r\n        text: this.props.currentValue.toString(),\r\n      })\r\n    }\r\n  }\r\n\r\n  validateNumber(text: string) {\r\n    let regex = /^([-]?([0-9]{1,3}))$/;\r\n    if (text && regex.test(text)) {\r\n      return true;\r\n    } else {\r\n      this.props.dispatch({\r\n        type: actions.INVALID_INTEGER_ERROR,\r\n      })\r\n      return false;\r\n    }\r\n  }\r\n\r\n  handleAccept = () => {\r\n    if(this.input && this.validateNumber(this.input.value)){\r\n      const text = this.input.value;\r\n      const value = parseInt(text);\r\n      this.props.callback(value);\r\n      this.props.handleClose();\r\n    }\r\n  }\r\n\r\n  handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    this.setState({text: e.currentTarget.value});\r\n  }\r\n\r\n  handleCancel = () => {\r\n    if(this.props.currentValue) this.setState({text: this.props.currentValue.toString()});\r\n    this.props.handleClose();\r\n  }\r\n  render(){\r\n    const {show, handleClose} = this.props;\r\n    return (\r\n      <Modal show={show} onHide={handleClose}>\r\n        <Modal.Header className='modal-header' closeButton>\r\n          <Modal.Title>Introduzca un numero entero</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <p>El numero debe estar entre -999 y 999</p>\r\n          <input \r\n            id=\"IntInput\"\r\n            type=\"number\" \r\n            min={-999}\r\n            max={999}\r\n            ref={this.setStepInputRef} \r\n            value={this.state.text}\r\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) => this.handleChange(e)}\r\n          />\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={this.handleCancel}>\r\n            Cancelar\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={this.handleAccept}>\r\n            Aceptar\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(InputModal);","import actions from '../Actions/actions';\r\nimport { CytoscapeElement, CytoEvent, AnimationStep } from '../Types/types';\r\nconst Styles = require('../Styles/Styles');\r\nconst cytoscape = require('cytoscape');\r\nconst { connect } = require('react-redux');\r\n\r\nconst exportGraph = (cy: any) => {\r\n  const elements:Array<Object> = [];\r\n  cy.nodes().forEach((node:CytoscapeElement) => {\r\n    elements.push({\r\n      group: 'nodes',\r\n      data: {\r\n        id: node.id(),\r\n        value: node.data('value'),\r\n        style: node.data('style'),\r\n        position: node.data('position'),\r\n      },\r\n      position: node.data('position'),\r\n    })\r\n  });\r\n  cy.edges().forEach((edge:CytoscapeElement) => {\r\n    elements.push({\r\n      group: 'edges',\r\n      data: {\r\n        id: edge.id(),\r\n        source: edge.source().id(), target: edge.target().id(),\r\n        weight: edge.data('weight'),\r\n        style: edge.data('style'),\r\n        /*\r\n        style: {\r\n          lineColor: edge.style('line-color'),\r\n          targetArrowShape: edge.style('target-arrow-shape'),\r\n          targetArrowColor: edge.style('target-arrow-color'),\r\n          lineStyle: edge.style('line-style'),\r\n        }\r\n        */\r\n      }\r\n    })\r\n  });\r\n  //console.log(elements);\r\n  return JSON.parse(JSON.stringify(elements));\r\n}\r\n\r\n\r\nconst processCommands = (elements: Array<Object>, commands:Array<AnimationStep>) => {\r\n  \r\n  const cy = cytoscape({\r\n    elements: JSON.parse(JSON.stringify(elements)),\r\n    headless: true,\r\n  });\r\n\r\n  const steps:Array<{elements:Array<Object>, lines: Array<number>, duration: number, action?: string}>=[];\r\n\r\n  let lastLines:Array<number> = [];\r\n  let action:string|undefined;\r\n  for(let pos = 0; pos < commands.length; pos++){\r\n    let { eles, distance, style, duration, inst, lines, data } = commands[pos];\r\n\r\n    if(duration == null) duration = 1000;\r\n    if(lines == null) lines = lastLines;\r\n\r\n    steps.push({elements: exportGraph(cy), lines: lastLines, duration});\r\n    lastLines = lines;\r\n    if (eles) {\r\n      eles.forEach((ele, index) => {\r\n        let prevStyle = cy.getElementById(ele).data('style');\r\n        if(style) cy.getElementById(ele).data('style', {...prevStyle, ...style[index]});\r\n        if(data) cy.getElementById(ele).data('value', data[index].value);\r\n        if (distance !== undefined){\r\n          cy.getElementById(ele+'-popper').data('style', Styles.NODE_POPPER);\r\n          cy.getElementById(ele+'-popper').data('value', distance[index]);\r\n        }\r\n      });\r\n    }\r\n\r\n    if(inst){\r\n      console.log(inst);\r\n      inst.forEach(ele => {\r\n        if(ele.name === 'update_level'){\r\n          const {data} = ele;\r\n          if(data){\r\n            const id = data.id, value = data.value;\r\n            if(id != null && value != null){\r\n              cy.getElementById(id+'-popper').data('style', Styles.NODE_POPPER);\r\n              cy.getElementById(id+'-popper').data('value', value);\r\n            }\r\n          }\r\n        }else if(ele.name === 'negative_cycle'){\r\n          action = actions.NEGATIVE_CYCLE_FOUND;\r\n        }\r\n      });\r\n    }\r\n  }\r\n  steps.push({elements: exportGraph(cy), lines: lastLines, duration: 0, action});\r\n\r\n  return steps;\r\n}\r\n\r\nexport default processCommands;","const algorithmNames = {\r\n  BFS: 'BFS',\r\n  DFS: 'DFS',\r\n  Dijkstra: 'Dijkstra',\r\n  BellmanFord: 'BellmanFord',\r\n  Kruskal: 'Kruskal',\r\n  Prim: 'Prim',\r\n  MinHeap: 'MinHeap',\r\n  AVL: 'AVL',\r\n  BubbleSort: 'BubbleSort',\r\n  MergeSort: 'MergeSort',\r\n  BinarySearch: 'BusquedaBinaria',\r\n  SingleLinkedList: 'ListaEnlazada',\r\n  DoubleLinkedList: 'ListaDoblementeEnlazada',\r\n  Queue: 'Cola',\r\n  Stack: 'Pila',\r\n};\r\n\r\nexport default algorithmNames;","import React from 'react';\r\nimport actions from '../Actions/actions';\r\nimport { CytoscapeElement, CytoEvent, AnimationStep } from '../Types/types';\r\nimport MediaRecorder from '../utils/MediaRecorder';\r\nimport MyModal from './UploadGraphModal';\r\nimport InputModal from './InputModal';\r\nimport graphProcessing from '../Processing/graph-processing';\r\nimport algoNames from '../resources/names_and_routes/algorithm_names'\r\nimport { instanceOf } from 'prop-types';\r\nimport { withCookies, Cookies } from 'react-cookie';\r\n\r\nconst Styles = require('../Styles/Styles');\r\nconst cytoscape = require('cytoscape');\r\nconst { connect } = require('react-redux');\r\n\r\n\r\nconst autopanOnDrag = require('cytoscape-autopan-on-drag');\r\nautopanOnDrag(cytoscape);\r\n\r\ntype Props = {\r\n\t\r\n\tdispatch: (action: Object) => Object,\r\n\r\n\tweighted: Boolean,\r\n\tdirected: Boolean,\r\n\r\n\taction: string,\r\n\talgorithm: string,\r\n\texecute: (param: Object) => Array<AnimationStep>,\r\n\r\n\tanimation: Boolean,\r\n\tselection: {\r\n\t\ttype: string,\r\n\t\tid: string,\r\n\t\tweight: string,\r\n\t}\r\n\tspeed: number,\r\n\r\n\tloadingGraph: Boolean,\r\n\tdata: string,\r\n\tpaused: boolean,\r\n\r\n\tcookies: any,\r\n}\r\n\r\ntype Element = {\r\n\tvalue: number,\r\n\tclass: string,\r\n}\r\n\r\ntype storeState = {\r\n\tselection: Object,\r\n\talgorithm: string,\r\n\tanimation: Boolean,\r\n\tspeed: number,\r\n\tloadingGraph: Boolean,\r\n\tdata: string,\r\n\tpaused: boolean,\r\n}\r\n\r\ntype State = {\r\n\tvalues: Array<string>,\r\n\tshowModal: boolean,\r\n\tshowWeightModal: boolean,\r\n}\r\n\r\nconst getNodeIdString = (nodeId: string) => {\r\n\treturn 'node-' + nodeId;\r\n}\r\n\r\nconst mapStateToProps = (state: storeState) => {\r\n\treturn {\r\n\t\tselection: state.selection,\r\n\t\talgorithm: state.algorithm,\r\n\t\tanimation: state.animation,\r\n\t\tspeed: state.speed,\r\n\t\tloadingGraph: state.loadingGraph,\r\n\t\tdata: state.data,\r\n\t\tpaused: state.paused,\r\n\t}\r\n}\r\n\r\nclass Graph extends React.Component<Props, State>{\r\n\r\n\t_isMounted = false;\r\n\r\n\t_mediaRecorder = new MediaRecorder();\r\n\r\n\tstate = {\r\n\t\tvalues: new Array(),\r\n\t\tshowModal: false,\r\n\t\tshowWeightModal: false,\r\n\t}\r\n\r\n\tlayout = {\r\n\t\trun: () => { },\r\n\t\tstop: () => { },\r\n\t};\r\n\r\n\tnodeStyle = Styles.NODE;\r\n\tedgeStyle = Styles.EDGE;\r\n\r\n\tundo: Array<Array<Object>> = [];\r\n\tredo: Array<Array<Object>> = [];\r\n\t\r\n\toptions: Array<{name: string, run: () => void}>;\r\n\tcy = cytoscape();\r\n\r\n\tbuffer: Array<{elements: Array<Object>, lines: Array<number>, duration: number, action?:string}> = [];\r\n\r\n\tstep:number=0;\r\n\tanimationTimeout = 0;\r\n\tconstructor(props: Props) {\r\n\t\tsuper(props);\r\n\t\tif (this.props.weighted) {\r\n\t\t\tthis.edgeStyle = { ...this.edgeStyle, ...Styles.EDGE_WEIGHTED };\r\n\t\t}\r\n\t\tif (this.props.directed) {\r\n\t\t\tthis.edgeStyle = { ...this.edgeStyle, ...Styles.EDGE_DIRECTED };\r\n\t\t}\r\n\r\n\t\tthis._mediaRecorder = new MediaRecorder(props.dispatch);\r\n\t\tthis.options = [\r\n\t\t\t{\r\n\t\t\t\tname: 'Ejecutar',\r\n\t\t\t\trun: this.runButton,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Cambiar peso',\r\n\t\t\t\trun: this.weightButton,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Descargar grafo',\r\n\t\t\t\trun: () => this._mediaRecorder.takeJson(this.exportGraph()),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Subir grafo',\r\n\t\t\t\trun: () => this.setState({showModal: true}),\r\n\t\t\t}\r\n\t\t];\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis._isMounted = true;\r\n\t\tthis.initialize([]);\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: this.props.action,\r\n\t\t\tpayload:{\r\n\t\t\t\trun: this.runButton,\r\n\t\t\t\tphoto: () => this._mediaRecorder.takePicture(this.cy),\r\n\t\t\t\tgif: () => this._mediaRecorder.takeGif(this.cy),\r\n\t\t\t\tundo: this.handleUndo,\r\n\t\t\t\tredo: this.handleRedo,\r\n\t\t\t\toptions: this.options,\r\n\t\t\t\trewind: this.handleRewind,\r\n\t\t\t\tforward: this.handleForward,\r\n\t\t\t\tpause: this.handlePauseContinue,\r\n\t\t\t\trepeat: this.handleRepeat,\r\n\t\t\t\tend: this.handleEnd,\r\n\t\t\t\tremove: this.removeButton,\r\n\t\t\t\tclear: this.clearGraph,\r\n\t\t\t}\r\n\t\t});\r\n\t\tconst {cookies} = this.props;\r\n\t\tconsole.log(cookies.getAll());\r\n\t\tif(this.props.action === actions.SELECT_DIJKSTRA){\r\n\t\t\tif(!cookies.get('dijkstra_warning')){\r\n\t\t\t\tcookies.set('dijkstra_warning', 'true', {path: '/'});\t\t\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.DIJKSTRA_NEGATIVE_WEIGHT_WARNING,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(!cookies.get('visited')){\r\n\t\t\tcookies.set('visited', 'true', {path: '/' });\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.TOGGLE_TUTORIAL_MODAL,\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps:Props){\r\n\t\tif(!prevProps.loadingGraph && this.props.loadingGraph){\r\n\t\t\tconst elements = JSON.parse(this.props.data);\r\n\t\t\tif(elements){\r\n\t\t\t\tthis.pushState();\r\n\t\t\t\tthis.loadGraph(elements);\r\n\t\t\t}\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.FINISHED_LOAD,\r\n\t\t\t});\r\n\t\t}\r\n\t\tif(!prevProps.animation && this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.CHANGE_OPTIONS,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\toptions: [\r\n\t\t\t\t\t\t{ name: 'Volver a edicion', run: this.runButton}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}else if(prevProps.animation && !this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.CHANGE_OPTIONS,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\toptions: this.options,\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentWillUnmount() {\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.ANIMATION_END,\r\n\t\t});\r\n\t\t\r\n\t\tthis._isMounted = false;\r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis._mediaRecorder.cancelGif();\r\n\t\tthis.removePoppers();\r\n\t}\r\n\r\n\r\n\tinitialize(elements: Array<Object>, withPoppers:boolean=false){\r\n\t\tconsole.log(elements);\r\n\t\t\r\n\t\tlet edgeStyle = Styles.EDGE;\r\n\t\tif (this.props.weighted) {\r\n\t\t\tedgeStyle = { ...edgeStyle, ...Styles.EDGE_WEIGHTED };\r\n\t\t}\r\n\t\tif (this.props.directed) {\r\n\t\t\tedgeStyle = { ...edgeStyle, ...Styles.EDGE_DIRECTED };\r\n\t\t}\r\n\r\n\t\tthis.cy = cytoscape({\r\n\r\n\t\t\tcontainer: document.getElementById('canvas'), // container to render in\r\n\r\n\t\t\telements: JSON.parse(JSON.stringify(elements)),\r\n\r\n\t\t\tstyle: [ // the stylesheet for the graph\r\n\t\t\t\t{\r\n\t\t\t\t\tselector: 'node',\r\n\t\t\t\t\tstyle: Styles.NODE,\r\n\t\t\t\t},\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\tselector: 'edge',\r\n\t\t\t\t\tstyle: edgeStyle,\r\n\t\t\t\t}\r\n\t\t\t],\r\n\r\n\t\t\tlayout: {\r\n\t\t\t\tname: 'preset',\r\n\t\t\t},\r\n\t\t\theadless: false,\r\n\t\t\tstyleEnabled: true,\r\n\t\t\thideEdgesOnViewport: false,\r\n\t\t\thideLabelsOnViewport: false,\r\n\t\t\tuserPanningEnabled: false,\r\n\t\t\tzoomingEnabled: false,\r\n\t\t\ttextureOnViewport: false,\r\n\t\t\tmotionBlur: false,\r\n\t\t\tmotionBlurOpacity: 0.2,\r\n\t\t\tpixelRatio: '1.0'\r\n\t\t});\r\n\t\tif(!withPoppers) this.removePoppers();\r\n\t\telse{\r\n\t\t\tthis.cy.nodes().forEach((node:CytoscapeElement) => {\r\n\t\t\t\tif(node.id().match('popper')) node.style({'visibility': 'hidden'});\r\n\t\t\t});\r\n\t\t}\r\n\t\tthis.cy.on('click', (event: CytoEvent) => this.handleClickViewport(event));\r\n\t\tthis.cy.on('click', 'node', (event: CytoEvent) => this.handleClickOnNode(event.target));\r\n\t\tthis.cy.on('click', 'edge', (event: CytoEvent) => this.handleClickOnEdge(event.target));\r\n\t\tthis.cy.autopanOnDrag({ enabled: true, speed: 0.01 });\r\n\t\tthis.layout = this.cy.elements().makeLayout({\r\n\t\t\tname: 'preset',\r\n\t\t});\r\n\t\tthis.layout.run();\r\n\t}\r\n\r\n\thandleUndo = () => {\r\n\t\tconsole.log(this.undo);\r\n\t\tif(this.undo.length === 0){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif(this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.NO_SELECTION,\r\n\t\t});\r\n\r\n\t\tconst currentElements = this.exportGraph();\r\n\t\tlet elements = this.undo.pop();\r\n\t\tconsole.log(elements);\r\n\t\tthis.redo.push(currentElements);\r\n\t\t\r\n\t\tif(elements !== undefined) this.loadGraph(elements);\r\n\t\t\r\n\t}\r\n\r\n\thandleRedo = () => {\r\n\t\tif(this.redo.length === 0){\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif(this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.NO_SELECTION,\r\n\t\t});\r\n\r\n\t\tconst currentElements = this.exportGraph();\r\n\t\tconst elements = this.redo.pop();\r\n\t\tthis.undo.push(currentElements);\r\n\t\tif(elements !== undefined) this.loadGraph(elements);\r\n\t}\r\n\r\n\tpushState(){\r\n\t\tthis.redo = [];\r\n\t\tthis.undo.push(this.exportGraph());\r\n\t}\r\n\r\n\thandleRewind = () => { \r\n\t\tconsole.log(this.animationTimeout);\r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = Math.max(this.step-1, 0);\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandleForward = () => { \r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = Math.min(this.step+1, this.buffer.length-1);\r\n\t\tconsole.log(this.step);\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandleRepeat = () => {\r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = 0;\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandleEnd = () => {\r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = this.buffer.length - 1;\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandlePauseContinue = () => {\r\n\t\tif(!this.props.paused){\r\n\t\t\tclearTimeout(this.animationTimeout);\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_PAUSE,\r\n\t\t\t})\r\n\t\t}else{\r\n\t\t\tnew Promise(resolve => {\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.ANIMATION_CONTINUE\r\n\t\t\t\t})\r\n\t\t\t\tresolve();\r\n\t\t\t}).then(() => this.animation());\r\n\t\t}\r\n\t}\r\n\t\r\n\tloadGraph(elements:Array<Object>, withPoppers:boolean = false){\r\n\t\ttry{\r\n\t\t\tconst nodes = this.cy.nodes();\r\n\t\t\tfor(let i = 0; i < nodes.length; i++){\r\n\t\t\t\tthis.removeNode(nodes[i].id());\r\n\t\t\t}\r\n\t\t\tfor(let i = 0; i < elements.length; i++) this.cy.add(JSON.parse(JSON.stringify(elements[i])));\r\n\t\t\tthis.cy.nodes().forEach((node:CytoscapeElement) => {\r\n\t\t\t\tconst style = node.data('style');\r\n\t\t\t\tif(style != null) node.style(style);\r\n\t\t\t})\r\n\t\t\tthis.cy.edges().forEach((edge:CytoscapeElement) => {\r\n\t\t\t\tconst style = edge.data('style');\r\n\t\t\t\tedge.style(this.edgeStyle);\r\n\t\t\t\tif(style != null) edge.style(style);\r\n\t\t\t})\r\n\t\t}catch(error){\r\n\t\t\tthis.props.dispatch({ type: actions.INVALID_GRAPH_ERROR});\r\n\t\t}\r\n\t}\r\n\r\n\texportGraph(withStyle:boolean=false){\r\n\t\tconst elements:Array<Object> = [];\r\n\t\tthis.cy.nodes().forEach((node:CytoscapeElement) => {\r\n\t\t\telements.push({\r\n\t\t\t\tgroup: 'nodes',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: node.id(),\r\n\t\t\t\t\tvalue: node.data('value'),\r\n\t\t\t\t\tposition: node.position(),\r\n\t\t\t\t\tstyle: (withStyle? {\r\n\t\t\t\t\t\tcolor: node.style('color'),\r\n\t\t\t\t\t\tbackgroundColor: node.style('background-color'),\r\n\t\t\t\t\t\tborderWidth: node.style('border-width'),\r\n\t\t\t\t\t\twidth: node.style('width'),\r\n\t\t\t\t\t\theight: node.style('height'),\r\n\t\t\t\t\t\tvisibility: node.style('visibility'),\r\n\t\t\t\t\t\tzIndex: node.style('z-index'),\r\n\r\n\t\t\t\t\t} : {}),\r\n\t\t\t\t},\r\n\t\t\t\tposition: {\r\n\t\t\t\t\tx: node.position().x,\r\n\t\t\t\t\ty: node.position().y,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t\tthis.cy.edges().forEach((edge:CytoscapeElement) => {\r\n\t\t\telements.push({\r\n\t\t\t\tgroup: 'edges',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: edge.id(),\r\n\t\t\t\t\tsource: edge.source().id(), target: edge.target().id(),\r\n\t\t\t\t\tweight: edge.data('weight'),\r\n\t\t\t\t\tstyle: (withStyle? {\r\n\t\t\t\t\t\tlineColor: edge.style('line-color'),\r\n\t\t\t\t\t\ttargetArrowShape: edge.style('target-arrow-shape'),\r\n\t\t\t\t\t\ttargetArrowColor: edge.style('target-arrow-color'),\r\n\t\t\t\t\t\tlineStyle: edge.style('line-style'),\r\n\t\t\t\t\t\tlabel: edge.style('label'),\r\n\t\t\t\t\t\ttextRotation: edge.style('text-rotation'),\r\n\t\t\t\t\t\ttextMarginY: edge.style('text-margin-y'),\t\r\n\t\t\t\t\t} : {}),\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t\treturn elements;\r\n\t}\r\n\r\n\t\r\n\trefreshLayout() {\r\n\t\tthis.layout.stop();\r\n\t\tthis.layout = this.cy.elements().makeLayout({ name: 'preset' });\r\n\t\tthis.layout.run();\r\n\t}\r\n\r\n\tclearGraph = () => {\r\n\t\tif(this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.CLEAR_GRAPH,\r\n\t\t});\r\n\t\tlet nodes = this.cy.nodes();\r\n\t\tif(nodes.length === 0) return;\r\n\t\tthis.pushState();\r\n\t\tfor (let i = 0; i < nodes.length; i++) {\r\n\t\t\tthis.removeNode(nodes[i].id());\r\n\t\t}\r\n\t}\r\n\r\n\tremoveNodePopper(node: string) {\r\n\t\tthis.cy.remove('node[id=\"' + node + '-popper\"]');\r\n\r\n\t}\r\n\r\n\tremoveNode = (node: string) => {\r\n\t\tthis.cy.remove('node[id=\"' + node + '\"]');\r\n\t\tthis.removeNodePopper(node);\r\n\t}\r\n\r\n\tremoveEdge = (edge: string) => {\r\n\t\tthis.cy.remove('edge[id=\"' + edge + '\"]');\r\n\t}\r\n\r\n\tanimation(){\r\n\t\tlet step = () => {\r\n\t\t\tif(!this._isMounted) return;\r\n\t\t\tif(this.step === this.buffer.length){\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.FINISHED_ALGORITHM_SUCCESS,\r\n\t\t\t\t});\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.ANIMATION_PAUSE,\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!this.props.animation) {\r\n\t\t\t\tthis.cy.nodes().style(this.nodeStyle);\r\n\t\t\t\tthis.cy.edges().style(this.edgeStyle);\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.ANIMATION_END,\r\n\t\t\t\t});\r\n\t\t\t\tthis.cy.autolock(false);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(this.props.paused) return;\r\n\t\t\tconst {elements, lines, duration, action} = this.buffer[this.step++];\r\n\t\t\tif(action){\r\n\t\t\t\tthis.props.dispatch({ type: action });\r\n\t\t\t}\r\n\t\t\tthis.loadGraph(elements, true);\r\n\t\t\tif(lines) this.props.dispatch({type: actions.CHANGE_LINE, payload: { lines }});\r\n\t\t\tthis.refreshLayout();\r\n\t\t\tthis.animationTimeout = window.setTimeout(step, ((duration === undefined) ? 1000 : duration)/(this.props.speed));\r\n\t\t}\r\n\t\tstep();\r\n\t}\r\n\texecuteAnimation = (commands:Array<AnimationStep>) => {\r\n\t\tthis.cy.nodes().style({\r\n\t\t\t'background-color': 'white',\r\n\t\t\t'color': 'black',\r\n\t\t});\r\n\t\tthis.buffer = graphProcessing(this.exportGraph(true), commands);\r\n\t\tlet notification;\r\n\t\tif(this.props.algorithm === algoNames.BFS) notification = actions.STARTING_BFS_INFO;\r\n\t\telse if(this.props.algorithm === algoNames.DFS) notification = actions.STARTING_DFS_INFO;\r\n\t\telse if(this.props.algorithm === algoNames.Dijkstra) notification = actions.STARTING_DIJKSTRA_INFO;\r\n\t\telse if(this.props.algorithm === algoNames.BellmanFord) notification = actions.STARTING_BELLMAN_FORD_INFO;\r\n\t\telse if(this.props.algorithm === algoNames.Kruskal) notification = actions.STARTING_KRUSKAL_INFO;\r\n\t\telse if(this.props.algorithm === algoNames.Prim) notification = actions.STARTING_PRIM_INFO;\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: notification,\r\n\t\t});\r\n\t\tthis.step = 0;\r\n\t\tthis.animation();\r\n\t}\r\n\r\n\trunButton = () => {\r\n\t\tif (this.props.animation === true) {\r\n\t\t\t//this.setState({values: Array()});\r\n\t\t\tnew Promise((resolve) => {\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.ANIMATION_END,\r\n\t\t\t\t});\r\n\t\t\t\tthis.cy.autolock(false);\r\n\t\t\t\tclearTimeout(this.animationTimeout);\r\n\t\t\t\tresolve();\r\n\t\t\t}).then(() => {this.handleUndo(); this.redo.pop()});\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.pushState();\r\n\t\tlet { selection } = this.props;\r\n\t\tif (this.props.algorithm !== algoNames.Kruskal && this.props.algorithm !== algoNames.Prim) {\r\n\t\t\tconsole.log(this.props.algorithm);\r\n\t\t\tif (!selection || selection.type !== 'node') {\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.NO_NODE_SELECTED_ERROR,\r\n\t\t\t\t})\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst nodes = this.cy.nodes();\r\n\t\tnodes.forEach((node:CytoscapeElement) => {\r\n\t\t\tthis.createPopper(node.id());\r\n\t\t});\r\n\t\tthis.refreshLayout();\r\n\t\tlet animationPromise = new Promise((resolve: (commands:Array<AnimationStep>) => void, reject) => {\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_START,\r\n\t\t\t});\r\n\t\t\tlet commands = this.props.execute({ cy: this.cy, selection: this.props.selection });\r\n\t\t\tresolve(commands);\r\n\t\t});\r\n\r\n\t\tanimationPromise.then((commands:Array<AnimationStep>) => {\r\n\t\t\tthis.cy.autolock(true);\r\n\r\n\t\t\tthis.executeAnimation(commands);\r\n\t\t});\r\n\t}\r\n\r\n\tremoveButton = () => {\r\n\t\tif(this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet { selection } = this.props;\r\n\t\tif (!selection) {\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.NO_ELEMENT_SELECTED_ERROR,\r\n\t\t\t})\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.pushState();\r\n\t\tif (selection.type === 'node') {\r\n\t\t\tthis.removeNode(selection.id);\r\n\t\t} else if (selection.type === 'edge') {\r\n\t\t\tthis.removeEdge(selection.id);\r\n\t\t}\r\n\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.NO_SELECTION,\r\n\t\t});\r\n\r\n\t}\r\n\thandleClickOnNode = (node: CytoscapeElement) => {\r\n\t\tif (this.props.animation === true) return;\r\n\t\tlet nodeId = node.id();\r\n\t\tlet { selection } = this.props;\r\n\r\n\t\tif (!selection || selection.type !== 'node') {\r\n\t\t\tnode.style(Styles.NODE_SELECTED);\r\n\r\n\t\t\tif (selection && selection.type === 'edge') {\r\n\t\t\t\tlet edge = this.cy.getElementById(selection.id);\r\n\t\t\t\tedge.style(this.edgeStyle);\r\n\t\t\t}\r\n\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.SELECTION,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\tselection: {\r\n\t\t\t\t\t\tid: nodeId, type: 'node'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (selection.type === 'node') {\r\n\t\t\tlet prevNode = selection.id;\r\n\t\t\tif (prevNode === nodeId) {\r\n\t\t\t\tnode.style(Styles.NODE);\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.NO_SELECTION,\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tlet previous = this.cy.getElementById(prevNode);\r\n\t\t\t\tif (prevNode) {\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\t(this.props.directed && !previous.outgoers().contains(node)) ||\r\n\t\t\t\t\t\t(!this.props.directed && !previous.neighborhood().contains(node))) {\r\n\t\t\t\t\t\tthis.createEdge(prevNode, nodeId);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\t\ttype: actions.NO_SELECTION,\r\n\t\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\t\tselection: null,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tprevious.style(Styles.NODE);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\thandleClickOnEdge = (edge: CytoscapeElement) => {\r\n\t\tif (this.props.animation === true) return;\r\n\t\tlet edgeId = edge.id();\r\n\r\n\t\tlet { selection } = this.props;\r\n\r\n\t\tlet prevId = null;\r\n\t\tif (selection) {\r\n\t\t\tprevId = selection.id;\r\n\t\t\tlet previous = this.cy.getElementById(prevId);\r\n\t\t\tif (selection.type === 'edge') {\r\n\t\t\t\tprevious.style(this.edgeStyle);\r\n\t\t\t} else if (selection.type === 'node') {\r\n\t\t\t\tprevious.style(this.nodeStyle);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (prevId === edgeId) {\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.NO_SELECTION,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\tselection: null,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tlet previous = this.cy.getElementById(prevId);\r\n\t\t\tprevious.style(this.edgeStyle);\r\n\t\t} else {\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.SELECTION,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\tselection: {\r\n\t\t\t\t\t\ttype: 'edge',\r\n\t\t\t\t\t\tid: edgeId,\r\n\t\t\t\t\t\tweight: this.cy.getElementById(edgeId).data('weight'),\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tedge.style(Styles.EDGE_SELECTED);\r\n\t\t}\r\n\t}\r\n\r\n\tcreateNode(x: string, y: string) {\r\n\t\tlet id = 1;\r\n\t\twhile (this.cy.getElementById(getNodeIdString(id.toString())).length > 0) {\r\n\t\t\tid++;\r\n\t\t}\r\n\t\tlet nodeId = getNodeIdString(id.toString());\r\n\t\tthis.pushState();\r\n\t\tthis.cy.add({\r\n\t\t\tgroup: 'nodes',\r\n\t\t\tdata: { id: nodeId, value: id },\r\n\t\t\tposition: { x, y }\r\n\t\t});\r\n\t}\r\n\r\n\tcreatePopper(nodeId: string){\r\n\t\tconst ele = this.cy.getElementById(nodeId);\r\n\t\tconst position = ele.position();\r\n\t\tthis.cy.add({\r\n\t\t\tgroup: 'nodes',\r\n\t\t\tdata: {id : nodeId+'-popper'},\r\n\t\t\tposition: {\r\n\t\t\t\tx: position.x,\r\n\t\t\t\ty: position.y+32,\r\n\t\t\t},\r\n\t\t\tstyle: {\r\n\t\t\t\t'z-index': 0,\r\n\t\t\t\t'border-width': 0,\r\n\t\t\t\t'font-size': 15,\r\n\t\t\t\t'width': 10,\r\n\t\t\t\t'height': 10,\r\n\t\t\t\t'visibility': 'hidden',\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tremovePoppers(){\r\n\t\t\r\n\t\tconst nodes = this.cy.nodes();\r\n\t\tnodes.forEach((node:CytoscapeElement) => {\r\n\t\t\tthis.removeNode(node.id()+'-popper');\r\n\t\t})\r\n\t\t\r\n\t}\r\n\r\n\tcreateEdge(x: string, y: string) {\r\n\t\tthis.pushState();\r\n\t\tthis.cy.add({\r\n\t\t\tgroup: 'edges',\r\n\t\t\tdata: {\r\n\t\t\t\tid: x + '-' + y,\r\n\t\t\t\tweight: Math.floor(Math.random() * 15) - (this.props.algorithm === 'BellmanFord' ? 7 : 0),\r\n\t\t\t\tsource: x,\r\n\t\t\t\ttarget: y,\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tchangeWeight = (weight: number) => {\r\n\t\tconst { selection } = this.props;\r\n\t\tif (selection.type === 'edge') {\r\n\t\t\tconst { id } = selection;\r\n\t\t\tif(this.cy.getElementById(id).data('weight') === weight) return;\r\n\t\t\tthis.pushState();\r\n\t\t\tthis.cy.getElementById(id).data('weight', weight);\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.SELECTION,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\tselection: {\r\n\t\t\t\t\t\ttype: 'edge',\r\n\t\t\t\t\t\tweight,\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tweightButton = () => {\r\n\t\tconst {selection} = this.props;\r\n\t\tif(selection && selection.type === 'edge'){\r\n\t\t\tthis.setState({showWeightModal: true});\r\n\t\t}else{\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.NO_EDGE_SELECTED_ERROR,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\thandleClickViewport = (event: CytoEvent) => {\r\n\t\tif (this.props.animation === true){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t})\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet { selection } = this.props;\r\n\t\tif (event.target === this.cy) {\r\n\t\t\tif (selection) {\r\n\t\t\t\tlet previous = this.cy.getElementById(selection.id);\r\n\t\t\t\tif (selection.type === 'node') {\r\n\t\t\t\t\tprevious.style(Styles.NODE);\r\n\t\t\t\t} else if (selection.type === 'edge') {\r\n\t\t\t\t\tprevious.style(this.edgeStyle);\r\n\t\t\t\t}\r\n\t\t\t\tthis.props.dispatch({ type: actions.NO_SELECTION });\r\n\t\t\t} else {\r\n\t\t\t\tlet { x, y } = event.position;\r\n\t\t\t\tthis.createNode(x, y);\r\n\t\t\t\tthis.refreshLayout();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet edgeWeight = null;\r\n\t\tlet { selection } = this.props;\r\n\t\tif (selection && selection.type === 'edge') {\r\n\t\t\tconst id = selection.id;\r\n\t\t\tedgeWeight = this.cy.getElementById(id).data('weight');\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<MyModal show={this.state.showModal} handleClose={() => this.setState({showModal: false})}/>\r\n\t\t\t\t<InputModal \r\n\t\t\t\t\tshow={this.state.showWeightModal} \r\n\t\t\t\t\thandleClose = {() => this.setState({showWeightModal: false})}\r\n\t\t\t\t\tcallback = {(w:number) => this.changeWeight(w)}\r\n\t\t\t\t/>\r\n\t\t\t\t<div id = \"canvas\" className=\"standard-struct\"/>\r\n\t\t\t\t{\r\n\t\t\t\t\t/*\r\n\t\t\t\t<GraphArray array={this.state.values}/>\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t<ControlBar\r\n\t\t\t\t\t\trun={this.runButton}\r\n\t\t\t\t\t\tremove={this.removeButton}\r\n\t\t\t\t\t\tclearGraph={this.clearGraph}\r\n\t\t\t\t\t\tchangeWeight={this.changeWeight}\r\n\t\t\t\t\t\tweighted={this.props.weighted}\r\n\t\t\t\t\t\tedgeWeight={edgeWeight}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<button onClick={() => this._mediaRecorder.takePicture(this.cy)}>Test picture</button>\r\n\t\t\t\t\t<button onClick={() => this._mediaRecorder.takeGif(this.cy)}>Test gif</button>\r\n\t\t\t\t\t*/\r\n\t\t\t\t}\r\n\t\t\t</>\r\n\t\t)\r\n\t}\r\n};\r\n\r\nexport default withCookies(connect(mapStateToProps)(Graph));","import React, { ReactElement } from 'react';\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport { Button, FormControl } from 'react-bootstrap';\r\nimport { validateHeap } from '../utils/heap-utils';\r\nimport actions from '../Actions/actions';\r\n\r\nconst { connect } = require('react-redux');\r\ntype Props = {\r\n  show: boolean,\r\n  changeArray: (values: Array<number>) => void;\r\n  handleClose: () => void,\r\n  dispatch: (action:Object)=>void,\r\n\r\n}\r\ntype State = {\r\n  text: string,\r\n}\r\nclass InputHeapModal extends React.Component<Props, State>{\r\n  input:HTMLInputElement | null;\r\n  setStepInputRef:(element:HTMLInputElement)=>void;\r\n\r\n  constructor(props:Props){\r\n    super(props);\r\n    this.input = null;\r\n    this.setStepInputRef = element => {\r\n      this.input = element;\r\n    };\r\n  }\r\n\r\n  uploadGraph = () => {\r\n    const input = (document.getElementById('HeapUploadInput') as HTMLInputElement);\r\n    if(input.files){\r\n      const file = input.files[0];\r\n      const reader = new FileReader();\r\n      reader.onload = () => {\r\n        console.log(reader.result);\r\n        if(typeof reader.result === 'string'){\r\n          const text = reader.result;\r\n          this.validateArray(text);\r\n        }\r\n      }\r\n      reader.readAsText(file);\r\n    }\r\n  }\r\n\r\n  validateArray(text: string) {\r\n    let regex = /^(([-]?([0-9]{1,3})[,]){0,15})([-]?([0-9]{1,3}))$/;\r\n    console.log(text);\r\n    if (text && regex.test(text)) {\r\n      const values = text.split(',').map(x => parseInt(x));\r\n      console.log(values);\r\n      if(validateHeap(values)){\r\n        this.props.changeArray(values);\r\n        this.props.handleClose();\r\n      }else{\r\n        this.props.dispatch({\r\n          type: actions.INVALID_HEAP_ERROR,\r\n        });\r\n      }\r\n    } else {\r\n      this.props.dispatch({\r\n        type: actions.INVALID_HEAP_ERROR,\r\n      });\r\n      return false;\r\n    }\r\n  }\r\n\r\n  handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    this.setState({text: e.currentTarget.value});\r\n  }\r\n\r\n  handleCancel = () => {\r\n    this.props.handleClose();\r\n  }\r\n  render(){\r\n    const {show, handleClose} = this.props;\r\n    return (\r\n      <Modal show={show} onHide={handleClose}>\r\n        <Modal.Header className='modal-header' closeButton>\r\n          <Modal.Title>Seleccione un archivo</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <p>El archivo debe contener un Heap valido, previamente descargado</p>\r\n          <input type=\"file\" id=\"HeapUploadInput\"/>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={this.handleCancel}>\r\n            Cancelar\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={this.uploadGraph}>\r\n            Aceptar\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect()(InputHeapModal);","export function validateHeap(values){\r\n  const n = values.length;\r\n  console.log('VALIDANDO', values);\r\n  for(let i = 1; 2*i < n; i++){\r\n    const left = values[2*i], right = ((2*i + 1) === n ? Infinity : values[2*i+1]);\r\n    console.log(values[i], left, right);\r\n    if(left < values[i] || right < values[i]) return false;\r\n  }\r\n  return true;\r\n}\r\n\r\nexport function parseHeap(values){\r\n  const output = values.toString();\r\n  let link = document.createElement('a');\r\n  link.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(output));\r\n  link.setAttribute('download', 'avl.txt');\r\n  link.setAttribute('target', '_blank');\r\n  link.style.display = 'none';\r\n  document.body.appendChild(link);\r\n  link.click();\r\n  document.body.removeChild(link);\r\n}","export const remove = [\r\n  {text: 'extraer_minimo(Arreglo A de longitud n)', ind: 0},\r\n  {text: 'intercambiar(A[1], A[n])', ind: 1},\r\n  {text: 'n--', ind: 1},\r\n  {text: 'hundir(1)', ind: 1},\r\n  {text: '\\u2063', ind: 0},\r\n  {text: 'hundir(Entero i): ', ind: 0},\r\n  {text: 'Si no es_hoja(i):', ind: 1},\r\n  {text: 'Si A[2*i] < A[2*i+1]:', ind: 2},\r\n  {text: 'h = 2*i', ind: 3},\r\n  {text: 'Sino: ', ind : 2},\r\n  {text: 'h = 2*i+1', ind: 3},\r\n  {text: 'Si A[i] > A[h]:', ind: 2},\r\n  {text: 'hundir(h)', ind: 3},\r\n]\r\n\r\nexport const insert = [\r\n\r\n  {text: 'insertar(Arreglo A de longitud n, Entero v):', ind: 0},\r\n  {text: 'A[n++] = v', ind: 1},\r\n  {text: 'flotar(n)', ind: 1},\r\n  {text: '\\u2063', ind: 0},\r\n  {text: 'flotar(entero i):', ind: 0},\r\n  {text: 'Si i/2 > 0 y A[i/2] > A[i]:', ind: 1},\r\n  {text: 'intercambiar(A[i/2], A[i])', ind: 2},\r\n  {text: 'flotar(i/2)', ind: 2},\r\n];\r\n\r\nexport const heap = [\r\n  { text: 'MinHeap{', ind: 0},\r\n  { text: 'Arreglo A', ind: 1},\r\n  { text: 'insertar(entero v)', ind: 1},\r\n  { text: 'extraer_minimo()', ind: 1},\r\n  { text: 'flotar(entero i)', ind: 1},\r\n  { text: 'hundir(entero i)', ind: 1},\r\n  { text: '}', ind: 0},\r\n];\r\n","const Styles = require('../../Styles/Styles')\r\nclass PriorityQueue {\r\n\t_data = [0];\r\n\t_comp = null;\r\n\t_eq = null\r\n\r\n\tconstructor(_comp = (x, y) => x >= y, _eq = (x, y) => x === y) {\r\n\t\tthis._comp = _comp;\r\n\t\tthis._eq = _eq;\r\n\t}\r\n\r\n\tisEmpty() {\r\n\t\treturn this._data.length === 1;\r\n\t}\r\n\r\n\tlength() {\r\n\t\treturn this._data.length;\r\n\t}\r\n\t\r\n\ttop() {\r\n\t\tif (this.isEmpty()) return null;\r\n\t\treturn this._data[1];\r\n\t}\r\n\r\n\tpush(ele, animation = false) {\r\n\t\tconst commands = [];\r\n\t\tthis._data.push(ele);\r\n\t\tlet pos = this._data.length - 1;\r\n\t\tif (animation) {\r\n\t\t\tcommands.push({\r\n\t\t\t\teles: [pos.toString()],\r\n\t\t\t\tstyle: [Styles.NODE_BLACK],\r\n\t\t\t\tclasses: ['heap-focus'],\r\n\t\t\t\tlines: [4],\r\n\t\t\t});\r\n\t\t}\r\n\t\twhile (pos > 1) {\r\n\t\t\tlet parent = Math.floor(pos / 2);\r\n\t\t\tif (this._comp(this._data[parent], this._data[pos]) || this._eq(this._data[parent], this._data[pos])) {\r\n\t\t\t\tif (animation) {\r\n\t\t\t\t\tcommands.push(\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\teles: [parent.toString()],\r\n\t\t\t\t\t\t\tstyle: [Styles.NODE_CORRECT],\r\n\t\t\t\t\t\t\tclasses: ['heap-correct'],\r\n\t\t\t\t\t\t\tlines: [-1],\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif (animation) {\r\n\t\t\t\tcommands.push(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\teles: [parent.toString()],\r\n\t\t\t\t\t\tstyle: [Styles.NODE_WRONG],\r\n\t\t\t\t\t\tclasses: ['heap-wrong'],\r\n\t\t\t\t\t\tlines: [5,6,7],\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\teles: [parent.toString(), pos.toString()],\r\n\t\t\t\t\t\tstyle:\r\n\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\tStyles.NODE_BLACK,\r\n\t\t\t\t\t\t\t\tStyles.NODE,\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\tdata:\r\n\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t{ 'value': this._data[pos] },\r\n\t\t\t\t\t\t\t\t{ 'value': this._data[parent] }\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\tclasses:\r\n\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t'heap-focus',\r\n\t\t\t\t\t\t\t\t'heap-default',\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\tlines: [4],\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\t[this._data[parent], this._data[pos]] = [this._data[pos], this._data[parent]];\r\n\t\t\tpos = parent;\r\n\t\t}\r\n\t\treturn commands;\r\n\t}\r\n\r\n\tpop(animation = false) {\r\n\t\tconst commands = [];\r\n\t\tif (!this.isEmpty()) {\r\n\t\t\tlet x = this._data[this._data.length - 1];\r\n\t\t\tthis._data.pop();\r\n\t\t\tif (this.isEmpty()) return commands;\r\n\t\t\tlet pos = 1;\r\n\t\t\tthis._data[1] = x;\r\n\r\n\t\t\tif (animation) {\r\n\t\t\t\tcommands.push({\r\n\t\t\t\t\teles: [pos.toString()],\r\n\t\t\t\t\tstyle: [Styles.NODE_BLACK],\r\n\t\t\t\t\tclasses: ['heap-focus'],\r\n\t\t\t\t\tlines: [5],\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\twhile (2 * pos < this._data.length) {\r\n\t\t\t\t\r\n\t\t\t\tlet l = this._data[2 * pos],\r\n\t\t\t\t\tr = (2 * pos + 1 < this._data.length ? this._data[2 * pos + 1] : null);\r\n\t\t\t\tx = this._data[pos];\r\n\t\t\t\tif (r == null) {\r\n\t\t\t\t\tif (this._comp(l, x)) {\r\n\t\t\t\t\t\tif (animation) {\r\n\t\t\t\t\t\t\tcommands.push(\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\teles: [(2 * pos).toString()],\r\n\t\t\t\t\t\t\t\t\tstyle: [Styles.NODE_WRONG],\r\n\t\t\t\t\t\t\t\t\tclasses: ['heap-wrong'],\r\n\t\t\t\t\t\t\t\t\tlines: [7, 8],\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\teles: [pos.toString(), (2 * pos).toString()],\r\n\t\t\t\t\t\t\t\t\tstyle: [\r\n\t\t\t\t\t\t\t\t\t\tStyles.NODE,\r\n\t\t\t\t\t\t\t\t\t\tStyles.NODE_BLACK,\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tdata: [\r\n\t\t\t\t\t\t\t\t\t\t{ 'value': this._data[2 * pos] },\r\n\t\t\t\t\t\t\t\t\t\t{ 'value': this._data[pos] }\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tclasses: [\r\n\t\t\t\t\t\t\t\t\t\t'heap-default',\r\n\t\t\t\t\t\t\t\t\t\t'heap-focus',\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tlines: [11,12],\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t[this._data[2 * pos], this._data[pos]] = [this._data[pos], this._data[2 * pos]];\r\n\t\t\t\t\t\tpos = 2 * pos;\r\n\t\t\t\t\t} else break;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif ((this._comp(l, r) || this._eq(l, r)) && this._comp(l, x)) {\r\n\t\t\t\t\t\tif (animation) {\r\n\t\t\t\t\t\t\tcommands.push(\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\teles: [(2 * pos).toString()],\r\n\t\t\t\t\t\t\t\t\tstyle: [Styles.NODE_WRONG],\r\n\t\t\t\t\t\t\t\t\tclasses: ['heap-wrong'],\r\n\t\t\t\t\t\t\t\t\tlines: [7, 8],\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\teles: [pos.toString(), (2 * pos).toString()],\r\n\t\t\t\t\t\t\t\t\tstyle: [\r\n\t\t\t\t\t\t\t\t\t\tStyles.NODE,\r\n\t\t\t\t\t\t\t\t\t\tStyles.NODE_BLACK,\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tdata: [\r\n\t\t\t\t\t\t\t\t\t\t{ 'value': this._data[2 * pos] },\r\n\t\t\t\t\t\t\t\t\t\t{ 'value': this._data[pos] }\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tclasses: [\r\n\t\t\t\t\t\t\t\t\t\t'heap-default',\r\n\t\t\t\t\t\t\t\t\t\t'heap-focus',\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tlines: [11, 12],\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t[this._data[2 * pos], this._data[pos]] = [this._data[pos], this._data[2 * pos]];\r\n\t\t\t\t\t\tpos = 2 * pos;\r\n\t\t\t\t\t} else if ((this._comp(r, l) || this._eq(r, l)) && this._comp(r, x)) {\r\n\t\t\t\t\t\tif (animation) {\r\n\t\t\t\t\t\t\tcommands.push(\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\teles: [(2 * pos + 1).toString()],\r\n\t\t\t\t\t\t\t\t\tstyle: [Styles.NODE_WRONG],\r\n\t\t\t\t\t\t\t\t\tclasses: ['heap-wrong'],\r\n\t\t\t\t\t\t\t\t\tlines: [9, 10],\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\teles: [pos.toString(), (2 * pos + 1).toString()],\r\n\t\t\t\t\t\t\t\t\tstyle: [\r\n\t\t\t\t\t\t\t\t\t\tStyles.NODE,\r\n\t\t\t\t\t\t\t\t\t\tStyles.NODE_BLACK,\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tdata: [\r\n\t\t\t\t\t\t\t\t\t\t{ 'value': this._data[2 * pos + 1] },\r\n\t\t\t\t\t\t\t\t\t\t{ 'value': this._data[pos] }\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tclasses: [\r\n\t\t\t\t\t\t\t\t\t\t'heap-default',\r\n\t\t\t\t\t\t\t\t\t\t'heap-focus',\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tlines: [11,12],\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t[this._data[2 * pos + 1], this._data[pos]] = [this._data[pos], this._data[2 * pos + 1]];\r\n\t\t\t\t\t\tpos = 2 * pos + 1;\r\n\t\t\t\t\t} else break;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn commands;\r\n\t}\r\n\r\n\tclear(){\r\n\t\twhile(!this.isEmpty()) this.pop();\r\n\t}\r\n}\r\n\r\nexport default PriorityQueue;","import { CytoscapeElement, CytoEvent, AnimationStep } from '../Types/types';\r\nimport PriorityQueue from '../Algorithms/DS/PriorityQueue'\r\nconst Styles = require('../Styles/Styles');\r\nconst cytoscape = require('cytoscape');\r\nconst { connect } = require('react-redux');\r\n\r\nclass HeapProcessor{\r\n\theap = new PriorityQueue((x, y) => x < y, (x, y) => x === y);\r\n  cy = cytoscape();\r\n  vh:number;\r\n  vw:number;\r\n  constructor(vw: number, vh: number){\r\n    this.vh = vh; this.vw = vw; \r\n  }\r\n\r\n  loadGraph(elements:Array<Object>=[]){\r\n    this.cy = cytoscape({\r\n      elements: JSON.parse(JSON.stringify(elements)),\r\n    });\r\n\r\n    this.heap._data = [0];\r\n    this.cy.nodes().forEach((node:CytoscapeElement) => {\r\n      if(!node.id().match('popper')){\r\n        this.heap._data[parseInt(node.id())] = node.data('value');\r\n        node.data('style', Styles.NODE);\r\n      }else{\r\n        node.data('style', Styles.NODE_POPPER);\r\n      }\r\n    });\r\n    console.log(this.heap._data);\r\n  }\r\n  \r\n\texportGraph = () => {\r\n    const elements:Array<Object> = [];\r\n    this.layoutProcessing();\r\n    this.cy.nodes().forEach((node:CytoscapeElement) => {\r\n      let prev = node.data('prevPosition');\r\n      if(!prev) prev = node.data('position');\r\n      elements.push({\r\n        group: 'nodes',\r\n        data: {\r\n          id: node.id(),\r\n          value: node.data('value'),\r\n          style: node.data('style'),\r\n          position: node.data('position'),\r\n        },\r\n        position: prev,\r\n      })\r\n    });\r\n    this.cy.edges().forEach((edge:CytoscapeElement) => {\r\n      elements.push({\r\n        group: 'edges',\r\n        data: {\r\n          id: edge.id(),\r\n          source: edge.source().id(), target: edge.target().id(),\r\n          weight: edge.data('weight'),\r\n          style: edge.data('style'),\r\n          /*\r\n          style: {\r\n            lineColor: edge.style('line-color'),\r\n            targetArrowShape: edge.style('target-arrow-shape'),\r\n            targetArrowColor: edge.style('target-arrow-color'),\r\n            lineStyle: edge.style('line-style'),\r\n          }\r\n          */\r\n        }\r\n      })\r\n    });\r\n    //console.log(elements);\r\n    return JSON.parse(JSON.stringify(elements));\r\n  }\r\n  \r\n  createPopper(nodeId: string, value: number){\r\n\t\tconst ele = this.cy.getElementById(nodeId);\r\n\t\tconst position = ele.data('position');\r\n\t\tthis.cy.add({\r\n\t\t\tgroup: 'nodes',\r\n\t\t\tdata: {\r\n        id : nodeId+'-popper', \r\n        value,\r\n        style: Styles.NODE_POPPER,\r\n        position: {\r\n          x: position.x,\r\n          y: position.y+30,\r\n        },\r\n      },\r\n\t\t\tposition: {\r\n\t\t\t\tx: position.x,\r\n\t\t\t\ty: position.y+30,\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\taddNode(node: string, value: number, position: {x: number, y: number} = {x: 0, y: 0}){\r\n\t\tthis.cy.add(\r\n\t\t\t{\r\n\t\t\t\tgroup: 'nodes',\r\n\t\t\t\tdata: { \r\n          id: node.toString(), \r\n          value, \r\n          position: {x:position.x, y: position.y}\r\n        },\r\n        position: {x:position.x, y: position.y},\r\n      },\r\n\t\t)\r\n\t\tthis.createPopper(node, parseInt(node));\r\n  }\r\n  \r\n  layoutProcessing() {\r\n    if(this.heap._data.length === 0) return;\r\n\t\tconst getHeight = (node: CytoscapeElement) => {\r\n\t\t\tlet outgoers = node.outgoers('node');\r\n\t\t\tlet height = 0;\r\n\t\t\tfor (let i = 0; i < outgoers.length; i++) {\r\n\t\t\t\theight = Math.max(height, getHeight(outgoers[i]));\r\n\t\t\t}\r\n\t\t\treturn height + 1;\r\n\t\t}\r\n\t\tlet height = getHeight(this.cy.getElementById(\"1\"));\r\n\r\n\t\tlet sep = (1 << height) * 5;\r\n\r\n\t\tconst setSep = (node: CytoscapeElement, nx: number, ny: number, sep: number) => {\r\n      const prevPosition = node.data('position');\r\n      node.data('prevPosition', prevPosition);\r\n      node.data('position', { x: nx, y: ny });\r\n      const popper = this.cy.getElementById(node.id() + '-popper');\r\n      const prevPopPosition = popper.data('position');\r\n      popper.data('prevPosition', prevPopPosition);\r\n\t\t\tpopper.data('position', { x: nx, y: ny + 32 });\r\n\t\t\tif (node.outgoers('node').length) setSep(node.outgoers('node')[0], nx - sep, ny + 50, sep / 2);\r\n\t\t\tif (node.outgoers('node').length === 2) setSep(node.outgoers('node')[1], nx + sep, ny + 50, sep / 2);\r\n\t\t}\r\n\t\tsetSep(this.cy.getElementById(\"1\"), this.vw / 2, this.vh / 4, sep);\r\n\t\treturn true;\r\n  }\r\n  \r\n\tprocessCommands(commands: Array<AnimationStep>){\r\n\t\tthis.cy.nodes().forEach((node: CytoscapeElement) => {\r\n\t\t\tif(!node.id().match('-popper')){\r\n\t\t\t\tnode.style({\r\n\t\t\t\t\t'background-color': 'white',\r\n\t\t\t\t\t'color': 'black',\r\n\t\t\t\t})\r\n\t\t\t}\r\n    })\r\n    let steps:Array<{elements:Array<Object>, lines: Array<number>, duration: number}>=[];\r\n    let lastLines:Array<number> = [];\r\n    let lastDuration = 0;\r\n    for(let pos = 0; pos < commands.length; pos++){\r\n      let { eles, style, duration, data, classes, lines} = commands[pos];\r\n      if(duration == null) duration = 1000;\r\n      if(lines == null) lines = lastLines;\r\n\r\n      steps.push({elements: this.exportGraph(), lines: lastLines, duration: lastDuration});\r\n      lastLines = lines;\r\n      lastDuration = duration;\r\n      if (eles) {\r\n        eles.forEach((ele, index) => {\r\n          if(style){\r\n            const node = this.cy.getElementById(ele);\r\n            node.data('style', style[index]);\r\n          }\r\n          if(data != null){\r\n            this.cy.getElementById(ele).data(data[index]);\r\n          }\r\n        });\r\n      }\r\n    }\r\n    steps.push({elements: this.exportGraph(), lines: lastLines, duration: 1000});\r\n    return steps;\r\n  }\r\n\r\n\tinsert(val = 0) {\r\n    let steps:Array<{elements:Array<Object>, lines: Array<number>, duration: number}>=[];\r\n\r\n\t\tif (this.heap.length()-1 === 0) {\r\n      this.addNode(\"1\", val);\r\n      steps.push({\r\n        elements: this.exportGraph(),\r\n        duration: 1000,\r\n        lines: [1,2,3,4]\r\n      });\r\n      const commands = this.heap.push(val, true);\r\n      steps = steps.concat(this.processCommands(commands));\r\n\t\t} else {\r\n\t\t\tlet nodeId = this.heap.length();\r\n\t\t\tconsole.log(nodeId);\r\n\t\t\tlet src = this.cy.getElementById(Math.floor(nodeId / 2).toString());\r\n\t\t\tthis.addNode(nodeId.toString(), val, src.data('position'));\r\n\t\t\tthis.cy.add(\r\n\t\t\t\t{\r\n\t\t\t\t\tgroup: 'edges',\r\n\t\t\t\t\tdata: { id: src.id() + '-' + nodeId.toString(), source: src.id(), target: nodeId.toString() }\r\n\t\t\t\t}\r\n      )\r\n      steps.push({\r\n        elements: this.exportGraph(),\r\n        duration: 1000,\r\n        lines: [1,2,3,4]\r\n      });\r\n      const commands = this.heap.push(val, true);\r\n      steps = steps.concat(this.processCommands(commands));\r\n\t\t}\r\n\r\n    this.cy.nodes().forEach((node:CytoscapeElement) => {\r\n      if(!node.id().match('popper')){\r\n        node.data('style', Styles.NODE);\r\n      }\r\n    });\r\n    steps.push({elements: this.exportGraph(), lines: [], duration: 0});\r\n    return steps;\r\n\t}\r\n\r\n  removeNode = (node: string) => {\r\n\t\tthis.cy.remove('node[id=\"' + node + '\"]');\r\n\t\tthis.cy.remove('node[id=\"' + node + '-popper\"]');\r\n  }\r\n  \r\n\tremove = () => {\r\n\t\tconst n = this.heap.length()-1;\r\n\t\tconst outgoers = this.cy.getElementById(\"1\").outgoers('node');\r\n\t\tthis.removeNode(\"1\");\r\n    let commands:Array<AnimationStep>;\r\n\t\tcommands = this.heap.pop(true);\r\n\r\n\t\tif (n === 1) {\r\n\t\t\treturn [{ elements: this.exportGraph(), lines: [], duration: 1000}];\r\n\t\t}\r\n\r\n\t\tconst position = this.cy.getElementById(n.toString()).data('position');\r\n\t\tconst value = this.cy.getElementById(n.toString()).data('value');\r\n\t\tthis.removeNode(n.toString());\r\n\r\n\t\tthis.addNode(\"1\", value, position);\r\n\r\n    let steps:Array<{elements:Array<Object>, lines: Array<number>, duration: number}>=[];    \r\n\t\tfor (let i = 0; i < outgoers.length; i++) {\r\n\t\t\tif (this.cy.getElementById(outgoers[i].id()).length === 0) continue;\r\n\t\t\tthis.cy.add({\r\n\t\t\t\tgroup: 'edges',\r\n\t\t\t\tdata: { id: \"1-\" + outgoers[i].id(), source: \"1\", target: outgoers[i].id() }\r\n\t\t\t});\r\n\t\t}\r\n    steps = steps.concat({elements: this.exportGraph(), lines: [], duration: 1000});\r\n\r\n    steps = steps.concat(this.processCommands(commands));\r\n\r\n    this.cy.nodes().forEach((node:CytoscapeElement) => {\r\n      if(!node.id().match('popper')){\r\n        node.data('style', Styles.NODE);\r\n      }\r\n    });\r\n    steps.push({elements: this.exportGraph(), lines: [], duration: 0});\r\n    return steps;\r\n\t}\r\n}\r\n\r\nexport default HeapProcessor;","import React from 'react';\r\nimport actions from '../Actions/actions';\r\n\r\nimport { CytoscapeElement, CytoEvent, AnimationStep } from '../Types/types';\r\nimport TreeBar from './TreeBar';\r\nimport { Row, Container } from 'react-bootstrap';\r\nimport PriorityQueue from '../Algorithms/DS/PriorityQueue'\r\nimport downloadGif from '../utils/gifshot-utils';\r\nimport HeapArray from './HeapArray';\r\nimport { number, string } from 'prop-types';\r\nimport InputHeapModal from './InputHeapModal';\r\nimport MediaRecorder from '../utils/MediaRecorder';\r\nimport { parseHeap } from '../utils/heap-utils';\r\nimport InputModal from './InputModal';\r\nimport { insert, remove } from '../resources/pseudocodes/heap';\r\nimport HeapProcessor from '../Processing/heap-processing';\r\nconst Styles = require('../Styles/Styles');\r\nconst cytoscape = require('cytoscape');\r\nconst { connect } = require('react-redux');\r\n\r\ntype options = {\r\n\tname: string,\r\n\tpositions: { [id: string]: { x: number, y: number } },\r\n\tpadding: number,\r\n\tanimate: boolean,\r\n\tanimationDuration: number,\r\n}\r\n\r\nlet layoutOptions: options = {\r\n\tname: 'preset',\r\n\tpositions: {}, // map of (node id) => (position obj); or function(node){ return somPos; }\r\n\tpadding: 30, // padding on fit\r\n\tanimate: true, // whether to transition the node positions\r\n\tanimationDuration: 500, // duration of animation in ms if enabled\r\n};\r\n\r\ntype storeState = {\r\n\tanimation: string,\r\n\tspeed: number,\r\n\tpaused: boolean,\r\n}\r\n\r\ntype Element = {\r\n\tvalue: number,\r\n\tclass: string,\r\n}\r\n\r\ntype State = {\r\n\tshow: boolean,\r\n\tshowInsertModal: boolean,\r\n}\r\n\r\ntype stackState = {\r\n\theap: Array<number>,\r\n\telements: Array<Object>,\r\n}\r\n\r\ntype Props = {\r\n\taction: string,\r\n\tanimation: boolean,\r\n\tspeed: number,\r\n\tdispatch: (action: Object) => Object,\r\n\tpaused: boolean,\r\n}\r\nconst mapStateToProps = (state: storeState) => {\r\n\treturn {\r\n\t\tanimation: state.animation,\r\n\t\tspeed: state.speed,\r\n\t\tpaused: state.paused,\r\n\t}\r\n}\r\nclass Heap extends React.Component<Props, State>{\r\n\r\n\t_isMounted = false;\r\n\t_mediaRecorder = new MediaRecorder();\r\n\r\n\tundo: Array<Array<Object>> = [];\r\n\tredo: Array<Array<Object>> = [];\r\n\r\n\tstate = {\r\n\t\tshow: false,\r\n\t\tshowInsertModal: false,\r\n\t}\r\n\r\n\tlayout = {\r\n\t\trun: () => { },\r\n\t\tstop: () => { },\r\n\t};\r\n\r\n\tnodeStyle = Styles.NODE;\r\n\tedgeStyle = Styles.EDGE;\r\n\tcy = cytoscape();\r\n\r\n\theapProcessor:any;\r\n\tbuffer: Array<{ elements: Array<Object>, lines: Array<number>, duration: number }> = [];\r\n\toptions: Array<{ name: string, run: () => void }>;\r\n\r\n\tanimationTimeout = 0;\r\n\tstep = 0;\r\n\r\n\tconstructor(props: Props) {\r\n\t\tsuper(props);\r\n\t\tthis._mediaRecorder = new MediaRecorder(props.dispatch);\r\n\t\tthis.options = [\r\n\t\t\t{\r\n\t\t\t\tname: 'Insertar',\r\n\t\t\t\trun: () => this.setState({ showInsertModal: true }),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Extraer minimo',\r\n\t\t\t\trun: this.remove,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Subir Heap',\r\n\t\t\t\trun: () => this.setState({ show: true }),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Descargar Heap',\r\n\t\t\t\trun: () => { \r\n\t\t\t\t\tif(!this.props.animation) parseHeap(this.heapProcessor.heap._data)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\r\n\tinitialize() {\r\n\t\tlet edgeStyle = Styles.EDGE;\r\n\t\tthis.cy = cytoscape({\r\n\r\n\t\t\tcontainer: document.getElementById('canvas'), // container to render in\r\n\r\n\t\t\telements: [],\r\n\r\n\t\t\tstyle: [ // the stylesheet for the graph\r\n\t\t\t\t{\r\n\t\t\t\t\tselector: 'node',\r\n\t\t\t\t\tstyle: Styles.NODE,\r\n\t\t\t\t},\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\tselector: 'edge',\r\n\t\t\t\t\tstyle: edgeStyle,\r\n\t\t\t\t}\r\n\t\t\t],\r\n\r\n\t\t\theadless: false,\r\n\t\t\tstyleEnabled: true,\r\n\t\t\thideEdgesOnViewport: false,\r\n\t\t\thideLabelsOnViewport: false,\r\n\t\t\tuserPanningEnabled: false,\r\n\t\t\tzoomingEnabled: false,\r\n\t\t\ttextureOnViewport: false,\r\n\t\t\tmotionBlur: false,\r\n\t\t\tmotionBlurOpacity: 0.2,\r\n\t\t\tpixelRatio: '1.0',\r\n\t\t\tautoungrabify: true,\r\n\t\t});\r\n\t\tthis.cy.nodes().forEach((node: CytoscapeElement) => {\r\n\t\t\tif (node.id().match('-popper')) {\r\n\t\t\t\tnode.style(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t'z-index': 0,\r\n\t\t\t\t\t\t'border-width': 0,\r\n\t\t\t\t\t\t'font-size': 15,\r\n\t\t\t\t\t\t'width': 10,\r\n\t\t\t\t\t\t'height': 10,\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.cy.on('resize', () => this.refreshLayout(false));\r\n\t\tthis.layout = this.cy.elements().makeLayout({ ...layoutOptions, animate: false });\r\n\t\tthis.layout.run();\r\n\r\n\t\tthis.refreshLayout();\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis._isMounted = true;\r\n\t\tthis.initialize();\r\n\t\tthis.heapProcessor = new HeapProcessor(this.cy.width(), this.cy.height());\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: this.props.action,\r\n\t\t\tpayload: {\r\n\t\t\t\tphoto: () => this._mediaRecorder.takePicture(this.cy),\r\n\t\t\t\tgif: () => this._mediaRecorder.takeGif(this.cy),\r\n\t\t\t\tundo: this.handleUndo,\r\n\t\t\t\tredo: this.handleRedo,\r\n\t\t\t\toptions: this.options,\r\n\t\t\t\trewind: this.handleRewind,\r\n\t\t\t\tforward: this.handleForward,\r\n\t\t\t\trepeat: this.handleRepeat,\r\n\t\t\t\tend: this.handleEnd,\r\n\t\t\t\tpause: this.handlePauseContinue,\r\n\t\t\t\tclear: this.clearGraph,\r\n\t\t\t\tremove: null,\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps: Props) {\r\n\t\tlayoutOptions.animationDuration = 500 / this.props.speed;\r\n\r\n\t\tif (prevProps.animation && !this.props.animation) {\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.CHANGE_OPTIONS,\r\n\t\t\t\tpayload: { options: this.options }\r\n\t\t\t});\r\n\t\t} else if (!prevProps.animation && this.props.animation) {\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.CHANGE_OPTIONS,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\toptions: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tname: 'Volver a edicion',\r\n\t\t\t\t\t\t\trun: () => {\r\n\t\t\t\t\t\t\t\tthis.loadGraph(this.buffer[this.buffer.length-1].elements);\r\n\t\t\t\t\t\t\t\tthis.props.dispatch({ type: actions.ANIMATION_END })\r\n\t\t\t\t\t\t\t\tclearTimeout(this.animationTimeout);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.ANIMATION_END,\r\n\t\t});\r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis._isMounted = false;\r\n\t\tlet nodes = this.cy.nodes();\r\n\t\tnodes.forEach((node: CytoscapeElement) => {\r\n\t\t\tthis.removeNode(node.id());\r\n\t\t});\r\n\t}\r\n\r\n\thandleUndo = () => {\r\n\t\tif (this.undo.length === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (this.props.animation) {\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.NO_SELECTION,\r\n\t\t});\r\n\r\n\t\tconst currentElements = this.exportGraph();\r\n\r\n\t\tlet state = this.undo.pop();\r\n\t\tif (state !== undefined) {\r\n\t\t\tthis.redo.push(currentElements);\r\n\t\t\tthis.loadGraph(state);\r\n\t\t\tthis.heapProcessor.loadGraph(state);\r\n\t\t}\r\n\t}\r\n\r\n\thandleRedo = () => {\r\n\t\tif (this.redo.length === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (this.props.animation) {\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.NO_SELECTION,\r\n\t\t});\r\n\r\n\t\tconst currentElements = this.exportGraph();\r\n\r\n\t\tlet state = this.redo.pop();\r\n\t\tif (state !== undefined) {\r\n\t\t\tthis.undo.push(currentElements);\r\n\t\t\tthis.loadGraph(state);\r\n\t\t\tthis.heapProcessor.loadGraph(state);\r\n\t\t}\r\n\t}\r\n\r\n\tpushState() {\r\n\t\tthis.redo = [];\r\n\t\tthis.undo.push(this.exportGraph());\r\n\t}\r\n\r\n\thandleRewind = () => { \r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = Math.max(this.step-1, 0);\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandleForward = () => { \r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = Math.min(this.step+1, this.buffer.length-1);\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandleRepeat = () => {\r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = 0;\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandleEnd = () => {\r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = this.buffer.length - 1;\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandlePauseContinue = () => {\r\n\t\tif(!this.props.paused){\r\n\t\t\tclearTimeout(this.animationTimeout);\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_PAUSE,\r\n\t\t\t})\r\n\t\t}else{\r\n\t\t\tnew Promise(resolve => {\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.ANIMATION_CONTINUE\r\n\t\t\t\t})\r\n\t\t\t\tresolve();\r\n\t\t\t}).then(() => this.animation());\r\n\t\t}\r\n\t}\r\n\r\n\tloadGraph(elements: Array<Object>) {\r\n\t\tconst nodes = this.cy.nodes();\r\n\t\tnodes.forEach((node: CytoscapeElement) => {\r\n\t\t\tthis.cy.remove(node);\r\n\t\t})\r\n\r\n\t\tfor (let i = 0; i < elements.length; i++) {\r\n\t\t\tthis.cy.add(elements[i]);\r\n\t\t}\r\n\r\n\t\tthis.cy.nodes().forEach((node: CytoscapeElement) => {\r\n\t\t\tconst style = node.data('style');\r\n\t\t\tif (style != null) node.style(style);\r\n\t\t\tconst position = node.data('position');\r\n\t\t\t//console.log(\"PREV\", node.position());\r\n\t\t\t//console.log(\"NEXT\", position);\r\n\t\t\tif (position != null) {\r\n\t\t\t\tlayoutOptions.positions[node.id()] = JSON.parse(JSON.stringify(position));\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tthis.cy.edges().forEach((edge: CytoscapeElement) => {\r\n\t\t\tconst style = edge.data('style');\r\n\t\t\tif (style != null) edge.style(style);\r\n\t\t})\r\n\r\n\t\tthis.refreshLayout();\r\n\t}\r\n\r\n\texportGraph() {\r\n\t\tconst elements: Array<Object> = [];\r\n\t\tthis.cy.nodes().forEach((node: CytoscapeElement) => {\r\n\t\t\telements.push({\r\n\t\t\t\tgroup: 'nodes',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: node.id(),\r\n\t\t\t\t\tvalue: node.data('value'),\r\n\t\t\t\t\tposition: {\r\n\t\t\t\t\t\tx: node.position().x,\r\n\t\t\t\t\t\ty: node.position().y,\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tstyle: node.style(),\r\n\t\t\t\tposition: {\r\n\t\t\t\t\tx: node.position().x,\r\n\t\t\t\t\ty: node.position().y,\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t});\r\n\t\tthis.cy.edges().forEach((edge: CytoscapeElement) => {\r\n\t\t\telements.push({\r\n\t\t\t\tgroup: 'edges',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: edge.id(),\r\n\t\t\t\t\tsource: edge.source().id(), target: edge.target().id(),\r\n\t\t\t\t\tweight: edge.data('weight'),\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t});\r\n\t\treturn elements;\r\n\t}\r\n\r\n\tcreatePopper(nodeId: string, value: number) {\r\n\t\tconst ele = this.cy.getElementById(nodeId);\r\n\t\tconst position = ele.position();\r\n\t\tthis.cy.add({\r\n\t\t\tgroup: 'nodes',\r\n\t\t\tdata: { id: nodeId + '-popper', value },\r\n\t\t\tposition: {\r\n\t\t\t\tx: position.x,\r\n\t\t\t\ty: position.y + 32,\r\n\t\t\t},\r\n\t\t\tstyle: {\r\n\t\t\t\t'z-index': 0,\r\n\t\t\t\t'border-width': 0,\r\n\t\t\t\t'font-size': 15,\r\n\t\t\t\t'width': 10,\r\n\t\t\t\t'height': 10,\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\taddNode(node: string, value: number, position: { x: number, y: number } = { x: 0, y: 0 }) {\r\n\t\tthis.cy.add(\r\n\t\t\t{\r\n\t\t\t\tgroup: 'nodes',\r\n\t\t\t\tdata: { id: node.toString(), value },\r\n\t\t\t\tgrabbable: false,\r\n\t\t\t\tpannable: false,\r\n\t\t\t\tposition: { x: position.x, y: position.y },\r\n\t\t\t},\r\n\t\t)\r\n\t\tthis.createPopper(node, parseInt(node));\r\n\t}\r\n\tremoveNode = (node: string) => {\r\n\t\tthis.cy.remove('node[id=\"' + node + '\"]');\r\n\t\tthis.cy.remove('node[id=\"' + node + '-popper\"]');\r\n\t}\r\n\r\n\tanimation() {\r\n\t\tlet step = () => {\r\n\t\t\tif (this.step === this.buffer.length) {\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.FINISHED_ALGORITHM_SUCCESS,\r\n\t\t\t\t});\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.ANIMATION_PAUSE,\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!this.props.animation) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst { elements, lines, duration } = this.buffer[this.step++];\r\n\t\t\tif(this.props.paused) return;\r\n\t\t\tthis.loadGraph(elements);\r\n\t\t\tif (lines) this.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines } });\r\n\t\t\tconsole.log(duration);\r\n\t\t\tthis.animationTimeout = window.setTimeout(step, ((duration === undefined) ? 1000 : duration) / (this.props.speed));\r\n\t\t}\r\n\t\tstep();\r\n\t}\r\n\r\n\texecuteAnimation = () => {\r\n\t\tthis.cy.nodes().forEach((node: CytoscapeElement) => {\r\n\t\t\tif (!node.id().match('-popper')) {\r\n\t\t\t\tnode.style({\r\n\t\t\t\t\t'background-color': 'white',\r\n\t\t\t\t\t'color': 'black',\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t\tnew Promise((resolve, reject) => {\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_START,\r\n\t\t\t});\r\n\t\t\tresolve();\r\n\t\t}).then(() => {\r\n\t\t\tthis.step = 0;\r\n\t\t\tthis.animation();\r\n\t\t})\r\n\t}\r\n\r\n\trefreshLayout(animate: boolean = true) {\r\n\t\tthis.layoutProcessing();\r\n\t\tthis.layout.stop();\r\n\t\tthis.layout = this.cy.elements().makeLayout({ ...layoutOptions, animate });\r\n\t\tthis.layout.run();\r\n\t}\r\n\t\r\n\tclearGraph = () => {\r\n\t\tif(this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.CLEAR_GRAPH,\r\n\t\t});\r\n\t\tlet nodes = this.cy.nodes();\r\n\t\tif(nodes.length === 0) return;\r\n\t\tthis.pushState();\r\n\t\tthis.heapProcessor.loadGraph();\r\n\t\tfor (let i = 0; i < nodes.length; i++) {\r\n\t\t\tthis.removeNode(nodes[i].id());\r\n\t\t}\r\n\t}\r\n\r\n\tlayoutProcessing() {\r\n\t\tconst getHeight = (node: CytoscapeElement) => {\r\n\t\t\tlet outgoers = node.outgoers('node');\r\n\t\t\tlet height = 0;\r\n\t\t\tfor (let i = 0; i < outgoers.length; i++) {\r\n\t\t\t\theight = Math.max(height, getHeight(outgoers[i]));\r\n\t\t\t}\r\n\t\t\treturn height + 1;\r\n\t\t}\r\n\t\tlet height = getHeight(this.cy.getElementById(\"1\"));\r\n\r\n\t\tlet sep = (1 << height) * 5;\r\n\r\n\t\tconst setSep = (node: CytoscapeElement, nx: number, ny: number, sep: number) => {\r\n\t\t\tlayoutOptions.positions[node.id()] = { x: nx, y: ny }\r\n\t\t\tnode.data('position', {x: nx, y: ny});\r\n\t\t\tconst popper = this.cy.getElementById(node.id() + '-popper');\r\n\t\t\tlayoutOptions.positions[popper.id()] = { x: nx, y: ny + 32 }\r\n\t\t\tpopper.data('position', {x: nx, y: ny+32});\r\n\t\t\tif (node.outgoers('node').length) setSep(node.outgoers('node')[0], nx - sep, ny + 50, sep / 2);\r\n\t\t\tif (node.outgoers('node').length === 2) setSep(node.outgoers('node')[1], nx + sep, ny + 50, sep / 2);\r\n\t\t}\r\n\t\tconst vw = this.cy.width(), vh = this.cy.height();\r\n\t\tsetSep(this.cy.getElementById(\"1\"), vw / 2, vh / 4, sep);\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tinsert(val = 0) {\r\n\t\tif (this.props.animation) {\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.CHANGE_PSEUDO,\r\n\t\t\tpayload: {\r\n\t\t\t\tpseudo: insert,\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.pushState();\r\n\r\n\t\tthis.buffer = this.heapProcessor.insert(val);\r\n\t\tconsole.log(this.buffer);\r\n\t\tthis.executeAnimation();\r\n\t}\r\n\r\n\tremove = () => {\r\n\t\tif (this.props.animation) {\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.CHANGE_PSEUDO,\r\n\t\t\tpayload: {\r\n\t\t\t\tpseudo: remove,\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.pushState();\r\n\r\n\t\tthis.buffer = this.heapProcessor.remove();\r\n\t\tconsole.log(this.buffer);\r\n\t\tthis.executeAnimation();\r\n\t}\r\n\r\n\tchangeArray(values: Array<number>) {\r\n\t\tthis.pushState();\r\n\r\n\t\tthis.cy.nodes().forEach((node: CytoscapeElement) => {\r\n\t\t\tthis.cy.remove(node);\r\n\t\t});\r\n\t\tthis.heapProcessor.heap.clear();\r\n\t\tfor(let i = 1; i < values.length; i++){\r\n\t\t\tthis.addNode(i.toString(), values[i]);\r\n\t\t}\r\n\t\tfor(let i = 1; 2*i < values.length; i++){\r\n\t\t\tthis.cy.add({\r\n\t\t\t\tgroup: 'edges',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: i.toString() + '-' + (2*i).toString(),\r\n\t\t\t\t\tsource: i.toString(),\r\n\t\t\t\t\ttarget: (2*i).toString(),\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tfor(let i = 1; 2*i+1 < values.length; i++){\r\n\t\t\tthis.cy.add({\r\n\t\t\t\tgroup: 'edges',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: i.toString() + '-' + (2*i+1).toString(),\r\n\t\t\t\t\tsource: i.toString(),\r\n\t\t\t\t\ttarget: (2*i+1).toString(),\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tthis.refreshLayout();\r\n\t\tthis.heapProcessor.loadGraph(this.exportGraph());\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<InputHeapModal\r\n\t\t\t\t\tshow={this.state.show}\r\n\t\t\t\t\tchangeArray={(values: Array<number>) => this.changeArray(values)}\r\n\t\t\t\t\thandleClose={() => this.setState({ show: false })}\r\n\t\t\t\t/>\r\n\t\t\t\t<InputModal\r\n\t\t\t\t\tshow={this.state.showInsertModal}\r\n\t\t\t\t\thandleClose={() => this.setState({ showInsertModal: false })}\r\n\t\t\t\t\tcallback={(v: number) => this.insert(v)}\r\n\t\t\t\t/>\r\n\t\t\t\t<div id=\"canvas\" className='standard-struct' />\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(Heap);","const algorithmRoutes = {\r\n  BFS: '/bfs',\r\n  DFS: '/dfs',\r\n  Dijkstra: '/dijkstra',\r\n  BellmanFord: '/bellman-ford',\r\n  Kruskal: '/kruskal',\r\n  Prim: '/prim',\r\n  BubbleSort: '/bubblesort',\r\n  MergeSort: '/mergesort',\r\n  BinarySearch: '/busqueda-binaria',\r\n  SingleLinkedList: '/lista-enlazada',\r\n  DoubleLinkedList: '/lista-doblemente-enlazada',\r\n  Queue: '/cola',\r\n  Stack: '/pila',\r\n  MinHeap: '/minheap',\r\n  AVL: '/avl',\r\n};\r\n\r\nexport default algorithmRoutes;","import React, { FunctionComponent } from 'react';\r\nimport actions from '../Actions/actions';\r\nimport {Row, Col} from 'react-bootstrap';\r\nimport BFS from '../static/images/graph3.png';\r\nimport AVL from '../static/images/AVL.png';\r\nimport ArrayPic from '../static/images/array.png';\r\nimport routes from '../resources/names_and_routes/algorithm_routes';\r\nconst { connect } = require('react-redux');\r\nconst {\r\n\tNavLink,\r\n\tHashRouter\r\n} = require('react-router-dom');\r\n\r\ntype Props = {\r\n  dispatch: (action:Object) => void,\r\n}\r\n\r\ntype ThumbProps = {\r\n  imgSrc: string,\r\n  title: string,\r\n}\r\nconst AlgoThumb:FunctionComponent<ThumbProps> = ({imgSrc, title, children}) => {\r\n  return (\r\n    <div className='algoThumbnail'>\r\n      {children}\r\n      <div className='algoPicture' style={{height: '65%'}}>\r\n        <img src={imgSrc} height={'100%'} width={'100%'}></img>\r\n      </div>\r\n      <div className='algoName'>\r\n        {title}\r\n      </div>\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\nclass Home extends React.Component<Props> {\r\n  componentDidMount(){\r\n    this.props.dispatch({\r\n      type: actions.HOME,\r\n    });\r\n  }\r\n\r\n  render(){\r\n    return (\r\n    <HashRouter>\r\n      <div id='home'>\r\n        <div className='home-title'>\r\n          <Row>\r\n            <Col>\r\n                <h1>Bienvenido a CytoAyed!</h1>\r\n                <h2>Aqu podrs visualizar y obtener informacin sobre diferentes algoritmos y estructuras de datos</h2>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n        <div className='home-content'>\r\n          <Row>\r\n            <Col md={4}>\r\n              <AlgoThumb imgSrc={BFS} title='Algoritmos sobre grafos'>\r\n                <div className='thumb-menu'>\r\n                  <NavLink to={routes.BFS}><button>Busqueda en Anchura</button></NavLink>\r\n                  <NavLink to={routes.DFS}><button>Busqueda en Profundidad</button></NavLink>\r\n                  <NavLink to={routes.Dijkstra}><button>Camino minimo - Dijkstra</button></NavLink>\r\n                  <NavLink to={routes.BellmanFord}><button>Camino minimo - Bellman-Ford</button></NavLink>\r\n                  <NavLink to={routes.Kruskal}><button>Arbol Recubridor Minimo - Kruskal</button></NavLink>\r\n                  <NavLink to={routes.Prim}><button>Arbol Recubridor Minimo - Prim</button></NavLink>\r\n                </div>\r\n              </AlgoThumb>\r\n            </Col>\r\n            \r\n            <Col md={4}>\r\n              <AlgoThumb imgSrc={AVL} title='Estructuras de datos'>\r\n                <div className='thumb-menu'>\r\n                  <NavLink to={routes.MinHeap}><button>Heap minimo</button></NavLink>\r\n                  <NavLink to={routes.AVL}><button>Arbol Binario de Busqueda AVL</button></NavLink>\r\n                  <NavLink to={routes.SingleLinkedList}><button>Listas Enlazadas</button></NavLink>\r\n                </div>\r\n              </AlgoThumb>\r\n            </Col>\r\n            \r\n            <Col md={4}>\r\n              <AlgoThumb imgSrc={ArrayPic} title='Algoritmos sobre arreglos'>\r\n                <div className='thumb-menu'>\r\n                  <NavLink to={routes.BinarySearch}><button>Ordenamiento Burbuja</button></NavLink>\r\n                  <NavLink to={routes.MergeSort}><button>Ordenamiento por Mezcla</button></NavLink>\r\n                  <NavLink to={routes.BinarySearch}><button>Busqueda Binaria</button></NavLink>\r\n                </div>\r\n              </AlgoThumb>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n      </div>\r\n    </HashRouter>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect()(Home);","export function isLeaf(node){\r\n  return node.outgoers('node').length === 0;\r\n}\r\n\r\nexport function getChildren(node){\r\n  let left = null, right = null;\r\n  let outgoers = node.outgoers('node');\r\n\r\n  if (outgoers.length >= 1) left = outgoers[0];\r\n  if (outgoers.length === 2) right = outgoers[1];\r\n  if (left != null && right != null && left.data('value') > right.data('value')) {\r\n    [left, right] = [right, left];\r\n  }else if(left != null && left.data('value') > node.data('value')){\r\n    [left, right] = [right, left];\r\n  }else if(right != null && right.data('value') < node.data('value')){\r\n    [left, right] = [right,left];\r\n  }\r\n\r\n  return [left, right];\r\n}\r\n\r\n\r\nexport function lca(cy, x, y){\r\n  while(x.id() !== y.id()){\r\n    if(x.data('depth') < y.data('depth')) y = cy.getElementById(y.data('prev'));\r\n    else if(x.data('depth') > y.data('depth')) x = cy.getElementById(x.data('prev'));\r\n    else{\r\n      x = cy.getElementById(x.data('prev'));\r\n      y = cy.getElementById(y.data('prev'));\r\n    }\r\n  }\r\n  return x;\r\n}\r\nfunction leftmost(node){\r\n  while(true){\r\n    const left = getChildren(node)[0];\r\n    if(left == null) return node;\r\n    node = left;\r\n  }\r\n}\r\n\r\nexport function inorderSuccessor(node){\r\n  const right = getChildren(node)[1];\r\n  return leftmost(right);  \r\n}\r\n\r\nexport function getHeight(node){\r\n  if(!node) return 0;\r\n  return node.data('height');\r\n}\r\n\r\nexport function validateAVL(text, addNode, addEdge, clearGraph){\r\n  let pos = 0, n = text.length, id = 0;\r\n  const nodes = [], edges = [];\r\n  const recursion = (min, max, parent=-1) => {\r\n    if(text[pos] === '.'){\r\n      pos++;\r\n      return {correct: true, height: 0, balance: 0};\r\n    }\r\n    let sign = 1;\r\n    if(text[pos] === '-'){\r\n      sign = -1; pos++;\r\n    }\r\n    if(pos === n || text[pos] < '0' || text[pos] > '9'){\r\n      return {correct: false};\r\n    }\r\n    let value = 0;\r\n    while(pos < n && text[pos] >= '0' && text[pos] <= '9'){\r\n      value = (value*10) + parseInt(text[pos++]);\r\n    }\r\n    value = value*sign;\r\n    if(value <= min || value >= max) return {correct: false}\r\n    const current = id++;\r\n    if(pos === n || text[pos] !== '(') return {correct: false}\r\n    pos++;\r\n    const left = recursion(min, value, current);\r\n    if(!left.correct || pos === n || text[pos] !== ')') return {correct: false}\r\n    pos++;\r\n    if(pos === n || text[pos] !== '(') return {correct: false}\r\n    pos++;\r\n    const right = recursion(value, max, current);\r\n    if(!right.correct || pos === n || text[pos] !== ')') return {correct: false}\r\n    pos++;\r\n\r\n    const height = Math.max(left.height, right.height) + 1;\r\n    const balance = right.height - left.height;\r\n\r\n    if(Math.abs(balance) > 1) return {correct: false};\r\n    nodes.push({id: current.toString(), value, height, balance});\r\n    if(parent !== -1){\r\n      edges.push({\r\n        source: parent.toString(),\r\n        target: current.toString(),\r\n      });\r\n    }\r\n    return {correct: true, height, balance};\r\n  }\r\n\r\n  const valid = recursion(-Infinity, Infinity);\r\n  if(!valid || pos !== n){\r\n    return false;\r\n  }\r\n\r\n  clearGraph();\r\n  nodes.forEach(node => {\r\n    addNode(node.id, node.value, node.height, node.balance);\r\n  });\r\n  edges.forEach(edge => {\r\n    addEdge(edge.source, edge.target);\r\n  });\r\n\r\n  return true;\r\n}\r\n\r\nexport function parseAVL(root){\r\n  let output = \"\";\r\n  if(root.length === 0) return output;\r\n  const recursion = node => {\r\n    if(!node){\r\n      output += \".\";\r\n      return;\r\n    }\r\n    output += node.data('value').toString();\r\n    const [left, right] = getChildren(node);\r\n    output += \"(\"; recursion(left); output += \")\";\r\n    output += \"(\"; recursion(right); output += \")\";\r\n  }\r\n\r\n  recursion(root);\r\n\r\n  let link = document.createElement('a');\r\n  link.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(output));\r\n  link.setAttribute('download', 'avl.txt');\r\n  link.setAttribute('target', '_blank');\r\n  link.style.display = 'none';\r\n  document.body.appendChild(link);\r\n  link.click();\r\n  document.body.removeChild(link);\r\n  return output;\r\n}\r\n","import React, { ReactElement } from 'react';\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport { Button, FormControl } from 'react-bootstrap';\r\nimport {validateAVL} from '../utils/avl-utils';\r\nimport actions from '../Actions/actions';\r\n\r\nconst {connect} = require('react-redux');\r\ntype Props = {\r\n  show: boolean,\r\n  handleClose: (update?: boolean) => void,\r\n  addNode: (id: string, value: number) => void,\r\n  addEdge: (source: string, target: string) => void,\r\n  clearGraph: () => void,\r\n  dispatch: (action:Object) => void,\r\n}\r\ntype State = {\r\n  text: string,\r\n}\r\nclass InputAVLModal extends React.Component<Props, State>{\r\n\r\n  state = {\r\n    text: '',\r\n  }\r\n\r\n  uploadGraph = () => {\r\n    const input = (document.getElementById('AVLUploadInput') as HTMLInputElement);\r\n    if(input.files){\r\n      const file = input.files[0];\r\n      const reader = new FileReader();\r\n      reader.onload = () => {\r\n        if(typeof reader.result === 'string'){\r\n          const text = reader.result;\r\n          this.validateArray(text);\r\n        }\r\n      }\r\n      reader.readAsText(file);\r\n    }\r\n  }\r\n\r\n  validateArray(text: string) {\r\n    const {addNode, addEdge, clearGraph} = this.props;\r\n    let regex = /^([^0-9().-]|([0-9]{4,})|([.]{2,}))/;\r\n    if (text && regex.test(text)) {\r\n      this.props.dispatch({type: actions.INVALID_AVL_ERROR})\r\n      return false;\r\n    } else {\r\n      if(validateAVL(text, addNode, addEdge, clearGraph)) this.props.handleClose(true);\r\n      else{\r\n        this.props.dispatch({type: actions.INVALID_AVL_ERROR})\r\n      }\r\n    }\r\n  }\r\n\r\n  handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    this.setState({text: e.currentTarget.value});\r\n  }\r\n\r\n  handleCancel = () => {\r\n    this.props.handleClose();\r\n  }\r\n  render(){\r\n    const {show, handleClose} = this.props;\r\n    return (\r\n      <Modal show={show} onHide={handleClose}>\r\n        <Modal.Header className='modal-header' closeButton>\r\n          <Modal.Title>Seleccione un archivo</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <p>El archivo debe contener un arbol AVL valido, previamente descargado</p>\r\n          <input type=\"file\" id=\"AVLUploadInput\"/>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={this.handleCancel}>\r\n            Cancelar\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={this.uploadGraph}>\r\n            Aceptar\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect()(InputAVLModal);","export function edgeId(x, y){\r\n  return x + '-' + y;\r\n}","export const insert = [\r\n  {text: 'insertar(nodo u, entero v):', ind: 0},\r\n  {text: 'Si u == NULL', ind: 1},\r\n  {text: 'u = nuevo nodo(v)', ind: 2},\r\n  {text: 'Sino si v < u.valor:', ind: 1},\r\n  {text: 'insertar(u.hijoIzquierdo, v)', ind: 2},\r\n  {text: 'Sino si v > u.valor:', ind: 1},\r\n  {text: 'insertar(u.hijoDerecho, v)', ind: 2},\r\n];\r\n\r\nexport const remove = [\r\n  { text: 'eliminar(nodo u):', ind: 0},\r\n  { text: 'Si es_hoja(u): borrar u', ind: 1},\r\n  { text: 'Sino: ', ind: 1},\r\n  { text: 'Si hijos(u) == 1:', ind: 2},\r\n  { text: 'eliminar(hijo(u))', ind: 3},\r\n  { text: 'Sino: ', ind: 2},\r\n  { text: 'nodo s = sucesor(u)', ind: 3},\r\n  { text: 'intercambiar(u.valor, s.valor)', ind: 3},\r\n  { text: 'borrar s', ind: 3},\r\n];\r\n\r\nexport const balance = [\r\n  { text: 'balancear(nodo u)', ind: 0},\r\n  { text: 'Caso 0: u esta balanceado', ind: 1},\r\n  { text: 'Caso 1: factor(u)==2 y factor(u.hijoDerecho)>=0', ind: 1},\r\n  { text: 'rotacionIzquierda(u)', ind: 2},\r\n  { text: 'Caso 2: factor(u)==-2 y factor(u.hijoIzquierdo)<=0', ind: 1},\r\n  { text: 'rotacionDerecha(u)', ind: 2},\r\n  { text: 'Caso 3: factor(u)==2 y factor(u.hijoIzquierdo)<0', ind: 1},\r\n  { text: 'rotacionDerecha(u.hijoDerecho), rotacionIzquierda(u)', ind: 2},\r\n  { text: 'Caso 4: factor(u)==-2 y factor(u.hijoDerecho)>0', ind: 1},\r\n  { text: 'rotacionIzquierda(u.hijoIzquiedo), rotacionDerecha(u)', ind: 2},\r\n];\r\n\r\nexport const search = [\r\n  {text: 'buscar(nodo u, entero v):', ind: 0},\r\n  {text: 'Si u == NULL: retornar Falso', ind: 1},\r\n  {text: 'Si v == u.valor: retornar Verdadero', ind: 1},\r\n  {text: 'Si v < u.valor:', ind: 1},\r\n  {text: 'buscar(u.hijoIzquierdo, v)', ind: 2},\r\n  {text: 'Sino:', ind: 1},\r\n  {text: 'buscar(u.hijoDerecho, v)', ind: 2},\r\n];\r\n\r\nexport const avl = [\r\n  { text: 'AVL{', ind: 0},\r\n  { text: 'Nodo raiz', ind: 1},\r\n  { text: 'insertar(nodo u, entero v)', ind: 1},\r\n  { text: 'eliminar(nodo u)', ind: 1},\r\n  { text: 'buscar(nodo u, entero v)', ind: 1},\r\n  { text: 'balancear(nodo u)', ind: 1},\r\n  { text: 'sucesor(nodo u)', ind: 1},\r\n  { text: '}', ind: 0},\r\n]","import { CytoscapeElement, CytoEvent, AnimationStep } from '../Types/types';\r\nimport { getChildren, lca, getHeight, isLeaf } from '../utils/avl-utils';\r\nimport {edgeId} from '../utils/cy-utils';\r\nimport {insert, remove, balance, search} from '../resources/pseudocodes/avl';\r\nconst Styles = require('../Styles/Styles');\r\nconst cytoscape = require('cytoscape');\r\nconst { connect } = require('react-redux');\r\n\r\ntype exportStep = {\r\n  elements: Array<Object>\r\n  lines: Array<number>,\r\n  duration: number,\r\n  pseudo?: Array<Object>,\r\n  treeRoot: string,\r\n  refresh?: boolean,\r\n}\r\nclass AVLProcessor { \r\n\r\n  cy = cytoscape();\r\n  vh:number;\r\n  vw:number;\r\n  treeRoot:string=\"\";\r\n\r\n  buffer:Array<exportStep> = [];\r\n\r\n  pseudo:Array<Object> = [];\r\n  constructor(vw: number, vh: number){\r\n    this.vh = vh; this.vw = vw; \r\n  }\r\n\r\n  loadGraph(elements:Array<Object>, root: string){\r\n    this.cy = cytoscape({\r\n      elements: JSON.parse(JSON.stringify(elements)),\r\n    });\r\n    this.cy.nodes().forEach((node:CytoscapeElement) => {\r\n      if(!node.id().match('popper')){\r\n        node.data('style', Styles.NODE);\r\n      }else{\r\n        node.data('style', Styles.NODE_POPPER);\r\n      }\r\n    });\r\n    this.treeRoot = root;\r\n  }\r\n  exportGraph(updateLayout=true){\r\n\t\tconst elements:Array<Object> = [];\r\n    if(updateLayout) this.layoutProcessing();\r\n\t\tthis.cy.nodes().forEach((node:CytoscapeElement) => {\r\n      let prev = node.data('prevPosition');\r\n      if(!prev) prev = node.data('position');\r\n\t\t\telements.push({\r\n\t\t\t\tgroup: 'nodes',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: node.id(),\r\n          value: node.data('value'),\r\n          prev: node.data('prev'),\r\n          height: node.data('height'),\r\n          balance: node.data('balance'),\r\n          position: node.data('position'),\r\n          style: node.data('style'),\r\n\t\t\t\t},\r\n\t\t\t\tposition: prev,\r\n\t\t\t});\r\n\t\t});\r\n\t\tthis.cy.edges().forEach((edge:CytoscapeElement) => {\r\n\t\t\telements.push({\r\n\t\t\t\tgroup: 'edges',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: edge.id(),\r\n\t\t\t\t\tsource: edge.source().id(), target: edge.target().id(),\r\n          weight: edge.data('weight'),\r\n          style: edge.data('style'),\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t\treturn elements;\r\n  }\r\n\r\n  pushStep(lines:Array<number> = [], duration:number = 1000, refresh=true){\r\n    this.buffer.push({\r\n      elements: this.exportGraph(refresh),\r\n      lines,\r\n      duration,\r\n      treeRoot: this.treeRoot,\r\n      pseudo: this.pseudo,\r\n    })\r\n  }\r\n  createPopper(nodeId: string){\r\n\t\tconst ele = this.cy.getElementById(nodeId);\r\n\t\tconst position = ele.data('position');\r\n\t\tthis.cy.add({\r\n\t\t\tgroup: 'nodes',\r\n\t\t\tdata: {\r\n        id : nodeId+'-popper', \r\n        style: Styles.NODE_POPPER,\r\n        position: {\r\n          x: position.x,\r\n          y: position.y+30,\r\n        },\r\n      },\r\n\t\t\tposition: {\r\n\t\t\t\tx: position.x,\r\n\t\t\t\ty: position.y+30,\r\n\t\t\t},\r\n\t\t});\r\n  }\r\n  \r\n  addNode = (id: string, value: number, height:number=0, balance:number=0, position:{x:number, y:number}={x:0,y:0}) => {\r\n    this.cy.add({\r\n      group: 'nodes',\r\n      data: {\r\n        id,\r\n        value,\r\n        height,\r\n        balance,\r\n        position: { x: position.x, y: position.y },\r\n      },\r\n      position: {\r\n        x: position.x,\r\n        y: position.y,\r\n      }\r\n    });\r\n    this.createPopper(id);\r\n  }\r\n\r\n  propagate(node: CytoscapeElement | null, val: number){\r\n    if(node == null) return;\r\n    node.data('X', node.data('X') + val);\r\n    const [left, right] = getChildren(node);\r\n    if(left) this.propagate(left, val);\r\n    if(right) this.propagate(right, val);\r\n  }\r\n\r\n  layoutProcessing() {\r\n\r\n    if(this.treeRoot === '') return;\r\n    const levels:{[lvl: number]: Array<string>} = {};\r\n\r\n    const dfs = (node: CytoscapeElement, depth: number, x: number) => {\r\n      console.log(node.data('value'));\r\n      node.data('depth', depth);\r\n      node.data('X', x);\r\n      \r\n      if(levels[depth] === undefined) levels[depth] = Array();\r\n      levels[depth].push(node.id());\r\n\r\n      let [left, right] = getChildren(node);\r\n      let hleft = 0, hright = 0;\r\n      if(left) hleft = dfs(left, depth+1, x-1);\r\n      if(right) hright = dfs(right, depth+1, x+1);\r\n\r\n      let bal = hright - hleft;\r\n      let popper = this.cy.getElementById(node.id() + '-popper');\r\n      popper.data('value', bal);\r\n      return Math.max(hleft, hright)+1;\r\n    }\r\n\r\n    let height = dfs(this.cy.getElementById(this.treeRoot), 0, 0);\r\n    let iter = 0;\r\n    while(iter++ < 1000){\r\n      let correct = true;\r\n      for(let i = height-1; i >= 0; i--){\r\n        const current = levels[i];\r\n        for(let j = 0; j < current.length - 1; j++){\r\n          const a = this.cy.getElementById(current[j]);\r\n          const b = this.cy.getElementById(current[j+1]);\r\n          if(a.data('X') + 1 >= b.data('X')){\r\n            const anc = lca(this.cy, a, b);\r\n            const [left, right] = getChildren(anc);\r\n            const dif = Math.max(a.data('X') - b.data('X'), 1);\r\n            this.propagate(left, -dif);\r\n            this.propagate(right, dif);\r\n            correct = false;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      if(correct) break;\r\n    }\r\n    if(iter === 1001){\r\n      console.error('ALERT, INFINITE LOOP AVOIDED');\r\n    }\r\n\r\n    const setSep = (node: CytoscapeElement, nx: number, ny: number) => {\r\n      const prevPosition = node.data('position');\r\n      node.data('prevPosition', prevPosition);\r\n      node.data('position', { x: node.data('X')*30 + nx, y: ny });\r\n      const popper = this.cy.getElementById(node.id() + '-popper');\r\n      const prevPopPosition = popper.data('position');\r\n      popper.data('prevPosition', prevPopPosition);\r\n\t\t\tpopper.data('position', {x: node.data('X')*30 + nx, y: ny + 32});\r\n      let [left, right] = getChildren(node);\r\n      if (left) setSep(left, nx, ny + 50);\r\n      if (right) setSep(right, nx, ny + 50);\r\n    }\r\n\r\n    const vw = this.vw, vh = this.vh;\r\n    setSep(this.cy.getElementById(this.treeRoot), vw / 2, vh / 4);\r\n    return true;\r\n  }\r\n\r\n  addEdge = (source: string, target: string) => {\r\n    this.cy.add({\r\n      group: 'edges',\r\n      data: {\r\n        id: edgeId(source, target), source, target,\r\n      }\r\n    });\r\n    this.cy.getElementById(target).data('prev', source);\r\n  }\r\n\r\n  removeEdge = (source: string, target: string) => {\r\n    this.cy.remove('edge[id=\"'+edgeId(source, target)+'\"]');\r\n  }\r\n\r\n  rotateLeft(x: CytoscapeElement){\r\n    const [y, C] = getChildren(x);\r\n    if(y == null) return;\r\n    const [A, B] = getChildren(y);\r\n    this.removeEdge(x.id(), y.id());\r\n    if(B){\r\n      this.removeEdge(y.id(), B.id());\r\n      this.addEdge(x.id(), B.id());\r\n      //B.data('prev', x.id());\r\n    }\r\n    const prev = x.data('prev');\r\n    this.addEdge(y.id(), x.id());\r\n\r\n    if(this.treeRoot !== x.id()){\r\n      this.removeEdge(prev, x.id());\r\n      this.addEdge(prev, y.id());\r\n      //y.data('prev', prev);\r\n    }else{\r\n      this.treeRoot = y.id();\r\n      console.log(this.treeRoot);\r\n    }\r\n    //x.data('prev', y.id());\r\n\r\n    x.data('height', Math.max(getHeight(B), getHeight(C))+1);\r\n    y.data('height', Math.max(getHeight(A), getHeight(x))+1);\r\n    x.data('balance', getHeight(C)-getHeight(B));\r\n    y.data('balance', getHeight(x) - getHeight(A));\r\n    this.pushStep([], 1000);\r\n  }\r\n\r\n rotateRight(y: CytoscapeElement){\r\n    const [A, x] = getChildren(y);\r\n    if(x == null) return;\r\n    const [B, C] = getChildren(x);\r\n    this.removeEdge(y.id(), x.id());\r\n    if(B){\r\n      this.removeEdge(x.id(), B.id());\r\n      this.addEdge(y.id(), B.id());\r\n      //B.data('prev', y.id());\r\n    }\r\n    const prev = y.data('prev');\r\n    this.addEdge(x.id(), y.id());\r\n    \r\n    if(this.treeRoot !== y.id()){\r\n      this.removeEdge(prev, y.id());\r\n      this.addEdge(prev, x.id());\r\n      //x.data('prev', prev);\r\n    }else{\r\n      this.treeRoot = x.id();\r\n      console.log(this.treeRoot);\r\n    }\r\n    //y.data('prev', x.id());\r\n\r\n    y.data('height', Math.max(getHeight(A), getHeight(B))+1);\r\n    x.data('height', Math.max(getHeight(y), getHeight(C))+1);\r\n    y.data('balance', getHeight(B) - getHeight(A));\r\n    x.data('balance', getHeight(C) - getHeight(y));\r\n    this.pushStep();\r\n  }\r\n  balance(start: CytoscapeElement){\r\n    let node = start;\r\n    /*\r\n    this.props.dispatch({\r\n      type: actions.CHANGE_PSEUDO,\r\n      payload: {\r\n        pseudo: balance,\r\n      }\r\n    });\r\n    */\r\n    //this.props.dispatch({type: actions.CHANGE_LINE, payload: { lines: []}});\r\n    this.pseudo = balance;\r\n    this.pushStep();\r\n\r\n    const recursion = () => {\r\n      const [left, right] = getChildren(node);\r\n      const lh = getHeight(left), rh = getHeight(right);\r\n      node.data('height', Math.max(lh, rh)+1);\r\n      const bal = rh - lh;\r\n      node.data('balance', bal);\r\n      if(bal === 2){\r\n        if(right.data('balance') >= 0){\r\n          this.pushStep([2,3]);\r\n          //this.props.dispatch({type: actions.CHANGE_LINE, payload: { lines: [2, 3]}});\r\n          this.rotateRight(node);\r\n        }else{\r\n          this.pushStep([6,7]);\r\n          //this.props.dispatch({type: actions.CHANGE_LINE, payload: { lines: [6, 7]}});\r\n          this.rotateLeft(right);\r\n          this.rotateRight(node);\r\n        }\r\n      }else if(bal === -2){\r\n        if(left.data('balance') <= 0){\r\n          this.pushStep([4,5]);\r\n          this.rotateLeft(node);\r\n        }else{\r\n          this.pushStep([8,9]);\r\n          this.rotateRight(left);\r\n          this.rotateLeft(node);\r\n        }\r\n      }else{\r\n        this.pushStep([1]);\r\n      }\r\n      if(node.id() !== this.treeRoot){\r\n        node.data('style', Styles.NODE);\r\n        node = this.cy.getElementById(node.data('prev'));\r\n        node.data('style', {\r\n          'background-color': 'red',\r\n          'color': 'black',\r\n        })\r\n        recursion();\r\n      }\r\n    }  \r\n    this.pushStep([1]);\r\n    //this.props.dispatch({type: actions.CHANGE_LINE, payload: {lines: [1]}});\r\n    \r\n    node.data('style', {\r\n      'background-color': 'red',\r\n      'color': 'black',\r\n    })\r\n    \r\n    //setTimeout(recursion, 1000/this.props.speed);\r\n    recursion();\r\n  }\r\n\r\n  insert(value: number) {\r\n    this.buffer = [];\r\n    let id = 0;\r\n    while(this.cy.getElementById(id.toString()).length > 0) id++;\r\n    let n = this.cy.nodes().length/2 + 1;\r\n    let newNode:(CytoscapeElement | null) = null;\r\n    this.pseudo = insert;\r\n    this.pushStep();\r\n\r\n    if(n > 1){\r\n      let insertion = (current: CytoscapeElement, prev: CytoscapeElement | null) => {\r\n        console.log(current);\r\n        \r\n        if(prev) prev.data('style',{\r\n          'color': 'black',\r\n          'background-color': 'white',\r\n        });\r\n        \r\n        if(current){\r\n          \r\n          current.data('style', {\r\n            'color': 'white',\r\n            'background-color': 'black',\r\n          });\r\n          \r\n          let [left, right] = getChildren(current);\r\n          if (value < current.data('value')) {\r\n            this.pushStep([3, 4]);\r\n            //this.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines: [3, 4]}});\r\n            //setTimeout(insertion, 1000/this.props.speed, left, current);  \r\n            insertion(left, current);\r\n          } else {\r\n            this.pushStep([5, 6]);\r\n            //this.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines: [5, 6]}});\r\n            //setTimeout(insertion, 1000/this.props.speed, right, current);\r\n            insertion(right, current);\r\n          }\r\n        }else{\r\n          //this.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines: [1, 2]}});\r\n          if(prev){\r\n            this.addNode(id.toString(), value, 0, 0, prev.data('position'));\r\n            newNode = this.cy.getElementById(id.toString());\r\n            if(newNode){\r\n              this.addEdge(prev.id(), newNode.id());\r\n              newNode.data(\r\n                'prev', prev.id(),\r\n              );\r\n            }\r\n          }\r\n          this.pushStep([1,2]);\r\n          //this.refreshLayout();\r\n          //setTimeout(resolve, 1000/this.props.speed, null);\r\n        } \r\n      }\r\n      insertion(this.cy.getElementById(this.treeRoot), null);\r\n    }else{\r\n      this.addNode(id.toString(), value);\r\n      newNode = this.cy.getElementById(id.toString());\r\n      this.treeRoot = id.toString();\r\n      this.pushStep([1,2]);\r\n    }\r\n    if(newNode) this.balance(newNode);\r\n    this.cy.nodes().forEach((node:CytoscapeElement) => {\r\n      if(!node.id().match('popper')) node.data('style', Styles.NODE);\r\n    })\r\n    this.pushStep();\r\n    return this.buffer;\r\n  }\r\n\r\n  search(value: number){\r\n    this.buffer = [];\r\n    this.pseudo = search;\r\n    this.pushStep();\r\n\r\n    let found = false;\r\n    const bsearch = (node: CytoscapeElement | null, prev: CytoscapeElement | null) => {\r\n      if(prev){\r\n        prev.data('style',{\r\n          'background-color': 'white',\r\n          'color': 'black',\r\n        });\r\n      }\r\n      if(node){\r\n        node.data('style', {\r\n          'background-color': 'black',\r\n          'color': 'white',\r\n        });\r\n        const [left, right] = getChildren(node);\r\n        if(node.data('value') === value){\r\n          node.data('style',{\r\n            'background-color': 'lightgreen',\r\n            'color': 'black',\r\n          });\r\n          found = true;\r\n          this.pushStep([2]);\r\n\r\n          //setTimeout(bsearch, 1000/this.props.speed, null, node);\r\n          bsearch(null, node);\r\n        }else if(node.data('value') < value){\r\n          this.pushStep([5,6]);\r\n          bsearch(right, node);\r\n        }else{\r\n          this.pushStep([3,4]);\r\n          bsearch(left, node);\r\n        }\r\n      }\r\n    }\r\n    if(this.treeRoot === ''){\r\n      this.pushStep([1]);\r\n    }else{\r\n      bsearch(this.cy.getElementById(this.treeRoot), null);\r\n      this.cy.nodes().forEach((node:CytoscapeElement) => {\r\n        if(!node.id().match('popper')) node.data('style', Styles.NODE);\r\n      });\r\n    }\r\n    this.pushStep();\r\n    return {found, buffer: this.buffer}\r\n  }\r\n\r\n  inorderSuccessor(node: CytoscapeElement){\r\n    this.pushStep();\r\n    let suc = node;\r\n    const getNext = (node: CytoscapeElement, prev: CytoscapeElement | null) => {\r\n      if(prev){\r\n        prev.data('style', {\r\n          'background-color': 'white',\r\n          'color': 'black',\r\n        });\r\n        suc = prev;\r\n      }\r\n      if(node){\r\n        node.data('style', {\r\n          'background-color': 'red',\r\n          'color' : 'black',\r\n        });\r\n        const left = getChildren(node)[0];\r\n        this.pushStep();\r\n        getNext(left, node);\r\n      }\r\n    }\r\n    let right = getChildren(node)[1];\r\n    node = right;\r\n    getNext(node, null);\r\n    return suc;\r\n  }\r\n  \r\n  removeNodePopper(node: string) {\r\n    this.cy.remove(this.cy.getElementById(node + '-popper'));\r\n\t}\r\n\r\n  removeNode = (node: CytoscapeElement) => {\r\n    let id = node.id();\r\n    this.cy.remove(node);\r\n    this.removeNodePopper(id);\r\n  }\r\n  \r\n  remove = (value: number) => {\r\n    this.buffer = [];\r\n    this.search(value);\r\n    this.pseudo = remove;\r\n    let node = this.cy.getElementById(this.treeRoot);\r\n    let found = false;\r\n    this.cy.nodes().forEach((ele:CytoscapeElement) => {\r\n      if(!ele.id().match('popper') && ele.data('value') === value){\r\n        node = ele;\r\n        found = true;\r\n      }\r\n    });\r\n    if(!found) return this.buffer;\r\n    let anc = '';\r\n\r\n    this.pushStep();\r\n\r\n    if(isLeaf(node)){\r\n      if(node.id() !== this.treeRoot) anc = node.data('prev');\r\n      this.removeNode(node);\r\n      this.pushStep([1]);\r\n      if(anc !== '') this.balance(this.cy.getElementById(anc));\r\n    }else if(node.outgoers('node').length === 1){\r\n      //this.props.dispatch({type: actions.CHANGE_LINE, payload: {lines: [3, 4]}});\r\n      if(node.id() === this.treeRoot){\r\n        this.treeRoot = node.outgoers('node')[0].id();\r\n        anc = this.treeRoot;\r\n        this.removeNode(node);\r\n        this.pushStep([3,4]);\r\n      }else{\r\n        let prev = '';\r\n        prev = node.data('prev');\r\n        const newChild = node.outgoers('node')[0];\r\n        newChild.data(prev);\r\n        this.removeNode(node);\r\n        this.addEdge(prev, newChild.id());\r\n        anc = newChild.id();\r\n        this.pushStep([3,4]);\r\n      }\r\n      this.balance(this.cy.getElementById(anc));\r\n    }else{\r\n      this.pushStep([6]);\r\n      const suc = this.inorderSuccessor(node);\r\n      console.log('NODE', node);\r\n      console.log('SUC', suc);\r\n      this.pushStep([7,8]);\r\n      node.data('value', suc.data('value'));\r\n      suc.data('value', value);\r\n      this.pushStep([7,8], 1000, false);\r\n\r\n      if(!isLeaf(suc)){\r\n        console.log(\"ERROR\");\r\n        console.log(getChildren(suc));\r\n        const right = getChildren(suc)[1];\r\n        right.data('prev', suc.data('prev'));\r\n        this.addEdge(suc.data('prev'), right.id());\r\n      }\r\n      anc = suc.data('prev');\r\n      this.removeNode(suc);\r\n      this.pushStep();\r\n      this.balance(this.cy.getElementById(anc))\r\n    }\r\n    this.cy.nodes().forEach((node:CytoscapeElement) => {\r\n      if(!node.id().match('popper')) node.data('style', Styles.NODE);\r\n    });\r\n\r\n    this.pushStep();\r\n    return this.buffer;\r\n  }\r\n}\r\n\r\nexport default AVLProcessor;","import React from 'react';\r\nimport actions from '../Actions/actions';\r\n\r\nimport downloadGif from '../utils/gifshot-utils'\r\nimport { CytoscapeElement, CytoEvent, AnimationStep } from '../Types/types';\r\nimport TreeBar from './TreeBar';\r\nimport InputModal from './InputModal';\r\nimport InputAVLModal from './InputAVLModal';\r\nimport { Row, Container } from 'react-bootstrap';\r\nimport PriorityQueue from '../Algorithms/DS/PriorityQueue'\r\n\r\nimport HeapArray from './HeapArray';\r\nimport { number, string } from 'prop-types';\r\n\r\nimport {isLeaf, getChildren, getHeight, lca, parseAVL} from '../utils/avl-utils';\r\nimport {edgeId} from '../utils/cy-utils';\r\nimport MediaRecorder from '../utils/MediaRecorder';\r\nimport {remove, insert, balance, search} from '../resources/pseudocodes/avl';\r\nimport AVLProcessor from '../Processing/avl-proccesing';\r\nconst Styles = require('../Styles/Styles');\r\nconst cytoscape = require('cytoscape');\r\nconst { connect } = require('react-redux');\r\nconst popper = require('cytoscape-popper');\r\n\r\ncytoscape.warnings(false);\r\ntype options = {\r\n  name: string,\r\n  positions: { [id: string]: { x: number, y: number } },\r\n  padding: number,\r\n  animate: boolean,\r\n  animationDuration: number,\r\n}\r\n\r\nlet layoutOptions: options = {\r\n  name: 'preset',\r\n  positions: {}, // map of (node id) => (position obj); or function(node){ return somPos; }\r\n  padding: 30, // padding on fit\r\n  animate: true, // whether to transition the node positions\r\n  animationDuration: 500, // duration of animation in ms if enabled\r\n};\r\n\r\ntype exportStep = {\r\n  elements: Array<Object>\r\n  lines: Array<number>,\r\n  duration: number,\r\n  pseudo?: Array<Object>,\r\n  treeRoot: string,\r\n  refresh?: boolean,\r\n}\r\n\r\ntype storeState = {\r\n  animation: string,\r\n  selection: Object,\r\n  speed: number,\r\n  paused: boolean,\r\n}\r\n\r\ntype Element = {\r\n  value: number,\r\n  class: string,\r\n}\r\n\r\ntype State = {\r\n  show: boolean,\r\n  showSearchModal: boolean,\r\n  showInsertModal: boolean,\r\n  showRemoveModal: boolean,\r\n}\r\n\r\ntype stackState = {\r\n  root: string,\r\n  elements: Array<Object>,\r\n}\r\n\r\ntype Props = {\r\n  action: string,\r\n  animation: boolean,\r\n  speed: number,\r\n  selection: {\r\n\t\ttype: string,\r\n\t\tid: string,\r\n\t\tweight: string,\r\n  }\r\n  paused: boolean,\r\n  dispatch: (action: Object) => Object,\r\n}\r\n\r\nconst mapStateToProps = (state: storeState) => {\r\n  return {\r\n    animation: state.animation,\r\n    speed: state.speed,\r\n    selection: state.selection,\r\n    paused: state.paused,\r\n  }\r\n}\r\n\r\nclass AVL extends React.Component<Props, State>{\r\n\r\n  _isMounted = false;\r\n  _mediaRecorder = new MediaRecorder();\r\n  layout = {\r\n    run: () => { },\r\n    stop: () => { },\r\n  };\r\n\r\n  treeRoot = \"\";\r\n\r\n  state = {\r\n    show: false,\r\n    showSearchModal: false,\r\n    showInsertModal: false,\r\n    showRemoveModal: false,\r\n  }\r\n\r\n  undo:Array<stackState>=[];\r\n  redo:Array<stackState>=[];\r\n\r\n  nodeStyle = Styles.NODE;\r\n  edgeStyle = Styles.EDGE;\r\n  AVLProcessor:any;\r\n  cy = cytoscape();\r\n\r\n  buffer:Array<exportStep> = [];\r\n  options: Array<{ name: string, run: () => void }>;\r\n\r\n  step = 0;\r\n  animationTimeout = 0;\r\n  constructor(props:Props){\r\n    super(props);\r\n    this._mediaRecorder = new MediaRecorder(props.dispatch);\r\n    this.options = [\r\n      {\r\n        name: 'Insertar',\r\n        run: () => this.setState({showInsertModal: true}),\r\n      },\r\n      {\r\n        name: 'Eliminar',\r\n        run: () => this.setState({showRemoveModal: true}),\r\n      },\r\n      {\r\n        name: 'Buscar',\r\n        run: () => this.setState({showSearchModal: true}),\r\n      },\r\n      {\r\n        name: 'Subir AVL',\r\n        run: () => this.setState({show: true}),\r\n      },\r\n      {\r\n        name: 'Descargar AVL',\r\n        run:  () => parseAVL(this.cy.getElementById(this.treeRoot)),\r\n      }\r\n    ];\r\n  }\r\n  \r\n  componentDidMount() {\r\n    this._isMounted = true;\r\n    this.initialize({ root: '', elements: []});\r\n    this.AVLProcessor = new AVLProcessor(this.cy.width(), this.cy.height());\r\n    this.props.dispatch({\r\n      type: this.props.action,\r\n      payload:{\r\n        photo: () => this._mediaRecorder.takePicture(this.cy),\r\n        gif: () => this._mediaRecorder.takeGif(this.cy),\r\n        undo: this.handleUndo,\r\n        redo: this.handleRedo,\r\n        options: this.options,\r\n        rewind: this.handleRewind,\r\n        forward: this.handleForward,\r\n        pause: this.handlePauseContinue,\r\n        repeat: this.handleRepeat,\r\n        end: this.handleEnd,\r\n        remove: () => this.setState({showRemoveModal: true}),\r\n        clear: this.clearGraph,\r\n      }\r\n    })\r\n  }\r\n\r\n  initialize(state: stackState){\r\n    const {root, elements} = state;    \r\n\t\tlet edgeStyle = Styles.EDGE;\r\n    this.cy = cytoscape({\r\n\r\n      container: document.getElementById('canvas'), // container to render in\r\n\r\n      elements,\r\n\r\n      style: [ // the stylesheet for the graph\r\n        {\r\n          selector: 'node',\r\n          style: Styles.NODE,\r\n        },\r\n\r\n        {\r\n          selector: 'edge',\r\n          style: edgeStyle,\r\n        }\r\n      ],\r\n\r\n      headless: false,\r\n      styleEnabled: true,\r\n      hideEdgesOnViewport: false,\r\n      hideLabelsOnViewport: false,\r\n      userPanningEnabled: false,\r\n      zoomingEnabled: false,\r\n      textureOnViewport: false,\r\n      motionBlur: false,\r\n      motionBlurOpacity: 0.2,\r\n      pixelRatio: '1.0',\r\n      autoungrabify: true,\r\n\r\n    });\r\n    this.cy.nodes().forEach((node:CytoscapeElement) => {\r\n\t\t\tif(node.id().match('-popper')){\r\n\t\t\t\tnode.style(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t'z-index': 0,\r\n\t\t\t\t\t\t'border-width': 0,\r\n\t\t\t\t\t\t'font-size': 15,\r\n\t\t\t\t\t\t'width': 10,\r\n\t\t\t\t\t\t'height': 10,\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t}\r\n    });\r\n    this.treeRoot = root;\r\n\t\t//this.cy.on('resize', () => { this.layoutProcessing(); this.refreshLayout(false)});\r\n\t\tthis.layout = this.cy.elements().makeLayout({...layoutOptions, animate: false});\r\n\t\tthis.layout.run();\r\n\r\n    this.refreshLayout();\r\n  }\r\n  \r\n  handleUndo = () => {\r\n\t\tif(this.undo.length === 0){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif(this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.NO_SELECTION,\r\n\t\t});\r\n\r\n\t\tconst currentElements = this.exportGraph();\r\n\t\tlet state = this.undo.pop();\r\n\t\tif(state !== undefined){\r\n      this.redo.push({ root: this.treeRoot, elements: currentElements});\r\n      this.treeRoot = state.root;\r\n      this.loadGraph(state.elements);\r\n      this.AVLProcessor.loadGraph(state.elements, state.root);\r\n    }\r\n\t}\r\n\r\n\thandleRedo = () => {\r\n\t\tif(this.redo.length === 0){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif(this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.NO_SELECTION,\r\n\t\t});\r\n\r\n\t\tconst currentElements = this.exportGraph();\r\n\t\tlet state = this.redo.pop();\r\n\t\tif(state !== undefined){\r\n\t\t  this.undo.push({ root: this.treeRoot, elements: currentElements});\r\n      this.treeRoot = state.root;\r\n      this.loadGraph(state.elements);\r\n      this.AVLProcessor.loadGraph(state.elements, state.root);\r\n    }\r\n\t}\r\n\r\n  loadGraph(elements: Array<Object>, keep=false) {\r\n    const nodes = this.cy.nodes();\r\n    const positions:{[id:string]:{x:number,y:number}} = {};\r\n\t\tnodes.forEach((node: CytoscapeElement) => {\r\n      if(keep) positions[node.id()] = JSON.parse(JSON.stringify(node.data('position')));\r\n\t\t\tthis.cy.remove(node);\r\n\t\t})\r\n\r\n\t\tfor (let i = 0; i < elements.length; i++) {\r\n\t\t\tthis.cy.add(JSON.parse(JSON.stringify(elements[i])));\r\n\t\t}\r\n\r\n\t\tthis.cy.nodes().forEach((node: CytoscapeElement) => {\r\n\t\t\tconst style = node.data('style');\r\n\t\t\tif (style != null) node.style(style);\r\n      const position = node.data('position');\r\n      if(keep && positions[node.id()]) node.position({x:positions[node.id()].x, y:positions[node.id()].y});\r\n\t\t\t//console.log(\"PREV\", node.position());\r\n\t\t\t//console.log(\"NEXT\", position);\r\n\t\t\tif (position != null) {\r\n\t\t\t\tlayoutOptions.positions[node.id()] = JSON.parse(JSON.stringify(position));\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tthis.cy.edges().forEach((edge: CytoscapeElement) => {\r\n\t\t\tconst style = edge.data('style');\r\n\t\t\tif (style != null) edge.style(style);\r\n\t\t})\r\n\r\n    this.refreshLayout();\r\n\t}\r\n\r\n\texportGraph(){\r\n\t\tconst elements:Array<Object> = [];\r\n\t\tthis.cy.nodes().forEach((node:CytoscapeElement) => {\r\n\t\t\telements.push({\r\n\t\t\t\tgroup: 'nodes',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: node.id(),\r\n          value: node.data('value'),\r\n          prev: node.data('prev'),\r\n          height: node.data('height'),\r\n          balance: node.data('balance'),\r\n          style: node.style(),\r\n          position: { x: node.position().x, y: node.position().y }\r\n\t\t\t\t},\r\n\t\t\t\tposition: {\r\n\t\t\t\t\tx: node.position().x,\r\n\t\t\t\t\ty: node.position().y,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t\tthis.cy.edges().forEach((edge:CytoscapeElement) => {\r\n\t\t\telements.push({\r\n\t\t\t\tgroup: 'edges',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: edge.id(),\r\n\t\t\t\t\tsource: edge.source().id(), target: edge.target().id(),\r\n\t\t\t\t\tweight: edge.data('weight'),\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t\treturn elements;\r\n\t}\r\n\r\n\tpushState(){\r\n    console.log('pushed');\r\n\t\tthis.redo = [];\r\n\t\tthis.undo.push({root: this.treeRoot, elements: this.exportGraph()});\r\n  }\r\n  \r\n  handleRewind = () => { \r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n    this.step = Math.max(this.step-1, 0);\r\n    const {treeRoot, elements, pseudo, lines} = this.buffer[this.step];\r\n    this.treeRoot = treeRoot;\r\n    this.loadGraph(elements, true);\r\n    if(pseudo) this.props.dispatch({type: actions.CHANGE_PSEUDO, payload: { pseudo }});\r\n    if(lines) this.props.dispatch({type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandleForward = () => { \r\n\t\tclearTimeout(this.animationTimeout);\r\n    this.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n    this.step = Math.min(this.step+1, this.buffer.length-1);\r\n    const {treeRoot, elements, pseudo, lines} = this.buffer[this.step];\r\n    this.treeRoot = treeRoot;\r\n    this.loadGraph(elements, true);\r\n    if(pseudo) this.props.dispatch({type: actions.CHANGE_PSEUDO, payload: { pseudo }});\r\n    if(lines) this.props.dispatch({type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandleRepeat = () => {\r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n    this.step = 0;\r\n    const {treeRoot, elements, pseudo, lines} = this.buffer[this.step];\r\n    this.treeRoot = treeRoot;\r\n    this.loadGraph(elements, true);\r\n    if(pseudo) this.props.dispatch({type: actions.CHANGE_PSEUDO, payload: { pseudo }});\r\n    if(lines) this.props.dispatch({type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n  handleEnd = () => {\r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = this.buffer.length - 1;\r\n\t\tconst {treeRoot, elements, pseudo, lines} = this.buffer[this.step];\r\n    this.treeRoot = treeRoot;\r\n    this.loadGraph(elements, true);\r\n    if(pseudo) this.props.dispatch({type: actions.CHANGE_PSEUDO, payload: { pseudo }});\r\n    if(lines) this.props.dispatch({type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\t\r\n\thandlePauseContinue = () => {\r\n\t\tif(!this.props.paused){\r\n\t\t\tclearTimeout(this.animationTimeout);\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_PAUSE,\r\n\t\t\t})\r\n\t\t}else{\r\n\t\t\tnew Promise(resolve => {\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.ANIMATION_CONTINUE\r\n\t\t\t\t})\r\n\t\t\t\tresolve();\r\n\t\t\t}).then(() => this.animation());\r\n\t\t}\r\n  }\r\n  \r\n  componentWillUnmount(){\r\n    this.props.dispatch({\r\n      type: actions.ANIMATION_END,\r\n    });\r\n    clearTimeout(this.animationTimeout);\r\n    this._isMounted = false;\r\n\r\n  }\r\n  componentDidUpdate(prevProps:Props){\r\n    layoutOptions.animationDuration = 500/this.props.speed;\r\n\r\n    if (prevProps.animation && !this.props.animation) {\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.CHANGE_OPTIONS,\r\n\t\t\t\tpayload: { options: this.options }\r\n\t\t\t});\r\n\t\t} else if (!prevProps.animation && this.props.animation) {\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.CHANGE_OPTIONS,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\toptions: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tname: 'Volver a edicion',\r\n\t\t\t\t\t\t\trun: () => {\r\n                clearTimeout(this.animationTimeout);\r\n                this.loadGraph(this.buffer[this.buffer.length-1].elements);\r\n                this.treeRoot = this.buffer[this.buffer.length-1].treeRoot;\r\n                this.props.dispatch({ type: actions.ANIMATION_END });\r\n                console.log(getChildren(this.cy.getElementById(this.treeRoot)));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n  }\r\n\r\n  removeNodePopper(node: string) {\r\n    this.cy.remove(this.cy.getElementById(node + '-popper'));\r\n\t}\r\n\r\n  removeNode = (node: CytoscapeElement) => {\r\n    let id = node.id();\r\n    this.cy.remove(node);\r\n    this.removeNodePopper(id);\r\n  }\r\n  \r\n  removeEdge = (source: string, target: string) => {\r\n    this.cy.remove('edge[id=\"'+edgeId(source, target)+'\"]');\r\n  }\r\n\r\n  createPopper(nodeId: string){\r\n\t\tconst ele = this.cy.getElementById(nodeId);\r\n\t\tconst position = ele.position();\r\n\t\tthis.cy.add({\r\n\t\t\tgroup: 'nodes',\r\n\t\t\tdata: {id : nodeId+'-popper', value: 0},\r\n\t\t\tposition: {\r\n\t\t\t\tx: position.x,\r\n\t\t\t\ty: position.y+32,\r\n\t\t\t},\r\n\t\t\tstyle: {\r\n\t\t\t\t'z-index': 0,\r\n\t\t\t\t'border-width': 0,\r\n\t\t\t\t'font-size': 15,\r\n\t\t\t\t'width': 10,\r\n\t\t\t\t'height': 10,\r\n\t\t\t}\r\n\t\t});\r\n  }\r\n  \r\n  addNode = (id: string, value: number, height:number=0, balance:number=0, position:{x:number, y:number}={x:0,y:0}) => {\r\n    this.cy.add({\r\n      group: 'nodes',\r\n      data: {\r\n        id,\r\n        value,\r\n        height,\r\n        balance,\r\n      },\r\n      position: {\r\n        x: position.x,\r\n        y: position.y,\r\n      }\r\n    });\r\n    this.createPopper(id);\r\n  }\r\n  \r\n  addEdge = (source: string, target: string) => {\r\n    this.cy.add({\r\n      group: 'edges',\r\n      data: {\r\n        id: edgeId(source, target), source, target,\r\n      }\r\n    });\r\n    this.cy.getElementById(target).data('prev', source);\r\n  }\r\n\r\n  isLeaf(node: CytoscapeElement){\r\n    return node.outgoers('node').length === 0;\r\n  }\r\n\r\n  getChildren(node: CytoscapeElement){\r\n    let left = null, right = null;\r\n    let outgoers = node.outgoers('node');\r\n\r\n    if (outgoers.length >= 1) left = outgoers[0];\r\n    if (outgoers.length === 2) right = outgoers[1];\r\n    if (left != null && right != null && left.data('value') > right.data('value')) {\r\n      [left, right] = [right, left];\r\n    }else if(left != null && left.data('value') > node.data('value')){\r\n      [left, right] = [right, left];\r\n    }else if(right != null && right.data('value') < node.data('value')){\r\n      [left, right] = [right,left];\r\n    }\r\n\r\n    return [left, right];\r\n  }\r\n  refreshLayout(animate:boolean = true) {\r\n    this.layout.stop();\r\n    this.layout = this.cy.elements().makeLayout({...layoutOptions, animate});\r\n    this.layout.run();\r\n  }\r\n\r\n  propagate(node: CytoscapeElement | null, val: number){\r\n    if(node == null) return;\r\n    node.data('X', node.data('X') + val);\r\n    const [left, right] = getChildren(node);\r\n    if(left) this.propagate(left, val);\r\n    if(right) this.propagate(right, val);\r\n  }\r\n  layoutProcessing() {\r\n\r\n    if(this.treeRoot === '') return;\r\n    const levels:{[lvl: number]: Array<string>} = {};\r\n\r\n    const dfs = (node: CytoscapeElement, depth: number, x: number) => {\r\n      console.log(node.data('value'));\r\n      node.data('depth', depth);\r\n      node.data('X', x);\r\n      \r\n      if(levels[depth] === undefined) levels[depth] = Array();\r\n      levels[depth].push(node.id());\r\n\r\n      let [left, right] = getChildren(node);\r\n      let hleft = 0, hright = 0;\r\n      if(left) hleft = dfs(left, depth+1, x-1);\r\n      if(right) hright = dfs(right, depth+1, x+1);\r\n\r\n      let bal = hright - hleft;\r\n      let popper = this.cy.getElementById(node.id() + '-popper');\r\n      popper.data('value', bal);\r\n      return Math.max(hleft, hright)+1;\r\n    }\r\n\r\n    let height = dfs(this.cy.getElementById(this.treeRoot), 0, 0);\r\n    let iter = 0;\r\n    while(iter++ < 1000){\r\n      let correct = true;\r\n      for(let i = height-1; i >= 0; i--){\r\n        const current = levels[i];\r\n        for(let j = 0; j < current.length - 1; j++){\r\n          const a = this.cy.getElementById(current[j]);\r\n          const b = this.cy.getElementById(current[j+1]);\r\n          if(a.data('X') + 1 >= b.data('X')){\r\n            const anc = lca(this.cy, a, b);\r\n            const [left, right] = getChildren(anc);\r\n            const dif = Math.max(a.data('X') - b.data('X'), 1);\r\n            this.propagate(left, -dif);\r\n            this.propagate(right, dif);\r\n            correct = false;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      if(correct) break;\r\n    }\r\n    if(iter === 1001){\r\n      console.error('ALERT, INFINITE LOOP AVOIDED');\r\n    }\r\n\r\n    const setSep = (node: CytoscapeElement, nx: number, ny: number) => {\r\n      layoutOptions.positions[node.id()] = { x: node.data('X')*30 + nx, y: ny }\r\n      layoutOptions.positions[node.id()+'-popper'] =  { x: node.data('X')*30 + nx, y: ny + 32};\r\n      let [left, right] = getChildren(node);\r\n      if (left) setSep(left, nx, ny + 50);\r\n      if (right) setSep(right, nx, ny + 50);\r\n    }\r\n\r\n    const vw = this.cy.width(), vh = this.cy.height();\r\n    setSep(this.cy.getElementById(this.treeRoot), vw / 2, vh / 4);\r\n    return true;\r\n  }\r\n\r\n  animation(){\r\n\t\tlet step = () => {\r\n      if (!this.props.animation) return;\r\n\t\t\tif (this.step === this.buffer.length) {\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.FINISHED_ALGORITHM_SUCCESS,\r\n        });\r\n        this.props.dispatch({\r\n          type: actions.ANIMATION_PAUSE,\r\n        })\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n      const { elements, lines, duration, pseudo, treeRoot, refresh} = this.buffer[this.step++];\r\n      if(this.props.paused) return;\r\n      this.loadGraph(elements, refresh);\r\n      if(pseudo) this.props.dispatch({ type: actions.CHANGE_PSEUDO, payload: { pseudo}});\r\n      if (lines) this.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines } });\r\n      if(treeRoot != null) this.treeRoot = treeRoot;\r\n\t\t\tconsole.log(duration);\r\n\t\t\tthis.animationTimeout = window.setTimeout(step, ((duration === undefined) ? 1000 : duration) / (this.props.speed));\r\n\t\t}\r\n\t\tstep();\r\n  }\r\n\r\n  insert(value=0){\r\n    const nodes = this.cy.nodes();\r\n    for(let i = 0; i < nodes.length; i++){\r\n      if(nodes[i].id().match('popper')) continue;\r\n      if(nodes[i].data('value') === value){\r\n        this.props.dispatch({\r\n          type: actions.AVL_ELEMENT_ALREADY_INFO,\r\n        })\r\n        return;\r\n      }\r\n    }\r\n    this.pushState();\r\n    this.buffer = this.AVLProcessor.insert(value);\r\n    this.step = 0;\r\n    new Promise((resolve, reject) => {\r\n      this.props.dispatch({type: actions.ANIMATION_START});\r\n      resolve();\r\n    }).then(() => this.animation());\r\n  }\r\n\r\n  search(value=0){\r\n    let {found, buffer} = this.AVLProcessor.search(value);\r\n    this.buffer = buffer;\r\n    console.log(buffer);\r\n    this.step = 0;\r\n    new Promise((resolve, reject) => {\r\n      this.props.dispatch({type: actions.ANIMATION_START});\r\n      resolve();\r\n    }).then(() => this.animation());\r\n  }\r\n\r\n  remove(value=0){ \r\n    this.pushState();\r\n    this.buffer = this.AVLProcessor.remove(value);\r\n    console.log(this.buffer);\r\n    this.step = 0;\r\n    new Promise((resolve, reject) => {\r\n      this.props.dispatch({type: actions.ANIMATION_START});\r\n      resolve();\r\n    }).then(() => this.animation());\r\n  }\r\n\r\n  handleClose = (update: boolean = false) => {\r\n    this.setState({show: false});\r\n    if(update){\r\n      this.treeRoot = \"0\";\r\n      this.layoutProcessing();\r\n      this.refreshLayout();\r\n      this.AVLProcessor.loadGraph(this.exportGraph(), \"0\");\r\n    }\r\n  }\r\n\r\n  clearGraph = () => {\r\n    if(this.props.animation){\r\n      this.props.dispatch({\r\n        type: actions.ANIMATION_RUNNING_ERROR,\r\n      });\r\n      return;\r\n    }\r\n    const nodes = this.cy.nodes();\r\n    if(nodes.length === 0) return;\r\n    this.pushState();\r\n    nodes.forEach((node:CytoscapeElement) => this.cy.remove(node));\r\n    this.AVLProcessor.loadGraph([], '');\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <InputModal \r\n          show={this.state.showInsertModal} \r\n          handleClose={() => this.setState({showInsertModal: false})}\r\n          callback={(v:number) => this.insert(v)}\r\n        />\r\n        <InputModal \r\n          show={this.state.showSearchModal} \r\n          handleClose={() => this.setState({showSearchModal: false})}\r\n          callback={(v:number) => this.search(v)}\r\n        />\r\n        <InputModal\r\n          show={this.state.showRemoveModal}\r\n          handleClose={() => this.setState({showRemoveModal: false})}\r\n          callback={(v:number) => this.remove(v)}\r\n        />\r\n        <InputAVLModal \r\n          show={this.state.show} \r\n          handleClose={this.handleClose} \r\n          addNode={this.addNode} \r\n          addEdge={this.addEdge} \r\n          clearGraph={this.clearGraph}\r\n        />\r\n        <div id=\"canvas\" className='standard-struct'/>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(AVL);","class Queue {\r\n    _data = [];\r\n\r\n    constructor(){\r\n\r\n    }\r\n\r\n    isEmpty(){\r\n        return this._data.length === 0;\r\n    }   \r\n\r\n    front(){\r\n        if(this.isEmpty()){\r\n            return null;\r\n        }\r\n        return this._data[0];\r\n    }\r\n\r\n    push(ele){\r\n        this._data.push(ele);\r\n    }\r\n\r\n    pop(){\r\n        if(!this.isEmpty()){\r\n            this._data.shift();\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default Queue;","import Queue from './DS/Queue'\r\nconst Styles = require('../Styles/Styles');\r\nconst BFS = param => {\r\n\tconst { cy, selection } = param;\r\n\tconst source = selection.id;\r\n\r\n\tlet color = {}, level = {};\r\n\tlet q = new Queue();\r\n\r\n\tlet commands = [{lines: [1,2], duration: 1000}];\r\n\tq.push(source);\r\n\tlevel[source] = 0;\r\n\tcommands.push(\r\n\t\t{\r\n\t\t\teles: [source],\r\n\t\t\tstyle: [Styles.NODE_GRAY],\r\n\t\t\tinst: [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'update_level',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tid: source,\r\n\t\t\t\t\t\tvalue: 0,\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tlines: [3,4],\r\n\t\t}\r\n\t)\r\n\t\r\n\twhile (!q.isEmpty()) {\r\n\t\tcommands.push({ lines: [5]});\r\n\t\tlet current = cy.getElementById(q.front()); q.pop();\r\n\t\tif (color[current] === 'black') continue;\r\n\t\tcolor[current.id()] = 'black';\r\n\t\tcommands.push(\r\n\t\t\t{\r\n\t\t\t\teles: [current.id()],\r\n\t\t\t\tstyle: [Styles.NODE_BLACK],\r\n\t\t\t\tlines: [6,7],\r\n\t\t\t\tinst: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: 'shift',\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t}\r\n\t\t);\r\n\t\tcurrent.outgoers('edge').forEach(\r\n\t\t\tedge => {\r\n\t\t\t\tlet next = edge.target();\r\n\t\t\t\tcommands.push(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\teles: [edge.id()],\r\n\t\t\t\t\t\tstyle: [\r\n\t\t\t\t\t\t\tStyles.EDGE_TRAVERSE \r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\tlines: [8],\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{ lines: [9]}\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (color[next.id()] === undefined) {\r\n\t\t\t\t\tcolor[next.id()] = 'gray';\r\n\t\t\t\t\tlevel[next.id()] = level[current.id()]+1;\r\n\t\t\t\t\tcommands.push(\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\teles: [next.id()],\r\n\t\t\t\t\t\t\tstyle: [Styles.NODE_GRAY],\r\n\t\t\t\t\t\t\tinst: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tname: 'update_level',\r\n\t\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\t\tid: next.id(),\r\n\t\t\t\t\t\t\t\t\t\tvalue: level[next.id()],\r\n\t\t\t\t\t\t\t\t\t\tclass: 'heap-default',\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\tlines: [10,11]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\teles: [edge.id()],\r\n\t\t\t\t\t\t\tstyle: [\r\n\t\t\t\t\t\t\t\tStyles.EDGE_VISITED,\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\tduration: 10,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t\tq.push(next.id());\r\n\t\t\t\t}else{\r\n\t\t\t\t\tcommands.push({\r\n\t\t\t\t\t\teles: [edge.id()],\r\n\t\t\t\t\t\tstyle: [\r\n\t\t\t\t\t\t\tStyles.EDGE_VISITED,\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\tduration: 10,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\treturn commands;\r\n}\r\n\r\nexport default BFS;\r\n","const Styles = require('../Styles/Styles');\r\nconst dfs = (cy, source, depth, commands, visited) => {\r\n\r\n\tvisited[source.id()] = true;\r\n\t\r\n\tcommands.push({\r\n\t\teles: [source.id()],\r\n\t\tstyle: [Styles.NODE_GRAY],\r\n\t\tinst: [\r\n\t\t\t{\r\n\t\t\t\tname: 'update_level',\r\n\t\t\t\tdata: {id: source.id(), value: depth}\r\n\t\t\t}\r\n\t\t],\r\n\t\tlines: [1],\r\n\t});\r\n\tsource.outgoers('edge').forEach(\r\n\t\tedge => {\r\n\t\t\tlet next = edge.target();\r\n\t\t\tcommands.push(\r\n\t\t\t\t{\r\n\t\t\t\t\teles: [edge.id()],\r\n\t\t\t\t\tstyle: [Styles.EDGE_TRAVERSE],\r\n\t\t\t\t\tlines: [2],\r\n\t\t\t\t},\r\n\t\t\t);\r\n\t\t\tif (visited[next.id()] === undefined) {\r\n\t\t\t\tcommands.push(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlines: [3,4],\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\teles: [edge.id()],\r\n\t\t\t\t\t\tstyle: [Styles.EDGE_VISITED],\r\n\t\t\t\t\t\tduration: 10,\r\n\t\t\t\t\t},\r\n\t\t\t\t);\r\n\t\t\t\tdfs(cy, next, depth+1, commands, visited);\r\n\t\t\t}else{\r\n\t\t\t\tcommands.push({\r\n\t\t\t\t\teles: [edge.id()],\r\n\t\t\t\t\tstyle: [Styles.EDGE_VISITED],\r\n\t\t\t\t\tduration: 10,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n\tcommands.push({\r\n\t\teles: [source.id()],\r\n\t\tstyle: [Styles.NODE_BLACK],\r\n\t\tinst: [{name: 'pop'}],\r\n\t\tlines: [5],\r\n\t})\r\n}\r\nconst DFS = param => {\r\n\tconst { cy, selection } = param;\r\n\tconst source = selection.id;\r\n\r\n\tlet commands = [\r\n\t\t{lines: [8,9,10]},\r\n\t];\r\n\tlet visited = {};\r\n\tdfs(cy, cy.getElementById(source), 0, commands, visited);\r\n\treturn commands;\r\n}\r\n\r\nexport default DFS;","import PriorityQueue from './DS/PriorityQueue';\r\nconst Styles = require('../Styles/Styles');\r\nconst Dijkstra = (param) => {\r\n  const { cy, selection } = param;\r\n  const source = selection.id;\r\n  let comp = (x, y) => {\r\n    return x.distance < y.distance;\r\n  }\r\n  let eq = (x, y) => {\r\n    return x.distance === y.distance;\r\n  }\r\n  let pq = new PriorityQueue(comp, eq);\r\n  let dist = {};\r\n  let visited = {};\r\n  const commands = [];\r\n  commands.push({lines: [1,2]});\r\n  dist[source] = 0;\r\n  pq.push({\r\n    distance: 0,\r\n    id: source,\r\n  });\r\n\r\n  commands.push(\r\n    {\r\n      eles: cy.nodes().map(x => x.id()),\r\n      distance: Array(cy.nodes().length).fill('\\u221E'),\r\n      duration: 1000,\r\n      inst: [{\r\n        name: 'fill',\r\n        data: {\r\n          value: '\\u221E',\r\n          class: 'heap-default',\r\n        }\r\n      }],\r\n      lines: [3],\r\n    }\r\n  )\r\n\r\n  while (!pq.isEmpty()) {\r\n    commands.push({lines: [4]});\r\n    let { id, distance } = pq.top(); pq.pop();\r\n    if (visited[id]) continue;\r\n    visited[id] = true;\r\n    let current = cy.getElementById(id);\r\n    commands.push(\r\n      {\r\n        eles: [id],\r\n        distance: [distance.toString()],\r\n        style: [Styles.NODE_RED],\r\n        duration: 1000,\r\n        inst: [{\r\n          name: 'change_element',\r\n          position: parseInt(current.data('value'), 10) - 1,\r\n          data: {\r\n            value: distance.toString(),\r\n            class: 'heap-wrong',\r\n          }\r\n        }],\r\n        lines: [5],\r\n      }\r\n    )\r\n    current.outgoers('edge').forEach(\r\n      edge => {\r\n        let next = edge.target(), weight = edge.data('weight');\r\n        let nextId = next.id();\r\n        commands.push(\r\n          {\r\n            eles: [edge.id()],\r\n            style: [Styles.EDGE_TRAVERSE],\r\n            lines: [6],\r\n            duration: 1000,\r\n          }\r\n        )\r\n        let prevDistance = dist[nextId];\r\n        if (prevDistance === undefined) prevDistance = 'inf';\r\n        if (dist[nextId] === undefined || distance + weight < dist[nextId]) {\r\n          dist[nextId] = distance + weight;\r\n          commands.push({\r\n            lines: [7],\r\n            eles: [nextId],\r\n            style: [Styles.NODE_GRAY],\r\n          });\r\n          pq.push({\r\n            distance: distance + weight,\r\n            id: nextId,\r\n          })\r\n          if (prevDistance !== 'inf') {\r\n            commands.push(\r\n              {\r\n                eles: [nextId],\r\n                distance: [(distance + weight) + '\\u2264' + prevDistance],\r\n                duration: 1000,\r\n              }\r\n            );\r\n          }\r\n          commands.push(\r\n            {\r\n              eles: [nextId],\r\n              distance: [distance + weight],\r\n              duration: 1000,\r\n              lines: [8,9],\r\n              inst: [{\r\n                name: 'change_element',\r\n                position: parseInt(next.data('value'), 10)-1,\r\n                data: {\r\n                  value: (distance + weight).toString(),\r\n                  class: 'heap-default',\r\n                },\r\n              }]\r\n            }\r\n          )\r\n        } else {\r\n          commands.push(\r\n            {\r\n              eles: [nextId],\r\n              distance: [prevDistance + '\\u2264' + (distance + weight)],\r\n              duration: 1000,\r\n              lines: [8],\r\n            },\r\n            {\r\n              eles: [nextId],\r\n              distance: [prevDistance],\r\n              duration: 1000,\r\n            }\r\n          )\r\n        }\r\n        commands.push(\r\n          {\r\n            eles: [edge.id()],\r\n            style: [Styles.EDGE_VISITED],\r\n            duration: 10,\r\n          }\r\n        )\r\n      }\r\n    )\r\n    commands.push(\r\n      {\r\n        eles: [id],\r\n        distance: [distance.toString()],\r\n        style: [Styles.NODE_BLACK],\r\n        duration: 1000,\r\n        inst: [{\r\n          name: 'change_element',\r\n          position: parseInt(current.data('value'), 10) - 1,\r\n          data: {\r\n            value: distance.toString(),\r\n            class: 'heap-default',\r\n          }\r\n        }]\r\n      }\r\n    )\r\n  }\r\n\r\n  return commands;\r\n}\r\n\r\nexport default Dijkstra;","const Styles = require('../Styles/Styles');\r\n\r\nconst BellmanFord = (param) => {\r\n  const { cy, selection } = param;\r\n  const source = selection.id;\r\n\r\n  let dist = {};\r\n  let pre = {};\r\n  const commands = [];\r\n  commands.push(\r\n    {\r\n      eles: cy.nodes().map(x => x.id()),\r\n      distance: Array(cy.nodes().length).fill('\\u221E'),\r\n      duration: 1000,\r\n      lines: [1,2],\r\n    }\r\n  )\r\n\r\n  dist[source] = 0;\r\n  commands.push(\r\n    {\r\n      eles: [source],\r\n      distance: [0],\r\n      lines: [3],\r\n    }\r\n  );\r\n    \r\n  const n = cy.nodes().length/2;\r\n  const edges = cy.edges();\r\n  for(let i = 0; i < n - 1; i++){\r\n    for(let j = 1; j <= n; j++){\r\n      const currentId = 'node-'+j;\r\n      const current = cy.getElementById(currentId);\r\n      current.outgoers('edge').forEach(edge => {\r\n        const u = edge.data('source'),\r\n              v = edge.data('target'),\r\n              w = edge.data('weight');\r\n        const edgeId = edge.id();\r\n        commands.push(\r\n          {\r\n            eles: [u, v, edgeId],\r\n            style: [Styles.NODE_BLACK, Styles.NODE_BLACK, Styles.EDGE_SELECTED],\r\n            lines: [5],\r\n          });\r\n        if(dist[u] != null){\r\n          const prev = (dist[v] == null) ? '\\u221E' : dist[v].toString();\r\n          if(dist[v] == null || dist[u] + w < dist[v]){\r\n            commands.push({ eles: [v], distance: [(dist[u]+w).toString()+'\\u003C'+prev], lines: [6,7]});\r\n            dist[v] = dist[u] + w;\r\n            pre[v] = {id: edgeId, u, v};\r\n            commands.push({ eles: [v], distance: [dist[u] + w]});\r\n          }else{\r\n            commands.push({ eles: [v], distance: [prev + '\\u2264' + (dist[u]+w).toString()]});\r\n            commands.push({ eles: [v], distance: [prev]});\r\n          }\r\n        }\r\n        commands.push(\r\n          {\r\n            eles: [u, v, edgeId],\r\n            style: [Styles.NODE, Styles.NODE, Styles.EDGE_DIRECTED],\r\n          });\r\n      });\r\n    };\r\n  }\r\n\r\n  let negativeCycle = false;\r\n  for(let j = 1; j <= n && !negativeCycle; j++){\r\n    const currentId = 'node-'+j;\r\n    const current = cy.getElementById(currentId);\r\n    current.outgoers('edge').forEach(edge => {\r\n      if(negativeCycle) return;\r\n      let   u = edge.data('source'),\r\n            v = edge.data('target'),\r\n            w = edge.data('weight');\r\n      const edgeId = edge.id();\r\n      commands.push(\r\n        {\r\n          eles: [u, v, edgeId],\r\n          style: [Styles.NODE_BLACK, Styles.NODE_BLACK, Styles.EDGE_SELECTED],\r\n          lines: [9],\r\n        });\r\n      if(dist[u] != null){\r\n        if(dist[u] + w < dist[v]){\r\n          const eles = [], style = [];\r\n          const visited = {};\r\n          while(true){\r\n            visited[u] = true;\r\n            const prev = pre[u];\r\n            eles.push(prev.id, prev.u);\r\n            style.push(Styles.EDGE_SELECTED, Styles.NODE_RED);\r\n            u = prev.u;\r\n            if(visited[u]) break;\r\n          }\r\n          commands.push(\r\n            {\r\n              eles, \r\n              style,\r\n              inst: [{name:'negative_cycle'}],\r\n              lines: [10,11],\r\n            }\r\n          );\r\n          negativeCycle = true;\r\n          return;\r\n        }\r\n      }\r\n      commands.push(\r\n        {\r\n          eles: [u, v, edgeId],\r\n          style: [Styles.NODE, Styles.NODE, Styles.EDGE_DIRECTED],\r\n        });\r\n    });\r\n  };\r\n\r\n  return commands;\r\n}\r\n\r\nexport default BellmanFord;","import PriorityQueue from './DS/PriorityQueue';\r\n\r\nconst Styles = require('../Styles/Styles');\r\nconst Prim = param => {\r\n  const {cy} = param;\r\n\r\n  const nodes = cy.nodes();\r\n  const edges = cy.edges();\r\n  const dist = {};\r\n  const part_of_tree = {};\r\n  const pq = new PriorityQueue((x, y) => x.weight <= y.weight);\r\n  const commands = [];\r\n  commands.push(\r\n    {\r\n      eles: nodes.map(x => x.data('id')),\r\n      distance: Array(cy.nodes().length).fill('\\u221E'),\r\n      lines: [1,2,3,4,5],\r\n    },\r\n    {\r\n      eles: edges.map(x => x.data('id')),\r\n      style: Array(cy.edges().length).fill(Styles.EDGE_NO_MST),\r\n      duration: 1000,\r\n      lines: [1,2,3,4,5],\r\n    }\r\n  );\r\n  \r\n  nodes.forEach(node => {\r\n    if(node.id().match('-popper')) return;\r\n    pq.push({target: node.id(), edgeId: 'NONE', weight: Infinity})\r\n  })\r\n  let mst = 0;\r\n  while(!pq.isEmpty()){\r\n    const edge = pq.top(); pq.pop() ;\r\n    const{target, edgeId, weight} = edge;\r\n    if(part_of_tree[target]) continue;\r\n    if(weight === Infinity) dist[target] = 0;\r\n    commands.push({lines: [6], duration: 1000});\r\n\r\n    part_of_tree[target] = true;\r\n\r\n    const current = cy.getElementById(target);\r\n    commands.push(\r\n      {\r\n        eles: [target],\r\n        style: [\r\n          Styles.NODE_RED,\r\n        ],\r\n        duration: 1000,\r\n        lines: [7,8],\r\n        inst: [{\r\n          name: 'change_element',\r\n          position: parseInt(current.data('value'), 10) - 1,\r\n          data: {\r\n            value: dist[target].toString(),\r\n            class: 'heap-wrong',\r\n          }\r\n        }],\r\n      },\r\n    );\r\n\r\n    if(edgeId !== 'NONE'){\r\n      commands.push({\r\n        eles: [edgeId],\r\n        style: [Styles.EDGE_MST],\r\n        lines: [9, 10],\r\n      });\r\n      part_of_tree[edgeId] = true;\r\n    }\r\n\r\n    mst += weight;\r\n    const neighborhood = cy.getElementById(target).connectedEdges();\r\n\r\n    neighborhood.forEach(edge => {\r\n      if(part_of_tree[edge.id()]) return;\r\n\r\n      let t = edge.target().id();\r\n      if(t === target) t = edge.source().id();\r\n      if(part_of_tree[t]) return;\r\n      let w = edge.data('weight');\r\n      commands.push({\r\n        eles: [edge.id()],\r\n        style: [Styles.EDGE_TRAVERSE],\r\n        lines: [11],\r\n      });\r\n      commands.push({lines: [12]});\r\n      if(dist[t] === undefined || dist[t] > w){\r\n        commands.push({\r\n          lines: [13,14],\r\n          eles: [t],\r\n          style: [Styles.NODE_GRAY],\r\n          distance: [w],\r\n          inst: [{\r\n            name: 'change_element',\r\n            position: parseInt(cy.getElementById(t).data('value'), 10) - 1,\r\n            data: {\r\n              value: w.toString(),\r\n              class: 'heap-default',\r\n            }\r\n          }],\r\n        });\r\n        dist[t] = w;\r\n        pq.push({\r\n          target: t,\r\n          edgeId: edge.id(),\r\n          weight: w,\r\n        })\r\n      }\r\n      let nextStyle;\r\n      if(part_of_tree[edge.id()]) nextStyle=Styles.EDGE_MST;\r\n      else nextStyle=Styles.EDGE_NO_MST;\r\n      commands.push({\r\n        eles: [edge.id()],\r\n        style: [nextStyle],\r\n        duration: 10,\r\n      });\r\n    });\r\n    commands.push({\r\n      inst: [{\r\n        name: 'change_element',\r\n        position: parseInt(current.data('value'), 10) - 1,\r\n        data: {\r\n          value: (dist[target]===undefined ? '0' : (dist[target]).toString()),\r\n          class: 'heap-default',\r\n        }\r\n      }], \r\n    });\r\n  }\r\n  return commands;\r\n}\r\n\r\nexport default Prim;","export default class DisjointSet {\r\n  _parent = {}\r\n  constructor(nodes){\r\n    nodes.forEach(node => this._parent[node.id()] = node.id());\r\n  }\r\n\r\n  find(node){\r\n    if(this._parent[node] === node) return node;\r\n    this._parent[node] = this.find(this._parent[node]);\r\n    return this._parent[node];\r\n  }\r\n\r\n  join(nodeX, nodeY){\r\n    this._parent[this.find(nodeX)] = this.find(nodeY);\r\n  }\r\n\r\n  connected(nodeX, nodeY){\r\n    return this.find(nodeX) === this.find(nodeY);\r\n  }\r\n}\r\n\r\n","import DisjointSet from './DS/DisjointSet';\r\nimport PriorityQueue from './DS/PriorityQueue';\r\n\r\nconst Styles = require('../Styles/Styles');\r\nconst Kruskal = param => {\r\n  const {cy} = param;\r\n\r\n  const nodes = cy.nodes();\r\n  const edges = cy.edges();\r\n\r\n\r\n  const sorted = new PriorityQueue((x, y) => { return x.data('weight') <= y.data('weight')});\r\n  edges.forEach(edge => sorted.push(edge));\r\n\r\n  const commands = [\r\n    {\r\n      eles: edges.map(x => x.data('id')),\r\n      style: Array(cy.edges().length).fill(Styles.EDGE_NO_MST),\r\n      duration: 1000,\r\n      lines: [1,2],\r\n    }\r\n  ];\r\n\r\n  const ds = new DisjointSet(nodes);\r\n  let weight = 0;\r\n  let edges_used = 0;\r\n  \r\n  while(!sorted.isEmpty()){\r\n    const edge = sorted.top(); sorted.pop();\r\n    const x = edge.source().id(), y = edge.target().id();\r\n    commands.push({\r\n      eles: [edge.id()],\r\n      style: [Styles.EDGE_TRAVERSE],\r\n      duration: 1000,\r\n      lines: [3],\r\n    })\r\n    if(!ds.connected(x, y)){\r\n      ds.join(x, y);\r\n      weight += edge.data('weight');\r\n      const source = edge.source(), target = edge.target();\r\n      commands.push(\r\n        {\r\n          eles: [edge.id(), source.id(), target.id()],\r\n          style: [\r\n            Styles.EDGE_MST,\r\n            Styles.NODE_RED,\r\n            Styles.NODE_RED,\r\n          ],\r\n          duration: 1000,\r\n          lines: [4,5],\r\n        }\r\n      );\r\n      edges_used++;\r\n    }else{\r\n      commands.push({\r\n        eles: [edge.id()],\r\n        style: [Styles.EDGE_NO_MST],\r\n        duration: 1000,\r\n        lines: null,\r\n      })\r\n    }\r\n  }\r\n\r\n  return commands;\r\n}\r\n\r\nexport default Kruskal;","const singlyLinkedList = [\r\n  { text: 'ListaEnlazada{', ind: 0},\r\n  { text: 'Nodo* inicio', ind: 1},\r\n  { text: 'ExtraerPrimero()', ind: 1},\r\n  { text: 'ExtraerUltimo()', ind: 1},\r\n  { text: 'InsertarPrimero(Entero v)', ind: 1},\r\n  { text: 'InsertarUltimo(Entero v)', ind: 1},\r\n  { text: 'Eliminar(Nodo* p)', ind: 1},\r\n  { text: 'InsertarAntesDe(Nodo* p, Entero v)', ind: 1},\r\n  { text: 'InsertarDespuesDe(Nodo* p, Entero v)', ind: 1},\r\n  { text: '}', ind: 0},\r\n  { text: '\\u2063', ind: 0},\r\n  { text: 'Nodo{', ind: 0},\r\n  { text: 'Entero v', ind: 1},\r\n  { text: 'Nodo *sig', ind: 1},\r\n  { text: '}', ind: 0},\r\n];\r\n\r\nconst doublyLinkedList = [\r\n  { text: 'ListaDoblementeEnlazada{', ind: 0},\r\n  { text: 'Nodo *primero, *ultimo', ind: 1},\r\n  { text: 'ExtraerPrimero()', ind: 1},\r\n  { text: 'ExtraerUltimo()', ind: 1},\r\n  { text: 'InsertarPrimero(Entero v)', ind: 1},\r\n  { text: 'InsertarUltimo(Entero v)', ind: 1},\r\n  { text: 'Eliminar(Nodo* p)', ind: 1},\r\n  { text: 'InsertarAntesDe(Nodo* p, Entero v)', ind: 1},\r\n  { text: 'InsertarDespuesDe(Nodo* p, Entero v)', ind: 1},\r\n  { text: '}', ind: 0},\r\n  { text: '\\u2063', ind: 0},\r\n  { text: 'Nodo{', ind: 0},\r\n  { text: 'Entero v', ind: 1},\r\n  { text: 'Nodo *ant, *sig', ind: 1},\r\n  { text: '}', ind: 0},\r\n]\r\n\r\nconst queue = [\r\n  { text: 'Cola{', ind: 0},\r\n  { text: 'Nodo *frente, *final', ind: 1},\r\n  { text: 'Encolar(Entero v)', ind: 1},\r\n  { text: 'Desencolar()', ind: 1},\r\n  { text: '}', ind: 0},\r\n  { text: '\\u2063', ind: 0},\r\n  { text: 'Nodo{', ind: 0},\r\n  { text: 'Entero v', ind: 1},\r\n  { text: 'Nodo *sig', ind: 1},\r\n  { text: '}', ind: 0}\r\n];\r\n\r\nconst queuePush = [\r\n  { text: 'Encolar(Entero v):', ind: 0},\r\n  { text: 'Nodo *aux = nuevo Nodo(v)', ind: 1},\r\n  { text: 'Si frente==NULL:', ind: 1},\r\n  { text: 'frente=final=aux', ind : 2},\r\n  { text: 'Sino:', ind: 1},\r\n  { text: 'final->sig=aux', ind: 2},\r\n  { text: 'final=aux', ind: 2},\r\n];\r\n\r\nconst queuePop = [\r\n  { text: 'Desencolar():', ind: 0},\r\n  { text: 'Si frente==NULL: retornar', ind: 1},\r\n  { text: 'Nodo *aux = frente->sig'},\r\n  { text: 'Si frente==NULL: ', ind: 1},\r\n  { text: 'ultimo=NULL', ind: 2},\r\n  { text: 'Sino:', ind: 1},\r\n  { text: 'frente=frente->sig', ind: 2},\r\n  { text: 'retornar aux', ind: 1},\r\n];\r\n\r\nconst stack = [\r\n  { text: 'Pila{', ind: 0},\r\n  { text: 'Nodo *tope', ind: 1},\r\n  { text: 'Apilar(Entero v)', ind: 1},\r\n  { text: 'Desapilar(Entero v)', ind: 1},\r\n  { text: '}', ind: 0},\r\n  { text: '\\u2063', ind: 0},\r\n  { text: 'Nodo{', ind: 0},\r\n  { text: 'Entero v', ind: 1},\r\n  { text: 'Nodo *sig', ind: 1},\r\n  { text: '}', ind: 0}\r\n];\r\n\r\nconst stackPush = [\r\n  { text: 'Apilar(Entero v):', ind: 0},\r\n  { text: 'Nodo *aux = nuevo Nodo(v)', ind: 1},\r\n  { text: 'Si tope==NULL:', ind : 1},\r\n  { text: 'tope=aux', ind: 2},\r\n  { text: 'Sino:', ind: 1},\r\n  { text: 'aux->sig=tope', ind: 2},\r\n  { text: 'tope=aux', ind: 2},\r\n];\r\n\r\nconst stackPop = [\r\n  { text: 'Desapilar():', ind: 0},\r\n  { text: 'Si tope==NULL: retornar', ind: 1},\r\n  { text: 'Nodo *aux=tope', ind: 1},\r\n  { text: 'tope=tope->sig', ind: 1},\r\n  { text: 'retornar aux', ind: 1},\r\n]\r\nconst singlyPopFront = [\r\n  { text: 'ExtraerFrente():', ind: 0},\r\n  { text: 'Si inicio == NULL: retornar', ind: 1},\r\n  { text: 'nodo* aux=inicio', ind: 1},\r\n  { text: 'inicio=inicio->sig', ind: 1},\r\n  { text: 'retornar aux', ind: 1},\r\n];\r\n\r\nconst doublyPopFront = [\r\n  { text: 'ExtraerFrente():', ind: 0},\r\n  { text: 'Si primero == NULL: retornar', ind: 1},\r\n  { text: 'nodo* aux=primero', ind: 1},\r\n  { text: 'primero=primero->sig', ind: 1},\r\n  { text: 'Si primero==NULL:', ind: 1},\r\n  { text: 'ultimo=NULL', ind: 2},\r\n  { text: 'Sino:', ind: 1},\r\n  { text: 'primero->ant=NULL', ind: 2},\r\n  { text: 'retornar aux', ind: 1},\r\n];\r\n\r\nconst singlyPopBack = [\r\n  { text: 'ExtraerUltimo():', ind: 0},\r\n  { text: 'Si inicio == NULL: retornar', ind: 1},\r\n  { text: 'Si inicio->sig == NULL:', ind: 1},\r\n  { text: 'Nodo* aux = inicio', ind: 2},\r\n  { text: 'inicio=NULL', ind: 2},\r\n  { text: 'retornar aux', ind: 2},\r\n  { text: 'nodo *actual = inicio, *anterior', ind: 1},\r\n  { text: 'Mientras(actual->sig != NULL):', ind: 1},\r\n  { text: 'anterior=actual', ind: 2},\r\n  { text: 'actual=actual->sig', ind: 2},\r\n  { text: 'anterior->sig=NULL', ind: 1},\r\n  { text: 'retornar actual', ind: 1}\r\n];\r\n\r\nconst doublyPopBack = [\r\n  { text: 'ExtraerUltimo():', ind: 0},\r\n  { text: 'Si inicio == NULL: retornar', ind: 1},\r\n  { text: 'nodo* aux=ultimo', ind: 1},\r\n  { text: 'ultimo=ultimo->ant', ind: 1},\r\n  { text: 'Si ultimo==NULL:', ind: 1},\r\n  { text: 'inicio=NULL', ind: 2},\r\n  { text: 'Sino:', ind: 1},\r\n  { text: 'ultimo->sig=NULL', ind: 2},\r\n  { text: 'retornar aux', ind: 1},\r\n];\r\n\r\nconst singlyPushFront = [\r\n  { text: 'InsertarPrimero(Entero v):', ind: 0},\r\n  { text: 'Nodo *p = nuevo Nodo(v)', ind: 1},\r\n  { text: 'Si inicio==NULL', ind: 1},\r\n  { text: 'inicio=p', ind: 2},\r\n  { text: 'Sino:', ind: 1},\r\n  { text: 'p->sig=inicio', ind: 2},\r\n  { text: 'inicio=p', ind: 2},\r\n];\r\n\r\nconst doublyPushFront = [\r\n  { text: 'InsertarPrimero(Entero v):', ind: 0},\r\n  { text: 'Nodo *p = nuevo Nodo(v)', ind: 1},\r\n  { text: 'Si primero==NULL', ind: 1},\r\n  { text: 'primero=ultimo=p', ind: 2},\r\n  { text: 'Sino:', ind: 1},\r\n  { text: 'p->sig=primero', ind: 2},\r\n  { text: 'primero->ant=p', ind: 2},\r\n  { text: 'primero=p', ind: 2},\r\n];\r\n\r\nconst singlyPushBack = [\r\n  { text: 'InsertarUltimo(Entero v):', ind: 0},\r\n  { text: 'Nodo *p = nuevo Nodo(v)', ind: 1},\r\n  { text: 'Si inicio==NULL', ind: 1},\r\n  { text: 'inicio=p', ind: 2},\r\n  { text: 'Sino:', ind: 1},\r\n  { text: 'nodo *actual = inicio', ind: 2},\r\n  { text: 'Mientras(actual->sig != NULL):', ind: 2},\r\n  { text: 'actual=actual->sig', ind: 3},\r\n  { text: 'actual->sig=p', ind: 2},\r\n];\r\n\r\nconst doublyPushBack = [\r\n  { text: 'InsertarUltimo(Entero v):', ind: 0},\r\n  { text: 'Nodo *p = nuevo Nodo(v)', ind: 1},\r\n  { text: 'Si primero==NULL', ind: 1},\r\n  { text: 'primero=ultimo=p', ind: 2},\r\n  { text: 'Sino:', ind: 1},\r\n  { text: 'ultimo->sig=p', ind: 2},\r\n  { text: 'p->ant=ultimo', ind: 2},\r\n  { text: 'ultimo=p', ind: 2},\r\n];\r\n\r\nconst singlyRemove = [\r\n  { text: 'Eliminar(Nodo *p):', ind: 0},\r\n  { text: 'Si inicio==p:', ind: 1},\r\n  { text: 'inicio=inicio->sig', ind: 2},\r\n  { text: 'borrar p', ind: 2},\r\n  { text: 'Sino:', ind: 1},\r\n  { text: 'Nodo *actual=incio, *anterior=NULL', ind: 2},\r\n  { text: 'Mientras actual != p:', ind: 2},\r\n  { text: 'anterior=actual', ind: 3},\r\n  { text: 'actual=actual->sig', ind: 3},\r\n  { text: 'anterior->sig=p->sig', ind: 2},\r\n  { text: 'borrar p', ind: 2},\r\n];\r\n\r\nconst doublyRemove = [\r\n  { text: 'Eliminar(Nodo *p):', ind: 0},\r\n  { text: 'Nodo *ant=p->ant, *sig=p->sig', ind: 1},\r\n  { text: 'Caso 1: ant==NULL y sig==NULL:', ind: 1},\r\n  { text: 'primero=ultimo=NULL', ind: 2},\r\n  { text: 'Caso 2: ant==NULL y sig!=NULL', ind: 1},\r\n  { text: 'primero=sig', ind: 2},\r\n  { text: 'Caso 3: ant!=NULL y sig==NULL:', ind: 1},\r\n  { text: 'ultimo=ant', ind: 2},\r\n  { text: 'Caso 4: ant!=NULL y sig!=NULL', ind : 1},\r\n  { text: 'ant->sig=sig, sig->ant=ant', ind: 2},\r\n  { text: 'borrar p', ind: 1},\r\n];\r\n\r\nconst singlyInsertBefore = [\r\n  { text: 'InsertarAntesDe(Nodo *p, Entero v):', ind: 0},\r\n  { text: 'Nodo *aux = nuevo Nodo(v)', ind: 1},\r\n  { text: 'Si inicio==p', ind: 1},\r\n  { text: 'aux->sig=inicio', ind: 2},\r\n  { text: 'inicio=aux', ind: 2},\r\n  { text: 'sino:', ind: 1},\r\n  { text: 'Nodo *actual=inicio', ind: 2},\r\n  { text: 'Mientras actual->sig != p:', ind: 2},\r\n  { text: 'actual=actual->sig', ind: 3},\r\n  { text: 'actual->sig=aux', ind: 2},\r\n  { text: 'aux->sig=p', ind: 2},\r\n];\r\n\r\nconst doublyInsertBefore = [\r\n  { text: 'InsertarAntesDe(Nodo *p, Entero v):', ind: 0},\r\n  { text: 'Nodo *aux = nuevo Nodo(v)', ind: 1},\r\n  { text: 'Nodo *ant = p->ant', ind: 1},\r\n  { text: 'aux->sig=p, aux->ant=ant', ind: 1},\r\n  { text: 'p->ant=aux', ind: 1},\r\n  { text: 'Si ant == NULL:', ind: 1},\r\n  { text: 'primero=aux', ind: 2},\r\n  { text: 'Sino:', ind: 1},\r\n  { text: 'ant->sig=aux', ind: 2},\r\n];\r\n\r\nconst singlyInsertAfter = [\r\n  { text: 'InsertarDespuesDe(Nodo *p, Entero v):', ind: 0},\r\n  { text: 'Nodo *aux = nuevo Nodo(v)', ind: 1},\r\n  { text: 'Nodo *s = p->sig', ind: 1},\r\n  { text: 'p->sig=aux', ind: 1},\r\n  { text: 'aux->sig=s', ind: 1},\r\n];\r\n\r\nconst doublyInsertAfter = [\r\n  { text: 'InsertarDespuesDe(Nodo *p, Entero v):', ind: 0},\r\n  { text: 'Nodo *aux = nuevo Nodo(v)', ind: 1},\r\n  { text: 'Nodo *sig = p->sig', ind: 1},\r\n  { text: 'aux->ant=p, aux->sig=sig', ind: 1},\r\n  { text: 'p->sig=aux', ind: 1},\r\n  { text: 'Si sig == NULL:', ind: 1},\r\n  { text: 'ultimo=aux', ind: 2},\r\n  { text: 'Sino:', ind: 1},\r\n  { text: 'sig->ant=aux', ind: 2},\r\n];\r\n\r\n\r\nconst singlySet = {\r\n  main: singlyLinkedList,\r\n  pushFront: singlyPushFront,\r\n  pushBack: singlyPushBack,\r\n  popFront: singlyPopFront,\r\n  popBack: singlyPopBack,\r\n  insertBefore: singlyInsertBefore,\r\n  insertAfter: singlyInsertAfter,\r\n  remove: singlyRemove,\r\n}\r\n\r\nconst doublySet = {\r\n  main: doublyLinkedList,\r\n  pushFront: doublyPushFront,\r\n  pushBack: doublyPushBack,\r\n  popFront: doublyPopFront,\r\n  popBack: doublyPopBack,\r\n  insertBefore: doublyInsertBefore,\r\n  insertAfter: doublyInsertAfter,\r\n  remove: doublyRemove,\r\n}\r\n\r\nconst queueSet = {\r\n  main: queue,\r\n  pushFront: [],\r\n  pushBack: queuePush,\r\n  popFront: queuePop,\r\n  popBack: [],\r\n  insertBefore: [],\r\n  insertAfter: [],\r\n  remove: [],\r\n}\r\n\r\nconst stackSet = {\r\n  main: stack,\r\n  pushFront: stackPush,\r\n  pushBack: [],\r\n  popFront: stackPop,\r\n  popBack: [],\r\n  insertBefore: [],\r\n  insertAfter: [],\r\n  remove: [],\r\n}\r\n\r\nexport default {\r\n  singlySet, doublySet, queueSet, stackSet,\r\n};","import BFS from './Algorithms/BFS';\r\nimport DFS from './Algorithms/DFS';\r\nimport Dijkstra from './Algorithms/Dijkstra';\r\nimport BellmanFord from './Algorithms/BellmanFord';\r\nimport Prim from './Algorithms/Prim';\r\nimport Kruskal from './Algorithms/Kruskal';\r\n\r\nimport pseudocodes from './resources/pseudocodes/list';\r\nimport actions from './Actions/actions';\r\nconst properties = {\r\n  BFS: {\r\n    execute: BFS,\r\n    directed: true,\r\n    action: actions.SELECT_BFS,\r\n  },\r\n  DFS: {\r\n    execute: DFS,\r\n    directed: true,\r\n    action: actions.SELECT_DFS,\r\n  },\r\n  Dijkstra: {\r\n    execute: Dijkstra,\r\n    directed: true,\r\n    weighted: true,\r\n    action: actions.SELECT_DIJKSTRA,\r\n  },\r\n  BellmanFord: {\r\n    execute: BellmanFord,\r\n    directed: true,\r\n    weighted: true,\r\n    action: actions.SELECT_BELLMAN_FORD,\r\n  },\r\n  Prim: {\r\n    execute: Prim,\r\n    directed: false,\r\n    weighted: true,\r\n    action: actions.SELECT_PRIM,\r\n  },\r\n  Kruskal: {\r\n    execute: Kruskal,\r\n    directed: false,\r\n    weighted: true,\r\n    action: actions.SELECT_KRUSKAL,\r\n  },\r\n  Heap: {\r\n    action: actions.SELECT_HEAP,\r\n  },\r\n  AVL: {\r\n    action: actions.SELECT_AVL,\r\n  },\r\n  BubbleSort: {\r\n    action: actions.SELECT_BUBBLESORT,\r\n  },\r\n  MergeSort: {\r\n    action: actions.SELECT_MERGESORT,\r\n  },\r\n  BinarySearch: {\r\n    action: actions.SELECT_BINARY_SEARCH,\r\n  },\r\n  SingleLinkedList: {\r\n    action: actions.SELECT_LINKED_LIST,\r\n    type: actions.SELECT_SINGLE_LINKED_LIST,\r\n    pseudoset: pseudocodes.singlySet,\r\n  },\r\n  DoubleLinkedList: {\r\n    action: actions.SELECT_LINKED_LIST,\r\n    type: actions.SELECT_DOUBLE_LINKED_LIST,\r\n    pseudoset: pseudocodes.doublySet,\r\n  },\r\n  Stack: {\r\n    action: actions.SELECT_LINKED_LIST,\r\n    type: actions.SELECT_STACK,\r\n    pseudoset: pseudocodes.stackSet,\r\n  },\r\n  Queue: {\r\n    action: actions.SELECT_LINKED_LIST,\r\n    type: actions.SELECT_QUEUE,\r\n    pseudoset: pseudocodes.queueSet,\r\n  },\r\n\r\n}\r\n\r\nexport default properties;","const BubbleSort = (param) => {\r\n  const values = [];\r\n  for(let i = 0; i < param.length; i++) values.push(param[i]);\r\n  const n = values.length;\r\n\r\n  const commands = [];\r\n  for(let j = 0; j < n; j++){\r\n    commands.push({eles: [], style: [], lines: [1,2]});\r\n    let sorted = true;\r\n    for(let i = 0; i < n-1; i++){\r\n      let bcolor, swap=false;\r\n      if(values[i] > values[i+1]){\r\n        sorted = false; swap=true;\r\n        [values[i], values[i+1]] = [values[i+1], values[i]];\r\n        bcolor = 'LightCoral';\r\n      }else bcolor = 'Chartreuse';\r\n\r\n      commands.push(\r\n        {\r\n          eles: [i.toString(), (i+1).toString()],\r\n          style: [\r\n            {'background-color': bcolor},\r\n            {'background-color': bcolor},\r\n          ], \r\n          duration: 1000,\r\n          lines: [4],\r\n        },\r\n        {\r\n          eles: [i.toString(), (i+1).toString()],\r\n          style: [\r\n            {'background-color': 'white'},\r\n            {'background-color': 'white'},\r\n          ],\r\n          data: [\r\n            {'value': values[i]},\r\n            {'value': values[i+1]},\r\n          ],\r\n          duration: 1000,\r\n          lines: (swap ? [5,6] : [3])\r\n        },\r\n      );\r\n      if(swap) commands.push({eles: [], style: [], lines: [3]});\r\n    }\r\n    if(sorted){\r\n      commands.push({\r\n        eles: [],\r\n        style: [],\r\n        lines:[7],\r\n      });\r\n      break;\r\n    }\r\n  }\r\n  return commands;\r\n}\r\n\r\nexport default BubbleSort;","import React, { ReactElement } from 'react';\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport { Button, FormControl } from 'react-bootstrap';\r\nimport actions from '../Actions/actions';\r\n\r\nconst {connect} = require('react-redux');\r\n//5(3(1(.)(.))(4(.)(.)))(9(7(6(.)(.))(8(.)(.)))(15(11(.)(.))(.)))\r\ntype Props = {\r\n  show: boolean,\r\n  handleClose: () => void,\r\n  changeArray: (values: Array<number>) => void,\r\n  currentValues: Array<number>,\r\n  dispatch: (action:Object)=>void,\r\n}\r\ntype State = {\r\n  text: string,\r\n}\r\nclass InputArrayModal extends React.Component<Props, State>{\r\n  input:HTMLInputElement | null;\r\n  setStepInputRef:(element:HTMLInputElement)=>void;\r\n\r\n  constructor(props:Props){\r\n    super(props);\r\n    this.input = null;\r\n    this.state = {\r\n      text: this.props.currentValues.toString(),\r\n    }\r\n    this.setStepInputRef = element => {\r\n      this.input = element;\r\n    };\r\n  }\r\n\r\n  validateArray(text: string) {\r\n    let regex = /^(([-]?([0-9]{1,3})([,][ ]*)){0,15})([-]?([0-9]{1,3}))$/;\r\n    if (text && regex.test(text)) {\r\n      return true;\r\n    } else {\r\n      this.props.dispatch({type: actions.INVALID_ARRAY_ERROR})\r\n      return false;\r\n    }\r\n  }\r\n\r\n  handleAccept = () => {\r\n    if(this.input && this.validateArray(this.input.value)){\r\n      const text = this.input.value;\r\n      const values = text.split(',').map(x => parseInt(x));\r\n      console.log(values);\r\n      this.props.changeArray(values);\r\n      this.props.handleClose();\r\n    }\r\n  }\r\n\r\n  handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    this.setState({text: e.currentTarget.value});\r\n  }\r\n\r\n  handleCancel = () => {\r\n    this.setState({text: this.props.currentValues.toString()});\r\n    this.props.handleClose();\r\n  }\r\n  render(){\r\n    const {show, handleClose} = this.props;\r\n    return (\r\n      <Modal show={show} onHide={handleClose}>\r\n        <Modal.Header className='modal-header' closeButton>\r\n          <Modal.Title>Introduzca un arreglo de enteros</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <p>Debe estar representado por maximo 16 numeros separados por coma</p>\r\n          <p>Cada numero debe estar entre -999 y 999</p>\r\n          <input \r\n            type=\"text\" \r\n            ref={this.setStepInputRef} \r\n            value={this.state.text}\r\n            size={60}\r\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) => this.handleChange(e)}\r\n          />\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={this.handleCancel}>\r\n            Cancelar\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={this.handleAccept}>\r\n            Aceptar\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect()(InputArrayModal);","import React from 'react';\r\nimport { CytoscapeElement, CytoEvent, AnimationStep } from '../Types/types';\r\nimport { Container, Row } from 'react-bootstrap';\r\nimport ControlBar from './ControlBar';\r\nimport Bubblesort from '../Algorithms/BubbleSort';\r\nimport actions from '../Actions/actions';\r\nimport MediaRecorder from '../utils/MediaRecorder';\r\nimport InputArrayModal from './InputArrayModal';\r\nimport processCommands from '../Processing/graph-processing';\r\nconst Styles = require('../Styles/Styles');\r\nconst cytoscape = require('cytoscape');\r\nconst { connect } = require('react-redux');\r\n\r\ntype storeState = {\r\n\tanimation: string,\r\n\tspeed: number,\r\n\tpaused: boolean,\r\n}\r\n\r\ntype Props = {\r\n\taction: string,\r\n  animation: boolean,\r\n  speed: number,\r\n\tdispatch: (action: Object) => Object,\r\n\tpaused: boolean,\r\n}\r\n\r\ntype State = {\r\n\tshow: boolean,\r\n\tvalues: Array<number>,\r\n}\r\n\r\ntype stackState = Array<number>;\r\n\r\nconst mapStateToProps = (state: storeState) => {\r\n  return {\r\n    animation: state.animation,\r\n\t\tspeed: state.speed,\r\n\t\tpaused: state.paused,\r\n  }\r\n}\r\n\r\n\r\nclass BubbleSort extends React.Component<Props, State> {\r\n\t_isMounted = false;\r\n\t\r\n\t_mediaRecorder = new MediaRecorder();\r\n\r\n  cy = cytoscape();\r\n\r\n\tundo:Array<stackState> =[];\r\n\tredo:Array<stackState> =[];\r\n\r\n\tstate = {\r\n\t\tshow: false,\r\n\t\tvalues: [1,4,8,1,4,3,6,9,10,-1],\r\n\t}\r\n\r\n\tlayout = {\r\n\t\trun: () => { },\r\n\t\tstop: () => { },\r\n\t};\r\n\r\n\tnodeStyle = Styles.NODE;\r\n\toptions:Array<{name: string, run: () => void}>;\r\n\tbuffer:Array<{elements:Array<Object>, lines: Array<number>, duration: number}> = [];\r\n\tconstructor(props:Props){\r\n    super(props);\r\n\t\tthis._mediaRecorder = new MediaRecorder(props.dispatch);\r\n\t\tthis.options = [\r\n\t\t\t{\r\n\t\t\t\tname: 'Ordenar',\r\n\t\t\t\trun: this.runButton,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Cambiar arreglo',\r\n\t\t\t\trun: () => this.setState({show: true}),\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\t\r\n\tanimationTimeout = 0;\r\n\tstep = 0;\r\n  componentDidMount() {\r\n\r\n\t\tthis._isMounted = true;\r\n\t\t\r\n\t\tthis.initialize([]);\r\n\t\tthis.valuesToGraph();\r\n\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: this.props.action,\r\n\t\t\tpayload:{\r\n\t\t\t\tphoto: () => this._mediaRecorder.takePicture(this.cy),\r\n\t\t\t\tgif: () => this._mediaRecorder.takeGif(this.cy),\r\n\t\t\t\toptions: this.options,\r\n\t\t\t\tundo: this.handleUndo,\r\n\t\t\t\tredo: this.handleRedo,\r\n\t\t\t\trewind: this.handleRewind,\r\n\t\t\t\tforward: this.handleForward,\r\n\t\t\t\trepeat: this.handleRepeat,\r\n\t\t\t\tend: this.handleEnd,\r\n\t\t\t\tpause: this.handlePauseContinue,\r\n\t\t\t}\r\n    })\r\n\t\t\r\n\r\n\t}\r\n\t\r\n\tcomponentDidUpdate(prevProps: Props, prevState: State){\r\n\t\tif(prevState.values !== this.state.values){\r\n\t\t\tthis.clearGraph();\r\n\t\t\tthis.valuesToGraph();\r\n\t\t}\r\n\r\n\t\tif(prevProps.animation && !this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.CHANGE_OPTIONS,\r\n\t\t\t\tpayload: { options: this.options}\r\n\t\t\t});\r\n\t\t}else if(!prevProps.animation && this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.CHANGE_OPTIONS,\r\n\t\t\t\tpayload: { options: [{name: 'Volver a edicion', run: this.runButton}]}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount(){\r\n    this.props.dispatch({\r\n      type: actions.ANIMATION_END,\r\n    });\r\n\t\tclearTimeout(this.animationTimeout);\r\n    this._isMounted = false;\r\n\t\tlet nodes = this.cy.nodes();\r\n\t\tnodes.forEach((node: CytoscapeElement) => {\r\n\t\t\tlet id = node.id();\r\n\t\t\tlet popper = document.getElementById(id + 'popper');\r\n\t\t\tif (popper) {\r\n\t\t\t\tdocument.body.removeChild(popper);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\tinitialize(elements: Array<Object>){\r\n    this.cy = cytoscape({\r\n\r\n\t\t\tcontainer: document.getElementById('canvas'), // container to render in\r\n\r\n\t\t\telements,\r\n\r\n\t\t\tstyle: [ // the stylesheet for the graph\r\n\t\t\t\t{\r\n\t\t\t\t\tselector: 'node',\r\n\t\t\t\t\tstyle: {\r\n            ...Styles.NODE,\r\n            shape: 'square',\r\n          }\r\n\t\t\t\t},\r\n\t\t\t],\r\n\r\n\t\t\tlayout: {\r\n\t\t\t\tname: 'preset',\r\n\t\t\t},\r\n\t\t\theadless: false,\r\n\t\t\tstyleEnabled: true,\r\n\t\t\thideEdgesOnViewport: false,\r\n\t\t\thideLabelsOnViewport: false,\r\n\t\t\tuserPanningEnabled: false,\r\n\t\t\tzoomingEnabled: false,\r\n\t\t\ttextureOnViewport: false,\r\n\t\t\tmotionBlur: false,\r\n\t\t\tmotionBlurOpacity: 0.2,\r\n\t\t\tpixelRatio: '1.0',\r\n\t\t\tautoungrabify: true,\r\n\t\t});\r\n\r\n\t\tthis.cy.autopanOnDrag({ enabled: true, speed: 0.01 });\r\n\t\tthis.layout = this.cy.elements().makeLayout({\r\n\t\t\tname: 'preset',\r\n    });\r\n    this.layout.run();\r\n\t}\r\n\r\n\thandleUndo = () => {\r\n\t\tconsole.log('UNDO');\r\n\t\tif(this.undo.length === 0) return;\r\n\r\n\t\tif(this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t})\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst prevValues = this.undo.pop();\r\n\t\tthis.redo.push([...this.state.values]);\r\n\t\tif(prevValues) this.changeArray(prevValues);\r\n\t}\r\n\r\n\thandleRedo = () => {\r\n\t\tif(this.redo.length === 0) return;\r\n\r\n\t\tif(this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t})\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst prevValues = this.redo.pop();\r\n\t\tthis.undo.push([...this.state.values]);\r\n\t\tif(prevValues) this.changeArray(prevValues);\r\n\t}\r\n\t\r\n\thandleRewind = () => { \r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = Math.max(this.step-1, 0);\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandleForward = () => { \r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = Math.min(this.step+1, this.buffer.length-1);\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandleRepeat = () => {\r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = 0;\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandleEnd = () => {\r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = this.buffer.length - 1;\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\t\r\n\thandlePauseContinue = () => {\r\n\t\tif(!this.props.paused){\r\n\t\t\tclearTimeout(this.animationTimeout);\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_PAUSE,\r\n\t\t\t})\r\n\t\t}else{\r\n\t\t\tnew Promise(resolve => {\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.ANIMATION_CONTINUE\r\n\t\t\t\t})\r\n\t\t\t\tresolve();\r\n\t\t\t}).then(() => this.animation());\r\n\t\t}\r\n\t}\r\n\t\r\n\tpushState(){\r\n\t\tthis.redo = [];\r\n\t\tthis.undo.push([...this.state.values]);\r\n\t}\r\n\t\r\n\tloadGraph(elements:Array<Object>){\r\n\t\tconst nodes = this.cy.nodes();\r\n\t\tnodes.forEach((node:CytoscapeElement) => {\r\n\t\t\tthis.cy.remove(node);\r\n\t\t})\r\n\r\n\t\tfor(let i = 0; i < elements.length; i++){\r\n\t\t\tthis.cy.add(elements[i]);\r\n\t\t}\r\n\t\tthis.cy.nodes().forEach((node:CytoscapeElement) => {\r\n\t\t\tconst style = node.data('style');\r\n\t\t\tif(style != null) node.style(style);\r\n\t\t})\r\n\t\tthis.cy.edges().forEach((edge:CytoscapeElement) => {\r\n\t\t\tconst style = edge.data('style');\r\n\t\t\tif(style != null) edge.style(style);\r\n\t\t})\r\n\t}\r\n\t\r\n\texportGraph(withStyle:boolean=false){\r\n\t\tconst elements:Array<Object> = [];\r\n\t\tthis.cy.nodes().forEach((node:CytoscapeElement) => {\r\n\t\t\telements.push({\r\n\t\t\t\tgroup: 'nodes',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: node.id(),\r\n\t\t\t\t\tvalue: node.data('value'),\r\n\t\t\t\t\tposition: node.position(),\r\n\t\t\t\t\tstyle: (withStyle? {\r\n\t\t\t\t\t\tcolor: node.style('color'),\r\n\t\t\t\t\t\tbackgroundColor: node.style('background-color'),\r\n\t\t\t\t\t\tborderWidth: node.style('border-width'),\r\n\t\t\t\t\t\twidth: node.style('width'),\r\n\t\t\t\t\t\theight: node.style('height'),\r\n\t\t\t\t\t\tvisibility: node.style('visibility'),\r\n\t\t\t\t\t} : {}),\r\n\t\t\t\t},\r\n\t\t\t\tposition: {\r\n\t\t\t\t\tx: node.position().x,\r\n\t\t\t\t\ty: node.position().y,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t\treturn elements;\r\n\t}\r\n\r\n  refreshLayout() {\r\n\t\tthis.layout.stop();\r\n    this.layout = this.cy.elements().makeLayout({ name: 'preset' });\r\n    this.layout.run();\r\n\r\n\t}\r\n  \r\n  addNode = (id: string, value: number | string) => {\r\n    this.cy.add({\r\n      group: 'nodes',\r\n      data: {\r\n        id,\r\n        value,\r\n\t\t\t},\r\n\t\t\tposition: {\r\n\t\t\t\tx: this.cy.width()/2 - (this.state.values.length-1)*(40/2) + 40*(parseInt(id)),\r\n\t\t\t\ty: this.cy.height()/4,\r\n\t\t\t},\r\n\t\t});\r\n  }\r\n  \r\n  animation(){\r\n\t\tlet step = () => {\r\n\t\t\tif (this.step === this.buffer.length) {\r\n\t\t\t\t\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.ARRAY_SORTED_SUCCESS,\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.ANIMATION_PAUSE,\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(!this.props.animation){\r\n\t\t\t\tthis.cy.nodes().style(this.nodeStyle);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst {elements, lines, duration} = this.buffer[this.step++];\r\n\t\t\tif(lines) this.props.dispatch({type: actions.CHANGE_LINE, payload: { lines }});\r\n\t\t\tif(this.props.paused) return;\r\n\t\t\tthis.loadGraph(elements);\r\n\t\t\tthis.refreshLayout();\r\n\t\t\tthis.animationTimeout = window.setTimeout(step, ((duration === undefined) ? 1000 : duration)/(this.props.speed));\r\n\t\t}\r\n\t\tstep();\r\n\t}\r\n\r\n  executeAnimation = (commands: Array<AnimationStep>, found?:boolean) => {\r\n\t\tthis.cy.nodes().style({\r\n\t\t\t'background-color': 'white',\r\n\t\t\t'color': 'black',\r\n\t\t});\r\n\t\t\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.STARTING_BUBBLESORT_INFO,\r\n\t\t});\r\n\t\tthis.step = 0;\r\n\t\tthis.animation();\r\n  }\r\n\r\n\tvaluesToGraph(){\r\n\t\tconst {values} = this.state;\r\n\t\tthis.cy.nodes().forEach((node:CytoscapeElement) => this.cy.remove(node));\r\n    for(let i = 0; i < values.length; i++){\r\n      this.addNode(i.toString(), values[i]);\r\n      this.refreshLayout();\r\n    }\r\n\t}\r\n\tclearGraph(){\r\n\t\tconst nodes = this.cy.nodes();\r\n\t\tfor(let i = 0; i < nodes.length; i++){\r\n\t\t\tthis.cy.remove('node[id=\"'+nodes[i].id()+'\"]');\r\n\t\t}\r\n\t}\r\n\trunButton = () => {\r\n    if(this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_END,\r\n\t\t\t});\r\n\t\t\tthis.clearGraph();\r\n\t\t\tthis.valuesToGraph();\r\n\t\t\tclearTimeout(this.animationTimeout);\r\n\t\t\treturn;\r\n\t\t}\r\n    new Promise((resolve: () => void, reject) => { \r\n      this.props.dispatch({\r\n        type: actions.ANIMATION_START,\r\n      })\r\n\t\t\tconst commands = Bubblesort(this.state.values);\r\n\t\t\tthis.buffer = processCommands(this.exportGraph(), commands);     \r\n\t\t\tresolve();\r\n    }).then(()=> {\r\n      setTimeout(this.executeAnimation, 1000/this.props.speed);\r\n    })\r\n\t}\r\n\thandleClose = () => {\r\n\t\tthis.setState({show: false});\r\n\t}\r\n\t\r\n\r\n\tchangeArray = (values: Array<number>) => {\r\n\t\tthis.setState({values});\r\n\t}\r\n\r\n  render(){\r\n    return (\r\n\t\t\t<>\r\n\t\t\t\t<InputArrayModal \r\n\t\t\t\t\tshow={this.state.show} \r\n\t\t\t\t\thandleClose={this.handleClose} \r\n\t\t\t\t\tchangeArray={(v:Array<number>) => {this.pushState(); this.changeArray(v)}}\r\n\t\t\t\t\tcurrentValues={this.state.values}\r\n\t\t\t\t/>\r\n\t\t\t\t<div id=\"canvas\" className='standard-struct'/>\r\n\t\t\t</>\r\n\t\t)\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(BubbleSort);","const mergeSortAnimation = (input, width, height) => {\r\n  const commands = [];\r\n\r\n  const mergeSort = (param, start, l, r, h) => {\r\n    const values = [...param];\r\n    const n = values.length;\r\n    const nodes = [], focus = [], nofocus = [], positions = [];\r\n    const shadows = [], rshadows = [];\r\n    let cmd = {\r\n      nodes: [],\r\n      duration: 1000,\r\n      style: [],\r\n    }\r\n    const p = (l + r)/2;\r\n    values.forEach((value, index) => {\r\n      nodes.push({\r\n        id: (start + index).toString(),\r\n      });\r\n      positions.push({\r\n        x: p - (n-1)*(40/2) + 40*(index),\r\n        y: h,\r\n      });\r\n      focus.push({\r\n        'border-width': '3',\r\n      });\r\n      nofocus.push({\r\n        'border-width': '1',\r\n      })\r\n      shadows.push({\r\n        id: (start+index).toString() + '-' + h.toString(),\r\n        value: '+',\r\n        position: {x: p - (n-1)*(40/2) + 40*(index), y: h }\r\n      });\r\n      rshadows.push({\r\n        id: (start+index).toString() + '-' + h.toString(),\r\n        value: '-',\r\n      });\r\n    });\r\n    commands.push({nodes, style: focus, positions});\r\n    commands.push({shadows, duration: 10});\r\n    if(n === 1){\r\n      commands.push({nodes: [], lines: [1,2], shadows: [{id:start+'-'+h, value: '-'}]});\r\n      return values;\r\n    }\r\n    const mid = Math.floor((n+1)/2);\r\n    commands.push({nodes: [], lines:[3]});\r\n    commands.push({nodes, style: nofocus, duration: 10});\r\n    const left = mergeSort(values.slice(0, mid), start, l, (l+r)/2, h + 50);\r\n    commands.push({nodes, style: focus, duration: 10});\r\n    commands.push({nodes: [], lines:[4]});\r\n    commands.push({nodes, style: nofocus, duration: 10});\r\n    const right = mergeSort(values.slice(mid), start + mid, (l+r)/2, r, h + 50);\r\n    commands.push({nodes, style: focus, duration: 10});\r\n    let li = 0, ri = 0;\r\n    commands.push({nodes: [], lines: [5]}, {nodes: [], lines: [8,9]});\r\n    for(let i = 0; i < n; i++){  \r\n      const pos = p - (n-1)*(40/2) + 40*i;\r\n      cmd = {\r\n        nodes: [],\r\n        duration: 1000,\r\n      };\r\n      if(ri == right.length || (li < left.length && left[li].value<=right[ri].value)){\r\n        cmd.nodes = [{id: left[li].id}];\r\n        cmd.lines = [11,12];\r\n        cmd.positions = [{x: pos, y: h}];\r\n        values[i] = left[li++];\r\n      }else{\r\n        cmd.nodes = [{id: right[ri].id}];\r\n        cmd.positions = [{x: pos, y: h}];\r\n        values[i] = right[ri++];\r\n        cmd.lines=[13, 14];\r\n      }\r\n      commands.push(cmd);\r\n    }\r\n    commands.push({nodes: [], lines: [15]});\r\n    commands.push({nodes: [], lines: [5]});\r\n    commands.push({nodes, style: nofocus, shadows: rshadows});\r\n    return values;\r\n  }\r\n\r\n  input = input.map((value, index) => {\r\n    return {\r\n      value, id: index.toString(),\r\n    }\r\n  });\r\n  const mid = width/2;\r\n  mergeSort(input, 0, mid - 40*input.length, mid + 40*input.length, height/4);\r\n  return commands;\r\n}\r\n\r\nexport default mergeSortAnimation;","import actions from '../Actions/actions';\r\nimport { CytoscapeElement, CytoEvent, AnimationStep } from '../Types/types';\r\n\r\nconst Styles = require('../Styles/Styles');\r\nconst cytoscape = require('cytoscape');\r\nconst { connect } = require('react-redux');\r\n\r\nconst exportGraph = (cy: any) => {\r\n  const elements:Array<Object> = [];\r\n  cy.nodes().forEach((node:CytoscapeElement) => {\r\n    let prev = node.data('prevPosition');\r\n    if(!prev) prev = node.data('position');\r\n    elements.push({\r\n      group: 'nodes',\r\n      data: {\r\n        id: node.id(),\r\n        value: node.data('value'),\r\n        style: node.data('style'),\r\n        position: node.data('position'),\r\n      },\r\n      position: prev,\r\n    })\r\n    node.data('prevPosition', node.data('position'));\r\n  });\r\n  cy.edges().forEach((edge:CytoscapeElement) => {\r\n    elements.push({\r\n      group: 'edges',\r\n      data: {\r\n        id: edge.id(),\r\n        source: edge.source().id(), target: edge.target().id(),\r\n        weight: edge.data('weight'),\r\n        style: edge.data('style'),\r\n        /*\r\n        style: {\r\n          lineColor: edge.style('line-color'),\r\n          targetArrowShape: edge.style('target-arrow-shape'),\r\n          targetArrowColor: edge.style('target-arrow-color'),\r\n          lineStyle: edge.style('line-style'),\r\n        }\r\n        */\r\n      }\r\n    })\r\n  });\r\n  console.log(JSON.parse(JSON.stringify(elements)));\r\n  return JSON.parse(JSON.stringify(elements));\r\n}\r\n\r\n\r\nconst addShadow = (cy: any, id: string, position: {x: number, y: number}) => {\r\n  console.log('adding shadow');\r\n  cy.add({\r\n    group: 'nodes',\r\n    data: { \r\n      id,\r\n      style: {\r\n        zIndex: 1\r\n      },\r\n      position: {x: position.x, y: position.y}\r\n    },\r\n    position: {x: position.x, y: position.y}\r\n  });\r\n  console.log('shadow added', cy.nodes());\r\n}\r\n\r\nconst processCommands = (elements: Array<Object>, commands:Array<AnimationStep>) => {\r\n  \r\n  const cy = cytoscape({\r\n    elements: JSON.parse(JSON.stringify(elements)),\r\n    headless: true,\r\n  });\r\n\r\n  const steps:Array<{elements:Array<Object>, lines: Array<number>, duration: number}>=[];\r\n\r\n  let lastLines:Array<number> = [];\r\n  let lastDuration = 0;\r\n  for(let pos = 0; pos < commands.length; pos++){\r\n    let {nodes, duration, lines, style, positions, shadows} = commands[pos];\r\n    if(duration == null) duration = 1000;\r\n    if(lines == null) lines = lastLines;\r\n\r\n    steps.push({elements: exportGraph(cy), lines: lastLines, duration: lastDuration});\r\n    lastLines = lines;\r\n    lastDuration = duration;\r\n    if(nodes){\r\n      nodes.forEach((node, index) => {\r\n        let ele = cy.getElementById(node.id);\r\n        ele.data('prevPosition', ele.data('position'));\r\n        let prevStyle = ele.data('style');\r\n        if(style) ele.data('style', {...prevStyle, ...style[index]});\r\n        if(positions){\r\n          ele.data('position', positions[index]);\r\n        }\r\n      })\r\n    }\r\n    if(shadows){\r\n      //console.log(shadows);\r\n      shadows.forEach(shadow => {\r\n        if(shadow.value === '+') addShadow(cy, shadow.id, shadow.position);\r\n        else cy.remove('node[id=\"'+shadow.id+'\"]');\r\n      });\r\n    }\r\n  }\r\n  steps.push({elements: exportGraph(cy), lines: lastLines, duration: 0});\r\n  return steps;\r\n}\r\n\r\nexport default processCommands;","import React from 'react';\r\nimport { CytoscapeElement, CytoEvent, AnimationStep } from '../Types/types';\r\nimport { Container, Row } from 'react-bootstrap';\r\nimport ControlBar from './ControlBar';\r\nimport InputArrayModal from './InputArrayModal';\r\nimport Mergesort from '../Algorithms/MergeSort';\r\nimport actions from '../Actions/actions';\r\nimport MediaRecorder from '../utils/MediaRecorder';\r\nimport processCommands from '../Processing/mergesort-processing';\r\nimport { node } from 'prop-types';\r\nconst Styles = require('../Styles/Styles');\r\nconst cytoscape = require('cytoscape');\r\nconst { connect } = require('react-redux');\r\n\r\ntype options = {\r\n  name: string,\r\n  positions: { [id: string]: { x: number, y: number } },\r\n  padding: number,\r\n  animate: boolean,\r\n  animationDuration: number,\r\n}\r\n\r\ntype stackState = Array<number>;\r\n\r\ntype State = {\r\n\tshow: boolean,\r\n\tvalues: Array<number>,\r\n}\r\n\r\nlet layoutOptions: options = {\r\n  name: 'preset',\r\n  positions: {}, // map of (node id) => (position obj); or function(node){ return somPos; }\r\n  padding: 30, // padding on fit\r\n  animate: true, // whether to transition the node positions\r\n  animationDuration: 500, // duration of animation in ms if enabled\r\n};\r\n\r\ntype storeState = {\r\n\tanimation: string,\r\n\tspeed: number,\r\n\tpaused: boolean,\r\n}\r\n\r\ntype Props = {\r\n  action: string,\r\n  animation: boolean,\r\n  speed: number,\r\n\tdispatch: (action: Object) => Object,\r\n\tpaused: boolean,\r\n}\r\nconst mapStateToProps = (state: storeState) => {\r\n  return {\r\n    animation: state.animation,\r\n\t\tspeed: state.speed,\r\n\t\tpaused: state.paused,\r\n  }\r\n}\r\n\r\nclass MergeSort extends React.Component<Props, State> {\r\n\t_isMounted = false;\r\n\t_mediaRecorder = new MediaRecorder();\r\n  cy = cytoscape();\r\n\r\n  state = {\r\n\t\tshow: false,\r\n\t\tvalues: [4, 8, 12, 16, 10, 4, 40, 17],\r\n\t}\r\n\r\n\tlayout = {\r\n\t\trun: () => { },\r\n\t\tstop: () => { },\r\n\t};\r\n\r\n\tnodeStyle = {...Styles.NODE, shape: 'square', zIndex: 2};\r\n\r\n\toptions:Array<{name: string, run: () => void}>;\r\n\r\n\tbuffer:Array<{elements:Array<Object>, lines: Array<number>, duration: number}> = [];\r\n\r\n\tundo:Array<stackState> = [];\r\n\tredo:Array<stackState> = [];\r\n\r\n\tstep = 0;\r\n\tanimationTimeout = 0;\r\n\tconstructor(props:Props){\r\n    super(props);\r\n\t\tthis._mediaRecorder = new MediaRecorder(props.dispatch);\r\n\t\tthis.options = [\r\n\t\t\t{\r\n\t\t\t\tname: 'Ordenar',\r\n\t\t\t\trun: this.runButton,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Cambiar arreglo',\r\n\t\t\t\trun: () => this.setState({show: true}),\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\t\r\n  componentDidMount() {\r\n\r\n\t\tthis._isMounted = true;\r\n\t\t\t\t\r\n\t\tthis.initialize([]);\r\n\t\tthis.valuesToGraph();\r\n\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: this.props.action,\r\n\t\t\tpayload: {\r\n\t\t\t\tphoto: () => this._mediaRecorder.takePicture(this.cy),\r\n\t\t\t\tgif: () => this._mediaRecorder.takeGif(this.cy),\r\n\t\t\t\toptions: this.options,\r\n\t\t\t\tundo: this.handleUndo,\r\n\t\t\t\tredo: this.handleRedo,\r\n\t\t\t\trewind: this.handleRewind,\r\n\t\t\t\tforward: this.handleForward,\r\n\t\t\t\tpause: this.handlePauseContinue,\r\n\t\t\t\trepeat: this.handleRepeat,\r\n\t\t\t\tend: this.handleEnd,\r\n\t\t\t}\r\n    })\r\n\t}\r\n\t\r\n\tcomponentDidUpdate(prevProps:Props, prevState:State){\r\n\t\tlayoutOptions.animationDuration = 500/this.props.speed;\r\n\t\tif(prevState.values !== this.state.values){\r\n\t\t\tthis.clearGraph();\r\n\t\t\tthis.valuesToGraph();\r\n\t\t}\r\n\t\tif(prevProps.animation && !this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.CHANGE_OPTIONS,\r\n\t\t\t\tpayload: { options: this.options}\r\n\t\t\t});\r\n\t\t}else if(!prevProps.animation && this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.CHANGE_OPTIONS,\r\n\t\t\t\tpayload: { options: [{name: 'Volver a edicion', run: this.runButton}]}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentWillUnmount() {\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.ANIMATION_END,\r\n\t\t});\r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis._isMounted = false;\r\n  }\r\n\t\r\n\tinitialize(elements: Array<Object>){\r\n\t\tthis.cy = cytoscape({\r\n\r\n\t\t\tcontainer: document.getElementById('canvas'), // container to render in\r\n\r\n\t\t\telements: JSON.parse(JSON.stringify(elements)),\r\n\r\n\t\t\tstyle: [ // the stylesheet for the graph\r\n\t\t\t\t{\r\n\t\t\t\t\tselector: 'node',\r\n\t\t\t\t\tstyle: this.nodeStyle,\r\n\t\t\t\t},\r\n\t\t\t],\r\n\r\n\t\t\tlayout: {\r\n\t\t\t\tname: 'preset',\r\n\t\t\t},\r\n\t\t\theadless: false,\r\n\t\t\tstyleEnabled: true,\r\n\t\t\thideEdgesOnViewport: false,\r\n\t\t\thideLabelsOnViewport: false,\r\n\t\t\tuserPanningEnabled: false,\r\n\t\t\tzoomingEnabled: false,\r\n\t\t\ttextureOnViewport: false,\r\n\t\t\tmotionBlur: false,\r\n\t\t\tmotionBlurOpacity: 0.2,\r\n\t\t\tpixelRatio: '1.0',\r\n\t\t\tautoungrabify: true,\r\n\t\t});\r\n\t\tlayoutOptions.positions = {};\r\n\t\tthis.cy.autopanOnDrag({ enabled: true, speed: 0.01 });\r\n\t\tthis.layout = this.cy.elements().makeLayout(layoutOptions);\r\n    this.layout.run();\r\n\t\t//this.refreshLayout();\r\n\t}\r\n\r\n\thandleUndo = () => {\r\n\t\tif(this.undo.length === 0) return;\r\n\r\n\t\tif(this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t})\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst prevValues = this.undo.pop();\r\n\t\tthis.redo.push([...this.state.values]);\r\n\t\tif(prevValues) this.changeArray(prevValues);\r\n\t}\r\n\r\n\thandleRedo = () => {\r\n\t\tif(this.redo.length === 0) return;\r\n\r\n\t\tif(this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t})\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst prevValues = this.redo.pop();\r\n\t\tthis.undo.push([...this.state.values]);\r\n\t\tif(prevValues) this.changeArray(prevValues);\r\n\t}\r\n\r\n\tpushState(){\r\n\t\tthis.redo = [];\r\n\t\tthis.undo.push([...this.state.values]);\r\n\t}\r\n\r\n\thandleRewind = () => { \r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = Math.max(this.step-1, 0);\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements, true);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandleForward = () => { \r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = Math.min(this.step+1, this.buffer.length-1);\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements, true);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandleRepeat = () => {\r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = 0;\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandleEnd = () => {\r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = this.buffer.length - 1;\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandlePauseContinue = () => {\r\n\t\tif(!this.props.paused){\r\n\t\t\tclearTimeout(this.animationTimeout);\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_PAUSE,\r\n\t\t\t})\r\n\t\t}else{\r\n\t\t\tnew Promise(resolve => {\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.ANIMATION_CONTINUE\r\n\t\t\t\t})\r\n\t\t\t\tresolve();\r\n\t\t\t}).then(() => this.animation());\r\n\t\t}\r\n\t}\r\n\t\r\n\tloadGraph(elements: Array<Object>, keep=false) {\r\n    const nodes = this.cy.nodes();\r\n    const positions:{[id:string]:{x:number,y:number}} = {};\r\n\t\tnodes.forEach((node: CytoscapeElement) => {\r\n      if(keep) positions[node.id()] = JSON.parse(JSON.stringify(node.data('position')));\r\n\t\t\tthis.cy.remove(node);\r\n\t\t})\r\n\r\n\t\tfor (let i = 0; i < elements.length; i++) {\r\n\t\t\tthis.cy.add(JSON.parse(JSON.stringify(elements[i])));\r\n\t\t}\r\n\r\n\t\tthis.cy.nodes().forEach((node: CytoscapeElement) => {\r\n\t\t\tconst style = node.data('style');\r\n\t\t\tif (style != null) node.style(style);\r\n      const position = node.data('position');\r\n      if(keep && positions[node.id()]) node.position({x:positions[node.id()].x, y:positions[node.id()].y});\r\n\t\t\t//console.log(\"PREV\", node.position());\r\n\t\t\t//console.log(\"NEXT\", position);\r\n\t\t\tif (position != null) {\r\n\t\t\t\tlayoutOptions.positions[node.id()] = JSON.parse(JSON.stringify(position));\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tthis.cy.edges().forEach((edge: CytoscapeElement) => {\r\n\t\t\tconst style = edge.data('style');\r\n\t\t\tif (style != null) edge.style(style);\r\n\t\t})\r\n\r\n    this.refreshLayout();\r\n\t}\r\n\t\r\n\texportGraph(withStyle:boolean=false){\r\n\t\tconst elements:Array<Object> = [];\r\n\t\tthis.cy.nodes().forEach((node:CytoscapeElement) => {\r\n\t\t\telements.push({\r\n\t\t\t\tgroup: 'nodes',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: node.id(),\r\n\t\t\t\t\tvalue: node.data('value'),\r\n\t\t\t\t\tposition: node.position(),\r\n\t\t\t\t\tstyle: (withStyle? {\r\n\t\t\t\t\t\tcolor: node.style('color'),\r\n\t\t\t\t\t\tzIndex: node.style('z-index'),\r\n\t\t\t\t\t\tbackgroundColor: node.style('background-color'),\r\n\t\t\t\t\t\tborderWidth: node.style('border-width'),\r\n\t\t\t\t\t\twidth: node.style('width'),\r\n\t\t\t\t\t\theight: node.style('height'),\r\n\t\t\t\t\t\tvisibility: node.style('visibility'),\r\n\t\t\t\t\t} : {}),\r\n\t\t\t\t},\r\n\t\t\t\tposition: {\r\n\t\t\t\t\tx: node.position().x,\r\n\t\t\t\t\ty: node.position().y,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t\treturn elements;\r\n\t}\r\n\r\n  refreshLayout() {\r\n\t\tthis.layout.stop();\r\n    this.layout = this.cy.elements().makeLayout({...layoutOptions, animate: true});\r\n    this.layout.run();\r\n\t}\r\n  \r\n  addNode = (id: string, value: number | string) => {\r\n    this.cy.add({\r\n      group: 'nodes',\r\n      data: {\r\n        id,\r\n        value,\r\n\t\t\t},\r\n\t\t\tposition: {\r\n\t\t\t\tx: this.cy.width()/2 - (this.state.values.length-1)*(40/2) + 40*(parseInt(id)),\r\n\t\t\t\ty: this.cy.height()/4,\r\n\t\t\t},\r\n\t\t});\r\n\t\tlayoutOptions.positions[id] = {\r\n\t\t\tx: this.cy.width()/2 - (this.state.values.length-1)*(40/2) + 40*(parseInt(id)),\r\n\t\t\ty: this.cy.height()/4,\r\n\t\t}\r\n  }\r\n\t\r\n\taddShadow = (id: string, position: {x: number, y: number}) => {\r\n\t\tthis.cy.add({\r\n\t\t\tgroup: 'nodes',\r\n\t\t\tdata: { id },\r\n\t\t\tstyle: {'z-index': 1},\r\n\t\t\tposition,\r\n\t\t});\r\n\t\tlayoutOptions.positions[id] = position;\r\n\t}\r\n\r\n  animation(){\r\n\t\tlet step = () => {\r\n\t\t\tconsole.log(this.props.paused);\r\n\t\t\tif (this.step === this.buffer.length) {\r\n\t\t\t\t\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.ARRAY_SORTED_SUCCESS,\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.ANIMATION_PAUSE,\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(!this.props.animation){\r\n\t\t\t\tthis.cy.nodes().style(this.nodeStyle);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst {elements, lines, duration} = this.buffer[this.step++];\r\n\t\t\tif(this.props.paused) return;\r\n\t\t\tthis.loadGraph(elements);\r\n\t\t\tif(lines) this.props.dispatch({type: actions.CHANGE_LINE, payload: { lines }});\r\n\t\t\tconsole.log(duration);\r\n\t\t\tthis.animationTimeout = window.setTimeout(step, ((duration === undefined) ? 1000 : duration)/(this.props.speed));\r\n\t\t}\r\n\t\tstep();\r\n\t}\r\n\r\n  executeAnimation = (commands: Array<AnimationStep>, found?:boolean) => {\r\n\t\tthis.cy.nodes().style({\r\n\t\t\t'background-color': 'white',\r\n\t\t\t'color': 'black',\r\n\t\t});\r\n\t\t\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.STARTING_BUBBLESORT_INFO,\r\n\t\t});\r\n\t\tthis.step = 0;\r\n\t\tthis.animation();\r\n  }\r\n\r\n\tvaluesToGraph(){\r\n\t\tconst {values} = this.state;\r\n    for(let i = 0; i < values.length; i++){\r\n      this.addNode(i.toString(), values[i]);\r\n\t\t}\r\n\t\tthis.refreshLayout();\r\n\r\n\t}\r\n\r\n\tclearGraph(){\r\n\t\tconst nodes = this.cy.nodes();\r\n\t\tfor(let i = 0; i < nodes.length; i++){\r\n\t\t\tthis.cy.remove('node[id=\"'+nodes[i].id()+'\"]');\r\n\t\t}\r\n\t}\r\n\trunButton = () => {\r\n    if(this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_END,\r\n\t\t\t});\r\n\t\t\tthis.clearGraph();\r\n\t\t\tthis.valuesToGraph();\r\n\t\t\tclearTimeout(this.animationTimeout);\r\n\t\t\treturn;\r\n\t\t}\r\n    new Promise((resolve: () => void, reject) => { \r\n      this.props.dispatch({\r\n        type: actions.ANIMATION_START,\r\n      })\r\n\t\t\tconst commands = Mergesort(this.state.values, this.cy.width(), this.cy.height());\r\n\t\t\tthis.buffer = processCommands(this.exportGraph(), commands);     \r\n\t\t\tresolve();\r\n    }).then(()=> {\r\n      setTimeout(this.executeAnimation, 1000/this.props.speed);\r\n    })\r\n\t}\r\n\thandleClose = () => {\r\n\t\tthis.setState({show: false});\r\n\t}\r\n\r\n\tchangeArray = (values: Array<number>) => {\r\n\t\tthis.setState({values});\r\n\t}\r\n\r\n  render(){\r\n    return (\r\n\t\t\t<>\r\n\t\t\t\t<InputArrayModal \r\n\t\t\t\t\tshow={this.state.show} \r\n\t\t\t\t\thandleClose={this.handleClose} \r\n\t\t\t\t\tchangeArray={(v:Array<number>) => {this.pushState(); this.changeArray(v)}}\r\n\t\t\t\t\tcurrentValues={this.state.values}\r\n\t\t\t\t/>\r\n\t\t\t\t<div id=\"canvas\" className='standard-struct'/>\r\n\t\t\t</>\r\n\t\t)\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(MergeSort);","const Sort = (param) => {\r\n  const values = [];\r\n  for(let i = 0; i < param.length; i++) values.push(param[i]);\r\n  const n = values.length;\r\n  for(let j = 0; j < n; j++){\r\n    let sorted = true;\r\n    for(let i = 0; i < n-1; i++){\r\n      if(values[i] > values[i+1]){\r\n        sorted = false; \r\n        [values[i], values[i+1]] = [values[i+1], values[i]];\r\n      }\r\n    }\r\n    if(sorted) break;\r\n  }\r\n  return values;\r\n}\r\n\r\nexport default Sort;","import Sort from './BubbleSort-util';\r\nconst BinarySearch = (param, value) => {\r\n  const values = Sort(param);\r\n  const n = values.length;\r\n  const positions = Array(n).fill().map((value, index) => index.toString());\r\n  const defaultStyle = Array(n).fill({'border-width': 1, 'z-index': 0});\r\n  const commands = [];\r\n\r\n  let lo = 0, hi = n - 1;\r\n  let found = false;\r\n  while(lo <= hi){\r\n    commands.push({\r\n      eles: positions,\r\n      style: defaultStyle,\r\n      duration: 0,\r\n    });\r\n    const cmd = {eles: [], style: []};\r\n    for(let i = lo; i <= hi; i++){\r\n      cmd.eles.push(i.toString());\r\n      cmd.style.push({'border-width': 3, 'z-index': 1});\r\n    }\r\n    commands.push(cmd);\r\n    const mid = Math.floor((lo + hi)/2);\r\n    commands.push({\r\n      eles: [mid.toString()],\r\n      style: [{'background-color': 'gray', 'z-index': 2}],\r\n      lines: [3],\r\n    });\r\n    commands.push({\r\n      lines: (value < values[mid] ? [6, 7] : (values[mid] < value ? [8, 9] : [4, 5])),\r\n    });\r\n    if(values[mid] === value){\r\n      commands.push({\r\n        eles: [mid.toString()],\r\n        style: [{'background-color': 'lightgreen'}],\r\n        lines: [4, 5],\r\n      });\r\n      found = true;\r\n      break;\r\n    }\r\n\r\n    commands.push({\r\n      eles: [mid.toString()],\r\n      style: [{'background-color': 'white', 'z-index': 1}],\r\n      duration: 10,\r\n    });\r\n    if(values[mid] < value) lo = mid + 1;\r\n    else hi = mid - 1;\r\n  }\r\n  if(!found) commands.push({eles: [], style: [], lines: [10]});\r\n  return commands;\r\n}\r\n\r\nexport default BinarySearch;","import React from 'react';\r\nimport { CytoscapeElement, CytoEvent, AnimationStep } from '../Types/types';\r\nimport { Container, Row } from 'react-bootstrap';\r\nimport ControlBar from './ControlBar';\r\nimport Bubblesort from '../Algorithms/BubbleSort';\r\nimport actions from '../Actions/actions';\r\nimport MediaRecorder from '../utils/MediaRecorder';\r\nimport InputArrayModal from './InputArrayModal';\r\nimport InputModal from './InputModal';\r\nimport BinarySearchAlgo from '../Algorithms/BinarySearch';\r\nimport Sort from '../Algorithms/BubbleSort-util';\r\nimport processCommands from '../Processing/graph-processing';\r\nconst Styles = require('../Styles/Styles');\r\nconst cytoscape = require('cytoscape');\r\nconst { connect } = require('react-redux');\r\n\r\ntype storeState = {\r\n\tanimation: string,\r\n\tspeed: number,\r\n\tpaused: boolean,\r\n}\r\n\r\ntype Props = {\r\n\taction: string,\r\n  animation: boolean,\r\n  speed: number,\r\n\tdispatch: (action: Object) => Object,\r\n\tpaused: boolean,\r\n}\r\n\r\ntype stackState = Array<number>;\r\n\r\ntype State = {\r\n  show: boolean,\r\n  showInputModal: boolean,\r\n\tvalues: Array<number>,\r\n}\r\n\r\nconst mapStateToProps = (state: storeState) => {\r\n  return {\r\n    animation: state.animation,\r\n\t\tspeed: state.speed,\r\n\t\tpaused: state.paused,\r\n  }\r\n}\r\n\r\nclass BinarySearch extends React.Component<Props, State> {\r\n\t_isMounted = false;\r\n\t\r\n\t_mediaRecorder = new MediaRecorder();\r\n\r\n  cy = cytoscape();\r\n\r\n\tundo:Array<stackState> = [];\r\n\tredo:Array<stackState> = [];\r\n\r\n\tstate = {\r\n    show: false,\r\n    showInputModal: false,\r\n\t\tvalues: [1,2,3,4,5,6,7,8],\r\n\t}\r\n\r\n\tlayout = {\r\n\t\trun: () => { },\r\n\t\tstop: () => { },\r\n\t};\r\n\r\n\tnodeStyle = Styles.NODE;\r\n\toptions:Array<{name: string, run: () => void}>;\r\n\tbuffer: Array<{elements: Array<Object>, lines: Array<number>, duration: number}> = [];\r\n\tanimationTimeout = 0;\r\n\tstep = 0;\r\n\tconstructor(props:Props){\r\n    super(props);\r\n\t\tthis._mediaRecorder = new MediaRecorder(props.dispatch);\r\n\t\tthis.options = [\r\n\t\t\t{\r\n\t\t\t\tname: 'Buscar',\r\n\t\t\t\trun: () => this.setState({showInputModal: true}),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Cambiar arreglo',\r\n\t\t\t\trun: () => this.setState({show: true}),\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\t\r\n  componentDidMount() {\r\n\r\n\t\tthis._isMounted = true;\r\n\t\t\r\n    \r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: this.props.action,\r\n\t\t\tpayload:{\r\n\t\t\t\tphoto: () => this._mediaRecorder.takePicture(this.cy),\r\n\t\t\t\tgif: () => this._mediaRecorder.takeGif(this.cy),\r\n\t\t\t\toptions: this.options,\r\n\t\t\t\tundo: this.handleUndo,\r\n\t\t\t\tredo: this.handleRedo,\r\n\t\t\t\trewind: this.handleRewind,\r\n\t\t\t\tforward: this.handleForward,\r\n\t\t\t\tpause: this.handlePauseContinue,\r\n\t\t\t\trepeat: this.handleRepeat,\r\n\t\t\t\tend: this.handleEnd,\r\n\t\t\t}\r\n    })\r\n\t\t\r\n\t\tthis.initialize([]);\r\n\t\tthis.valuesToGraph();\r\n\t}\r\n\t\r\n\tcomponentDidUpdate(prevProps: Props, prevState: State){\r\n\t\tif(prevState.values !== this.state.values){\r\n\t\t\tthis.clearGraph();\r\n\t\t\tthis.valuesToGraph();\r\n\t\t}\r\n\r\n\t\tif(prevProps.animation && !this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.CHANGE_OPTIONS,\r\n\t\t\t\tpayload: { options: this.options}\r\n\t\t\t});\r\n\t\t}else if(!prevProps.animation && this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.CHANGE_OPTIONS,\r\n\t\t\t\tpayload: { options: [{name: 'Volver a edicion', run: this.runButton}]}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t}\r\n\tcomponentWillUnmount(){\r\n    this.props.dispatch({\r\n      type: actions.ANIMATION_END,\r\n    });\r\n    \r\n\t\tthis._isMounted = false;\r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tlet nodes = this.cy.nodes();\r\n\t\tnodes.forEach((node: CytoscapeElement) => {\r\n\t\t\tlet id = node.id();\r\n\t\t\tlet popper = document.getElementById(id + 'popper');\r\n\t\t\tif (popper) {\r\n\t\t\t\tdocument.body.removeChild(popper);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\thandleUndo = () => {\r\n\t\tif(this.undo.length === 0) return;\r\n\r\n\t\tif(this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t})\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst prevValues = this.undo.pop();\r\n\t\tthis.redo.push([...this.state.values]);\r\n\t\tif(prevValues) this.changeArray(prevValues);\r\n\t}\r\n\r\n\thandleRedo = () => {\r\n\t\tif(this.redo.length === 0) return;\r\n\r\n\t\tif(this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t})\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst prevValues = this.redo.pop();\r\n\t\tthis.undo.push([...this.state.values]);\r\n\t\tif(prevValues) this.changeArray(prevValues);\r\n\t}\r\n\r\n\thandleRewind = () => { \r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = Math.max(this.step-1, 0);\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandleForward = () => { \r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = Math.min(this.step+1, this.buffer.length-1);\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandleRepeat = () => {\r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = 0;\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandleEnd = () => {\r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = this.buffer.length - 1;\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\t\r\n\thandlePauseContinue = () => {\r\n\t\tif(!this.props.paused){\r\n\t\t\tclearTimeout(this.animationTimeout);\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_PAUSE,\r\n\t\t\t})\r\n\t\t}else{\r\n\t\t\tnew Promise(resolve => {\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.ANIMATION_CONTINUE\r\n\t\t\t\t})\r\n\t\t\t\tresolve();\r\n\t\t\t}).then(() => this.animation());\r\n\t\t}\r\n\t}\r\n\t\r\n\tpushState(){\r\n\t\tthis.redo = [];\r\n\t\tthis.undo.push([...this.state.values]);\r\n\t}\r\n\r\n\tloadGraph(elements:Array<Object>){\r\n\t\tconst nodes = this.cy.nodes();\r\n\t\tnodes.forEach((node:CytoscapeElement) => {\r\n\t\t\tthis.cy.remove(node);\r\n\t\t})\r\n\r\n\t\tfor(let i = 0; i < elements.length; i++){\r\n\t\t\tthis.cy.add(elements[i]);\r\n\t\t}\r\n\t\tthis.cy.nodes().forEach((node:CytoscapeElement) => {\r\n\t\t\tconst style = node.data('style');\r\n\t\t\tif(style != null) node.style(style);\r\n\t\t})\r\n\t\tthis.cy.edges().forEach((edge:CytoscapeElement) => {\r\n\t\t\tconst style = edge.data('style');\r\n\t\t\tif(style != null) edge.style(style);\r\n\t\t})\r\n\t}\r\n\t\r\n\texportGraph(withStyle:boolean=false){\r\n\t\tconst elements:Array<Object> = [];\r\n\t\tthis.cy.nodes().forEach((node:CytoscapeElement) => {\r\n\t\t\telements.push({\r\n\t\t\t\tgroup: 'nodes',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: node.id(),\r\n\t\t\t\t\tvalue: node.data('value'),\r\n\t\t\t\t\tposition: node.position(),\r\n\t\t\t\t\tstyle: (withStyle? {\r\n\t\t\t\t\t\tcolor: node.style('color'),\r\n\t\t\t\t\t\tbackgroundColor: node.style('background-color'),\r\n\t\t\t\t\t\tborderWidth: node.style('border-width'),\r\n\t\t\t\t\t\twidth: node.style('width'),\r\n\t\t\t\t\t\theight: node.style('height'),\r\n\t\t\t\t\t\tvisibility: node.style('visibility'),\r\n\t\t\t\t\t} : {}),\r\n\t\t\t\t},\r\n\t\t\t\tposition: {\r\n\t\t\t\t\tx: node.position().x,\r\n\t\t\t\t\ty: node.position().y,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t\treturn elements;\r\n\t}\r\n\r\n  refreshLayout() {\r\n\t\tthis.layout.stop();\r\n    this.layout = this.cy.elements().makeLayout({ name: 'preset' });\r\n    this.layout.run();\r\n\r\n\t}\r\n  \r\n  addNode = (id: string, value: number | string) => {\r\n    this.cy.add({\r\n      group: 'nodes',\r\n      data: {\r\n        id,\r\n        value,\r\n\t\t\t},\r\n\t\t\tposition: {\r\n\t\t\t\tx: this.cy.width()/2 - (this.state.values.length-1)*(40/2) + 40*(parseInt(id)),\r\n\t\t\t\ty: this.cy.height()/4,\r\n\t\t\t},\r\n\t\t});\r\n  }\r\n\t\r\n\tanimation(found=false){\r\n\t\tlet step = () => {\r\n\t\t\tif(!this.props.animation){\r\n\t\t\t\tthis.cy.nodes().style(this.nodeStyle);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (this.step === this.buffer.length) {\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: found ? actions.BINARY_SEARCH_FOUND_SUCCESS : actions.BINARY_SEARCH_NOT_FOUND_INFO,\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.ANIMATION_PAUSE,\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif(this.props.paused) return;\r\n\t\t\tconst {elements, lines, duration} = this.buffer[this.step++];\r\n\t\t\tthis.loadGraph(elements);\r\n\t\t\tif(lines) this.props.dispatch({type: actions.CHANGE_LINE, payload: { lines }});\r\n\t\t\tthis.refreshLayout();\r\n\t\t\tthis.animationTimeout = window.setTimeout(step, ((duration === undefined) ? 1000 : duration)/(this.props.speed));\r\n\t\t}\r\n\t\tstep();\r\n\t}\r\n  executeAnimation = (found?:boolean) => {\r\n\t\tthis.cy.nodes().style({\r\n\t\t\t'background-color': 'white',\r\n\t\t\t'color': 'black',\r\n\t\t});\r\n\t\t\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.STARTING_BINARY_SEARCH_INFO,\r\n\t\t});\r\n\t\tthis.step = 0;\r\n\t\tthis.animation(found);\r\n  }\r\n\r\n\tvaluesToGraph(){\r\n\t\tconst {values} = this.state;\r\n\t\tthis.cy.nodes().forEach((node:CytoscapeElement) => this.cy.remove(node));\r\n    for(let i = 0; i < values.length; i++){\r\n      this.addNode(i.toString(), values[i]);\r\n      this.refreshLayout();\r\n    }\r\n\t}\r\n\tinitialize(elements: Array<Object>){\r\n    this.cy = cytoscape({\r\n\r\n\t\t\tcontainer: document.getElementById('canvas'), // container to render in\r\n\r\n\t\t\telements,\r\n\r\n\t\t\tstyle: [ // the stylesheet for the graph\r\n\t\t\t\t{\r\n\t\t\t\t\tselector: 'node',\r\n\t\t\t\t\tstyle: {\r\n            ...Styles.NODE,\r\n            shape: 'square',\r\n          }\r\n\t\t\t\t},\r\n\t\t\t],\r\n\r\n\t\t\tlayout: {\r\n\t\t\t\tname: 'preset',\r\n\t\t\t},\r\n\t\t\theadless: false,\r\n\t\t\tstyleEnabled: true,\r\n\t\t\thideEdgesOnViewport: false,\r\n\t\t\thideLabelsOnViewport: false,\r\n\t\t\tuserPanningEnabled: false,\r\n\t\t\tzoomingEnabled: false,\r\n\t\t\ttextureOnViewport: false,\r\n\t\t\tmotionBlur: false,\r\n\t\t\tmotionBlurOpacity: 0.2,\r\n\t\t\tpixelRatio: '1.0',\r\n\t\t\tautoungrabify: true,\r\n\t\t});\r\n\r\n\t\tthis.cy.autopanOnDrag({ enabled: true, speed: 0.01 });\r\n\t\tthis.layout = this.cy.elements().makeLayout({\r\n\t\t\tname: 'preset',\r\n    });\r\n    this.layout.run();\r\n\t}\r\n\tclearGraph(){\r\n\t\tconst nodes = this.cy.nodes();\r\n\t\tfor(let i = 0; i < nodes.length; i++){\r\n\t\t\tthis.cy.remove('node[id=\"'+nodes[i].id()+'\"]');\r\n\t\t}\r\n\t}\r\n  runButton = (value:number) => {\r\n    if(this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_END,\r\n\t\t\t});\r\n\t\t\tthis.clearGraph();\r\n\t\t\tthis.valuesToGraph();\r\n\t\t\tclearTimeout(this.animationTimeout);\r\n\t\t\treturn;\r\n\t\t}\r\n    new Promise((resolve: (found:boolean) => void, reject) => { \r\n      this.props.dispatch({\r\n        type: actions.ANIMATION_START,\r\n      })\r\n\t\t\tconst commands = BinarySearchAlgo(this.state.values, value);\r\n\t\t\tthis.buffer = processCommands(this.exportGraph(), commands);\r\n\t\t\tconst found = this.cy.nodes('[value = '+value+']').length > 0;\r\n\t\t\tconsole.log(found);\r\n      resolve(found);\r\n    }).then((found:boolean)=> {\r\n      setTimeout(this.executeAnimation, 1000/this.props.speed, found);\r\n    })\r\n\t}\r\n\r\n\thandleClose = () => {\r\n\t\tthis.setState({show: false});\r\n\t}\r\n\t\r\n\r\n\tchangeArray = (values: Array<number>) => {\r\n    const sorted = Sort(values);\r\n\t\tthis.setState({values: sorted});\r\n\t}\r\n\r\n  render(){\r\n    return (\r\n\t\t\t<>\r\n        <InputModal\r\n          show={this.state.showInputModal}\r\n          handleClose={()=>this.setState({showInputModal: false})}\r\n          callback={(v:number)=>this.runButton(v)}\r\n          currentValue={0}\r\n        />\r\n\t\t\t\t<InputArrayModal \r\n\t\t\t\t\tshow={this.state.show} \r\n\t\t\t\t\thandleClose={this.handleClose} \r\n\t\t\t\t\tchangeArray={(v:Array<number>) => {this.pushState(); this.changeArray(v)}}\r\n\t\t\t\t\tcurrentValues={this.state.values}\r\n\t\t\t\t/>\r\n\t\t\t\t<div id=\"canvas\" className='standard-struct'/>\r\n\t\t\t</>\r\n\t\t)\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(BinarySearch);","import actions from \"../../Actions/actions\";\r\n\r\n// Simple array used to create commands for Linked List Animation\r\n\r\nclass LinkedListSimulator {\r\n  _data = [];\r\n\r\n  constructor(data = [], type = 'none'){\r\n    this._data = [...data];\r\n    this.type = type;\r\n  }\r\n  length(){\r\n    return this._data.length;\r\n  }\r\n\r\n  push_back(element, slow){\r\n    const {id, value} = element;\r\n    let source = undefined;\r\n    const commands = [];\r\n    let lines;\r\n    if(this.length() === 0){\r\n      commands.push({lines: [2,3]});\r\n    }else{\r\n      if(this.type === actions.SELECT_QUEUE){\r\n        lines = [4, 5, 6];\r\n      }else if(this.type === actions.SELECT_DOUBLE_LINKED_LIST){\r\n        lines = [4, 5, 6, 7];\r\n      }\r\n    }\r\n    if(slow){\r\n      for(let i = 0; i < this.length(); i++){\r\n        const {id} = this._data[i];\r\n        commands.push(\r\n          { eles: [id], style: [{'background-color': 'black', 'color': 'white'}], lines: [6, 7]},\r\n          { eles: [id], style: [{'background-color': 'white', 'color': 'black'}], duration: 10 },\r\n        )\r\n      }\r\n    }\r\n    if(this.length()){\r\n      source = this._data[this.length()-1].id;\r\n    }\r\n\r\n    if(this.type === actions.SELECT_SINGLE_LINKED_LIST) lines = [8];\r\n    commands.push({\r\n      eles: [], style: [],\r\n      inst: [{\r\n        name: 'push_back',\r\n        data: {\r\n          id, value, source,\r\n        }\r\n      }],\r\n      lines,\r\n    });\r\n    console.log(commands);\r\n    return commands;\r\n  }\r\n\r\n  pop_back(slow){\r\n    if(this.length() === 0) return [];\r\n    const commands = [];\r\n    if(slow){\r\n      for(let i = 0; i < this.length(); i++){\r\n        const {id} = this._data[i];\r\n        let lines;\r\n        if(this.length() === 1) lines = [2, 3, 4, 5];\r\n        else lines = [7, 8, 9];\r\n        commands.push(\r\n          { eles: [id], style: [{'background-color': 'black', 'color': 'white'}], lines},\r\n          { eles: [id], style: [{'background-color': 'white', 'color': 'black'}], duration: 10 },\r\n        )\r\n      }\r\n    }\r\n    const {id} = this._data[this.length()-1];\r\n    let lines;\r\n    if(this.type === actions.SELECT_SINGLE_LINKED_LIST && this.length() > 1) lines = [10, 11];\r\n    else if(this.type === actions.SELECT_DOUBLE_LINKED_LIST){\r\n      commands.push({\r\n        eles: [id], \r\n        style: [{'background-color': 'black', 'color':'white'}], \r\n        lines: [2, 3],\r\n      });\r\n      if(this.length() === 1) lines = [4, 5];\r\n      else lines = [6,7];\r\n    }\r\n    commands.push(\r\n      {\r\n        eles: [], style: [],\r\n        inst: [{\r\n          name: 'pop_back',\r\n          data: { id, value: this.length()-1},\r\n        }],\r\n        lines,\r\n      }\r\n    );\r\n    return commands;\r\n  }\r\n\r\n  push_front(element){\r\n    const {id, value} = element;\r\n    let target = undefined;\r\n    if(this.length()) target = this._data[0].id;\r\n    let lines;\r\n    if(this.length() === 0){\r\n      lines = [2,3];\r\n    }else{\r\n      if(this.type === actions.SELECT_SINGLE_LINKED_LIST) lines = [4,5,6];\r\n      else if(this.type === actions.SELECT_DOUBLE_LINKED_LIST) lines = [4,5,6,7];\r\n      else if(this.type === actions.SELECT_STACK) lines = [4,5,6];\r\n    }\r\n    const commands = [{\r\n      eles: [], style: [],\r\n      inst: [{\r\n        name: 'push_front',\r\n        data: {\r\n          id, value, target,\r\n        }\r\n      }],\r\n      lines,\r\n    }]\r\n    return commands;\r\n  }\r\n\r\n  pop_front(){\r\n    if(this.length() === 0) return [{eles: [], style: []}];\r\n    const {id} = this._data[0];\r\n    let lines;\r\n    const commands = [];\r\n    if(this.type === actions.SELECT_SINGLE_LINKED_LIST || this.type === actions.SELECT_STACK) lines = [2,3,4];\r\n    else if(this.type === actions.SELECT_DOUBLE_LINKED_LIST){\r\n      commands.push({\r\n        eles: [id], style: [{'background-color': 'black', 'color': 'white'}],\r\n        lines: [2, 3],\r\n      });\r\n      if(this.length() === 1) lines = [4, 5];\r\n      else lines = [6, 7];\r\n    }else{\r\n      if(this.length() === 1) lines = [3,4];\r\n      else lines = [5,6];\r\n    }\r\n    commands.push(\r\n      {\r\n        eles: [], style: [],\r\n        inst: [{\r\n          name: 'pop_front',\r\n          data: { id },\r\n        }],\r\n        lines,\r\n      }\r\n    );\r\n    //this._data.shift();\r\n    return commands;\r\n  }\r\n\r\n  search(value){\r\n    const n = this.length();\r\n    const commands = [];\r\n    for(let i = 0; i < n; i++){\r\n      //Animations steps here\r\n      const id = this._data[i].id;\r\n      commands.push({\r\n        eles: [id],\r\n        style: [{ 'background-color': 'black', 'color': 'white'}],\r\n      });\r\n\r\n      if(this._data[i].value === value){\r\n        commands.push({\r\n          eles: [id],\r\n          style: [{'background-color': 'lightgreen', 'color': 'black'}],\r\n        })\r\n        return true;\r\n      }\r\n      commands.push({\r\n        eles: [id],\r\n        style: [{'background-color': 'white', 'color': 'black'}],\r\n        duration: 10,\r\n      })\r\n    }\r\n    return commands;\r\n  }\r\n\r\n  insert_before(nodeId, newId, value, slow = false){\r\n    const n = this.length();\r\n    const commands = [];\r\n    let i;\r\n    for(i = 0; i < n; i++){\r\n      const id = this._data[i].id;\r\n      if(nodeId === id) break;\r\n      if(slow){\r\n        commands.push(\r\n          {\r\n            eles: [id],\r\n            style: [{ 'background-color': 'black', 'color': 'white'}],\r\n            lines: [7, 8],\r\n          },\r\n          {\r\n            eles: [id],\r\n            style: [{ 'background-color': 'white', 'color': 'black'}],\r\n            duration: 10,\r\n          }\r\n        );\r\n      }\r\n      \r\n    }\r\n    if(i === n) return commands;\r\n    const pos = i;\r\n    let prev = '', next = nodeId;\r\n    let lines;\r\n    if(this.type === actions.SELECT_SINGLE_LINKED_LIST){\r\n      if(pos === 0) lines = [2, 3, 4];\r\n      else lines = [9, 10];\r\n    }else{\r\n      if(pos === 0) lines = [5, 6];\r\n      else lines = [7, 8];\r\n    }\r\n    if(pos - 1 >= 0){\r\n      prev = this._data[pos-1].id;\r\n      commands.push({\r\n        inst: [\r\n          {\r\n            name: 'remove_edge',\r\n            data: {source: prev, target: next}\r\n          }\r\n        ],\r\n        lines: (this.type === actions.SELECT_DOUBLE_LINKED_LIST ? [2, 3, 4] : undefined),\r\n        duration: 500,\r\n      });\r\n    }\r\n    commands.push({\r\n      inst: [\r\n        {\r\n          name: 'add_node_before',\r\n          data: {id: newId, value, pos},\r\n        },\r\n        {\r\n          name: 'add_edge',\r\n          data: {source: prev, target: newId},\r\n        },\r\n        {\r\n          name: 'add_edge',\r\n          data: {source: newId, target: next},\r\n        },\r\n      ],\r\n      lines,\r\n    });\r\n    return commands;\r\n  }\r\n\r\n  insert_after(nodeId, newId, value, slow = false){\r\n    const n = this.length();\r\n    const commands = [];\r\n    let i;\r\n    for(i = 0; i < n; i++){\r\n      const id = this._data[i].id;\r\n      if(slow){\r\n        commands.push(\r\n          {\r\n            eles: [id],\r\n            style: [{ 'background-color': 'black', 'color': 'white'}],\r\n            duration: 500,\r\n          },\r\n          {\r\n            eles: [id],\r\n            style: [{ 'background-color': 'white', 'color': 'black'}],\r\n            duration: 10,\r\n          }\r\n        );\r\n      }\r\n      if(nodeId === id) break;\r\n    }\r\n    if(i === n) return commands;\r\n\r\n    const pos = i;\r\n    let prev = nodeId, next = '';\r\n    if(pos + 1 < this.length()) next = this._data[pos+1].id;\r\n    if(pos + 1 < this.length()){\r\n      commands.push({\r\n        inst: [\r\n          {\r\n            name: 'remove_edge',\r\n            data: {source: prev, target: next},\r\n            duration: 500,\r\n          }\r\n        ],\r\n        lines: (this.type === actions.SELECT_DOUBLE_LINKED_LIST ? [2, 3, 4] : [2, 3]),\r\n      });\r\n    }\r\n    let lines;\r\n    if(this.type === actions.SELECT_DOUBLE_LINKED_LIST){\r\n      lines = (pos === this.length() - 1 ? [5, 6] : [7, 8]);\r\n    }else lines = [4];\r\n    \r\n    commands.push({\r\n      inst: [\r\n        {\r\n          name: 'add_node',\r\n          data: {id: newId, value, pos},\r\n        },\r\n        {\r\n          name: 'add_edge',\r\n          data: {source: prev, target: newId},\r\n        },\r\n        {\r\n          name: 'add_edge',\r\n          data: {source: newId, target: next},\r\n        },\r\n      ],\r\n      lines,\r\n      duration: 500,\r\n    });\r\n    return commands;\r\n  }\r\n  delete_position(nodeId, slow = false){\r\n    const n = this.length();\r\n    const commands = [];\r\n    let i;\r\n    for(i = 0; i < n; i++){\r\n      const id = this._data[i].id;\r\n      if(slow){\r\n        let lines;\r\n        if(nodeId === id && i === 0) lines = [1, 2];\r\n        else lines = [6, 7, 8];\r\n        commands.push(\r\n          {\r\n            eles: [id],\r\n            style: [{ 'background-color': 'black', 'color': 'white'}],\r\n            duration: 1000,\r\n            lines,\r\n          },\r\n          {\r\n            eles: [id],\r\n            style: [{ 'background-color': 'white', 'color': 'black'}],\r\n            duration: 10,\r\n          }\r\n        );\r\n      }\r\n      if(nodeId === id) break;\r\n    }\r\n    if(i === n) return commands;\r\n    const pos = i;\r\n    let source, target;\r\n    if(pos > 0 && pos + 1 < this.length()){\r\n      source = this._data[pos-1].id;\r\n      target = this._data[pos+1].id;\r\n    }\r\n    let lines;\r\n    if(this.type === actions.SELECT_SINGLE_LINKED_LIST){\r\n      if(pos === 0) lines = [3];\r\n      else lines = [9, 10];\r\n    }else if(this.type === actions.SELECT_DOUBLE_LINKED_LIST){\r\n      let caseLines;\r\n      if(this.length() === 1) caseLines = [2, 3];\r\n      else if(pos === 0) caseLines = [4, 5];\r\n      else if(pos === this.length() - 1) caseLines = [6, 7];\r\n      else caseLines = [8, 9];\r\n      commands.push({\r\n        eles: [nodeId], style: [{'background-color': 'black', 'color': 'white'}],\r\n        lines: caseLines,\r\n      });\r\n\r\n      lines = [10];\r\n    }\r\n\r\n    commands.push({\r\n      inst: [{\r\n        name: 'remove',\r\n        data: {id: nodeId, value: pos, source, target}\r\n      }],\r\n      lines,\r\n      duration: 500,\r\n    });\r\n    return commands;\r\n  }\r\n\r\n\r\n}\r\n\r\nexport default LinkedListSimulator;","import actions from '../Actions/actions';\r\nimport { CytoscapeElement, CytoEvent, AnimationStep } from '../Types/types';\r\nimport LinkedListSimulator from '../Algorithms/DS/LinkedListSimulator';\r\nconst Styles = require('../Styles/Styles');\r\nconst cytoscape = require('cytoscape');\r\nconst { connect } = require('react-redux');\r\n\r\ntype exportStep = {\r\n  elements: Array<Object>\r\n  lines: Array<number>,\r\n  duration: number,\r\n  pseudo?: Array<Object>,\r\n  list?: Array<Object>,\r\n}\r\n\r\ntype pseudoSet = {\r\n  main: Array<{text: string, ind: number}>,\r\n  pushFront: Array<{text: string, ind: number}>,\r\n  pushBack: Array<{text: string, ind: number}>,\r\n  popFront: Array<{text: string, ind: number}>,\r\n  popBack: Array<{text: string, ind: number}>,\r\n  insertBefore: Array<{text: string, ind: number}>,\r\n  insertAfter: Array<{text: string, ind: number}>,\r\n  remove: Array<{text: string, ind: number}>,\r\n}\r\n\r\nclass ListProcessor{\r\n  cy = cytoscape();\r\n  vh:number;\r\n  vw:number;\r\n  list = new LinkedListSimulator();\r\n  buffer:Array<exportStep> = [];\r\n  doublyLinked:boolean;\r\n  constructor(vw: number, vh: number, doubly:boolean, type: string){\r\n    this.vh = vh; this.vw = vw; \r\n    this.doublyLinked = doubly;\r\n    this.list = new LinkedListSimulator([], type);\r\n  }\r\n\r\n  loadGraph(elements:Array<Object>=[], list:Array<Object>=[]){\r\n    this.cy = cytoscape({\r\n      elements: JSON.parse(JSON.stringify(elements)),\r\n    });\r\n    this.list._data = [...list];\r\n  }\r\n  \r\n  exportGraph(){\r\n\t\tconst elements:Array<Object> = [];\r\n\t\tthis.cy.nodes().forEach((node:CytoscapeElement) => {\r\n      let prev = node.data('prevPosition');\r\n      if(!prev) prev = node.data('position');\r\n\t\t\telements.push({\r\n\t\t\t\tgroup: 'nodes',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: node.id(),\r\n          value: node.data('value'),\r\n          position: node.data('position'),\r\n          style: node.data('style'),\r\n\t\t\t\t},\r\n\t\t\t\tposition: prev,\r\n\t\t\t});\r\n\t\t});\r\n\t\tthis.cy.edges().forEach((edge:CytoscapeElement) => {\r\n\t\t\telements.push({\r\n\t\t\t\tgroup: 'edges',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: edge.id(),\r\n\t\t\t\t\tsource: edge.source().id(), target: edge.target().id(),\r\n          weight: edge.data('weight'),\r\n          style: edge.data('style'),\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t\treturn elements;\r\n  }\r\n\r\n  layoutProcessing(){\r\n    const n = this.list.length();\r\n    if(n === 0) return;\r\n    const mid = this.vw/2;\r\n    for(let i = 0; i < n; i++){\r\n      const {id} = this.list._data[i];\r\n      const node = this.cy.getElementById(id);\r\n      const prevPosition = node.data('position');\r\n      node.data('prevPosition', {x: prevPosition.x, y: prevPosition.y});\r\n      node.data('position', { x: mid - (n-1)*(40) + 70*i, y: this.vh/4 });\r\n    }\r\n  }\r\n\r\n  removeNode = (node: string) => {\r\n\t\tthis.cy.remove('node[id=\"' + node + '\"]');\r\n  }\r\n  \r\n  removeEdge = (edge: string) => {\r\n\t\tthis.cy.remove('edge[id=\"' + edge + '\"]');\r\n  }\r\n  \r\n  addNode(id: string, value: number, position: {x: number, y: number} = {x: 0, y: 0}){\r\n    this.cy.add({\r\n      group: 'nodes',\r\n      data: {\r\n        id,\r\n        value,\r\n        position: {\r\n          x: position.x,\r\n          y: position.y,\r\n        }\r\n      },\r\n    });\r\n  }\r\n  \r\n  addEdge(x: string, y: string) {\r\n    //this.pushState();\r\n\t\tthis.cy.add({\r\n\t\t\tgroup: 'edges',\r\n\t\t\tdata: {\r\n\t\t\t\tid: x + '-' + y,\r\n\t\t\t\tsource: x,\r\n        target: y,\r\n        weight: 'sig',\r\n      },\r\n    });\r\n  }\r\n  \r\n  pushStep(lines: Array<number> = [], duration: number = 0){\r\n    this.buffer.push({\r\n      elements: this.exportGraph(),\r\n      lines,\r\n      duration,\r\n      list: this.list._data,\r\n    });\r\n  }\r\n  processCommands(commands: Array<AnimationStep>){\r\n\t\tthis.cy.nodes().style({\r\n\t\t\t'background-color': 'white',\r\n\t\t\t'color': 'black',\r\n    });\r\n    this.buffer = [];\r\n    let lastLines:Array<number> = [];\r\n    let lastDuration = 0;\r\n    this.pushStep([], 0);\r\n    console.log(commands);\r\n    for(let pos = 0; pos < commands.length; pos++){\r\n      let { eles, style, duration, inst, lines} = commands[pos];\r\n      if(duration == null) duration = 1000;\r\n      if(lines == null) lines = lastLines;\r\n      this.layoutProcessing();\r\n      this.pushStep(lastLines, lastDuration);\r\n      lastLines = lines;\r\n      lastDuration = duration;\r\n\r\n      if (eles) {\r\n        eles.forEach((ele, index) => {\r\n          if(style) this.cy.getElementById(ele).data('style', style[index]);\r\n        });\r\n      }\r\n      \r\n      if(inst){\r\n        inst.forEach(ele => {\r\n          if(ele.data == null) return;\r\n          const {id, value, source, target} = ele.data;\r\n\r\n          if(ele.name === 'remove'){\r\n            if(id !== undefined) this.removeNode(id);\r\n            if(source != null && target != null) this.addEdge(source, target);\r\n            if(value !== undefined) this.list._data.splice(value, 1);\r\n          }else if(ele.name === 'add'){\r\n            if(id !== undefined && value !== undefined){\r\n              this.addNode(id, value);\r\n              this.list._data.push({id, value});\r\n              if(source !== undefined) this.addEdge(source, id);\r\n              if(target !== undefined) this.addEdge(id, target);\r\n            }\r\n          }else if(ele.name === 'push_back'){\r\n            if(id != null && value != null){\r\n              const n = this.list.length();\r\n              this.addNode(id, value, {x: this.vw/2 + n*40, y: this.vh/4 - 70});\r\n              this.list._data.push({id, value});\r\n              if(source != null) this.addEdge(source, id);\r\n            }\r\n          }else if(ele.name === 'push_front'){\r\n            if(id != null && value != null){\r\n              this.addNode(id, value, {x: this.vw/2 - this.list.length()*40, y: this.vh/4 - 70});\r\n              this.list._data.unshift({id, value});\r\n              if(target != null) this.addEdge(id, target);\r\n            }\r\n          }else if(ele.name === 'pop_front'){\r\n            if(id != null){\r\n              this.removeNode(id);\r\n              this.list._data.shift();\r\n            }\r\n          }else if(ele.name === 'pop_back'){\r\n            if(id != null){\r\n              this.removeNode(id);\r\n              this.list._data.pop();\r\n            }\r\n          }else if(ele.name === 'add_node_before'){\r\n            let {id, value, pos} = ele.data;\r\n            if(id != null && value != null && pos != null){\r\n              const x = this.vw/2 - (this.list.length()-1)*(40) + 70*pos;\r\n              this.addNode(id, value, {x, y: this.vh/4 - 70});\r\n              if(pos === 0) this.list._data.unshift({id, value});\r\n              else{\r\n\r\n                let rest = this.list._data.splice(pos);\r\n                this.list._data.push({id, value});\r\n                this.list._data = this.list._data.concat(...rest);\r\n              }\r\n            }\r\n          }else if(ele.name === 'add_node'){\r\n            let {id, value, pos} = ele.data;\r\n            if(id != null && value != null && pos != null){\r\n              const x = this.vw/2 - (this.list.length()-1)*(40) + 70*pos;\r\n              this.addNode(id, value, {x, y: this.vh/4 - 70});\r\n              pos++;\r\n              if(pos === this.list.length()) this.list._data.push({id, value});\r\n              else{\r\n                let rest = this.list._data.splice(pos);\r\n                this.list._data.push({id, value});\r\n                this.list._data = this.list._data.concat(...rest);\r\n              }\r\n            }\r\n          }else if(ele.name === 'add_edge'){\r\n            let {source, target} = ele.data;\r\n            if(source && target){\r\n              console.log('ADD', source, target);\r\n              this.addEdge(source, target);\r\n            }\r\n          }else if(ele.name === 'remove_edge'){\r\n            let {source, target} = ele.data;\r\n            if(source && target){\r\n              this.removeEdge(source+'-'+target);\r\n              if(this.doublyLinked) this.removeEdge(target+'-'+source);\r\n            }\r\n          }\r\n        });\r\n      }\r\n    }\r\n    this.layoutProcessing();\r\n    this.pushStep(lastLines, lastDuration);\r\n  }\r\n\r\n  pushFront(value: number = 0){\r\n    /*\r\n    this.props.dispatch({\r\n      type: actions.CHANGE_PSEUDO,\r\n      payload: {\r\n        pseudo: this.props.pseudoset.pushFront,\r\n      }\r\n    });\r\n    */\r\n    let id = 0;\r\n    while(this.cy.getElementById(id.toString()).length > 0) id++;\r\n    const commands = this.list.push_front({id: id.toString(), value});\r\n    this.processCommands(commands);\r\n    this.layoutProcessing();\r\n    this.pushStep();\r\n    //console.log(this.buffer);\r\n    return this.buffer;\r\n  }\r\n\r\n\r\n  pushBack(value: number = 0, slow:boolean = false){\r\n    /*\r\n    this.props.dispatch({\r\n      type: actions.CHANGE_PSEUDO,\r\n      payload: {\r\n        pseudo: this.props.pseudoset.pushBack,\r\n      }\r\n    });\r\n    */\r\n    let id = 0;\r\n    while(this.cy.getElementById(id.toString()).length > 0) id++;\r\n    const commands = this.list.push_back({id: id.toString(), value}, slow);\r\n    this.processCommands(commands);\r\n    this.layoutProcessing();\r\n    this.pushStep();\r\n    return this.buffer;\r\n  }\r\n\r\n  popFront(){\r\n    /*\r\n    this.props.dispatch({\r\n      type: actions.CHANGE_PSEUDO,\r\n      payload: {\r\n        pseudo: this.props.pseudoset.popFront,\r\n      }\r\n    });\r\n    */\r\n    const commands = this.list.pop_front();\r\n    this.processCommands(commands);\r\n    this.layoutProcessing();\r\n    this.pushStep();\r\n    return this.buffer;\r\n  }\r\n\r\n  popBack(slow:boolean=false){\r\n    /*\r\n    this.props.dispatch({\r\n      type: actions.CHANGE_PSEUDO,\r\n      payload: {\r\n        pseudo: this.props.pseudoset.popBack,\r\n      }\r\n    });\r\n    */\r\n    const commands = this.list.pop_back(slow);\r\n    this.processCommands(commands);\r\n    this.layoutProcessing();\r\n    this.pushStep();\r\n    return this.buffer;\r\n  }\r\n\r\n  insert(value:number = 0, where:string, slow = false, nodeId: string){\r\n    /*\r\n    this.props.dispatch({\r\n      type: actions.CHANGE_PSEUDO,\r\n      payload: {\r\n        pseudo: (where === 'before' ? this.props.pseudoset.insertBefore : this.props.pseudoset.insertAfter),\r\n      }\r\n    });\r\n    */\r\n    let id = 0;\r\n    while(this.cy.getElementById(id.toString()).length > 0) id++;\r\n    let commands;\r\n    console.log(nodeId);\r\n    console.log(this.list._data);\r\n    if(where === 'before') commands = this.list.insert_before(nodeId, id.toString(), value, slow);\r\n    else commands = this.list.insert_after(nodeId, id.toString(), value, slow);\r\n    this.processCommands(commands);\r\n    this.layoutProcessing();\r\n    this.pushStep();\r\n    return this.buffer;\r\n  }\r\n\r\n  remove(slow = false, nodeId: string){\r\n\r\n    /*\r\n    this.props.dispatch({\r\n      type: actions.CHANGE_PSEUDO,\r\n      payload: {\r\n        pseudo: this.props.pseudoset.remove,\r\n      }\r\n    });\r\n    */\r\n    const commands = this.list.delete_position(nodeId, slow);  \r\n    this.processCommands(commands);\r\n    this.layoutProcessing();\r\n    this.pushStep();\r\n    return this.buffer;\r\n  }\r\n}\r\n\r\nexport default ListProcessor;","import React from 'react';\r\nimport MediaRecorder from '../utils/MediaRecorder';\r\nimport LinkedListSimulator from '../Algorithms/DS/LinkedListSimulator';\r\nimport ListProcessor from '../Processing/list-processing';\r\nimport actions from '../Actions/actions';\r\nimport { AnimationStep, CytoscapeElement, CytoEvent } from '../Types/types';\r\nimport InputModal from './InputModal';\r\n\r\nconst cytoscape = require('cytoscape');\r\nconst Styles = require('../Styles/Styles');\r\nconst { connect } = require('react-redux');\r\n\r\ntype pseudoSet = {\r\n  main: Array<{text: string, ind: number}>,\r\n  pushFront: Array<{text: string, ind: number}>,\r\n  pushBack: Array<{text: string, ind: number}>,\r\n  popFront: Array<{text: string, ind: number}>,\r\n  popBack: Array<{text: string, ind: number}>,\r\n  insertBefore: Array<{text: string, ind: number}>,\r\n  insertAfter: Array<{text: string, ind: number}>,\r\n  remove: Array<{text: string, ind: number}>,\r\n}\r\n\r\ntype exportStep = {\r\n  elements: Array<Object>\r\n  lines: Array<number>,\r\n  duration: number,\r\n}\r\n\r\ntype options = {\r\n  name: string,\r\n  positions: { [id: string]: { x: number, y: number } },\r\n  padding: number,\r\n  animate: boolean,\r\n  animationDuration: number,\r\n}\r\n\r\nlet layoutOptions: options = {\r\n  name: 'preset',\r\n  positions: {}, // map of (node id) => (position obj); or function(node){ return somPos; }\r\n  padding: 30, // padding on fit\r\n  animate: true, // whether to transition the node positions\r\n  animationDuration: 500, // duration of animation in ms if enabled\r\n};\r\n\r\ntype Props = {\r\n  dispatch: (action: Object) => Object,\r\n\r\n  action: string,\r\n  type: string,\r\n\talgorithm: string,\r\n\r\n\tanimation: Boolean,\r\n\tselection: {\r\n\t\ttype: string,\r\n\t\tid: string,\r\n\t\tweight: string,\r\n\t}\r\n\tspeed: number,\r\n\r\n  options: Array<{name: string, run: () => void}>,\r\n\tloadingGraph: Boolean,\r\n  data: string,\r\n  \r\n  pseudoset: pseudoSet,\r\n  paused: boolean,\r\n}\r\n\r\ntype State = {\r\n  showPushFrontModal: boolean,\r\n  showPushBackModal: boolean,\r\n  showPushAfterModal: boolean,\r\n  showPushBeforeModal: boolean,\r\n  showDeleteModal: boolean,\r\n}\r\ntype storeState = {\r\n  animation: boolean,\r\n  speed: number,\r\n  selection: Object,\r\n  paused: boolean,\r\n}\r\n\r\ntype stackState = {\r\n  list: Array<Object>,\r\n  elements: Array<Object>,\r\n}\r\n\r\nconst mapStateToProps = (state: storeState) => {\r\n  return {\r\n    animation: state.animation,\r\n    speed: state.speed,\r\n    selection: state.selection,\r\n    paused: state.paused,\r\n  }\r\n}\r\nclass LinkedList extends React.Component<Props, State>{\r\n  _mediaRecorder = new MediaRecorder(this.props.dispatch);\r\n  _isMounted = false;\r\n\r\n  list = new LinkedListSimulator();\r\n  undo: Array<stackState> = [];\r\n  redo: Array<stackState> = [];\r\n\r\n  ListProcessor:any;\r\n  layout = {\r\n\t\trun: () => { },\r\n\t\tstop: () => { },\r\n  };\r\n  \r\n  doublyLinked = false;\r\n\r\n  state = {\r\n    showDeleteModal: false,\r\n    showPushBeforeModal: false,\r\n    showPushBackModal: false,\r\n    showPushFrontModal: false,\r\n    showPushAfterModal: false,\r\n  }\r\n\r\n  cy = cytoscape();\r\n\r\n  nodeStyle = {...Styles.NODE, shape: 'square'};  \r\n  edgeStyle = {};\r\n  buffer:Array<exportStep> =[];\r\n  options:Array<{name: string, run: () => void}> = [];\r\n\r\n  step = 0;\r\n  animationTimeout = 0;\r\n  constructor(props:Props){\r\n    super(props);\r\n    if(this.props.type === actions.SELECT_SINGLE_LINKED_LIST || this.props.type === actions.SELECT_DOUBLE_LINKED_LIST){\r\n      this.options = [\r\n        {\r\n          name: 'Insertar al frente',\r\n          run: () => \r\n              this.props.animation\r\n              ? this.props.dispatch({type: actions.ANIMATION_RUNNING_ERROR})\r\n              : this.setState({showPushFrontModal: true}),\r\n        },\r\n        {\r\n          name: 'Insertar al final',\r\n          run: () => \r\n              this.props.animation\r\n              ? this.props.dispatch({type: actions.ANIMATION_RUNNING_ERROR})\r\n              : this.setState({showPushBackModal: true}),\r\n        },\r\n        {\r\n          name: 'Extraer frente',\r\n          run: () => this.popFront(),\r\n        },\r\n        {\r\n          name: 'Extraer final',\r\n          run: () => this.popBack(!this.doublyLinked),\r\n        },\r\n        {\r\n          name: 'Insertar antes de',\r\n          run: () => \r\n            this.props.selection  \r\n            ? this.setState({showPushBeforeModal: true})\r\n            : this.props.dispatch({type: actions.NO_NODE_SELECTED_ERROR})\r\n        },\r\n        {\r\n          name: 'Insertar despues de',\r\n          run: () => \r\n            this.props.selection  \r\n            ? this.setState({showPushAfterModal: true})\r\n            : this.props.dispatch({type: actions.NO_NODE_SELECTED_ERROR})\r\n        },\r\n        {\r\n          name: 'Eliminar nodo',\r\n          run: () => this.remove(!this.doublyLinked),\r\n        }\r\n      ]\r\n    }else if(this.props.type === actions.SELECT_STACK){\r\n      this.options = [\r\n        {\r\n          name: 'Apilar',\r\n          run: () => \r\n              this.props.animation\r\n              ? this.props.dispatch({type: actions.ANIMATION_RUNNING_ERROR})\r\n              : this.setState({showPushFrontModal: true}),\r\n        },\r\n        {\r\n          name: 'Desapilar',\r\n          run: () => this.popFront(),\r\n        }\r\n      ]\r\n    }else if(this.props.type === actions.SELECT_QUEUE){\r\n      this.options = [\r\n        {\r\n          name: 'Encolar',\r\n          run: () =>\r\n              this.props.animation\r\n              ? this.props.dispatch({type: actions.ANIMATION_RUNNING_ERROR}) \r\n              : this.setState({showPushBackModal: true}),\r\n        },\r\n        {\r\n          name: 'Desencolar',\r\n          run: () => this.popFront(),\r\n        }\r\n      ]\r\n    }\r\n  }\r\n\r\n  initialize(state: stackState){\r\n\r\n    this.edgeStyle = {...Styles.EDGE, ...Styles.EDGE_DIRECTED};\r\n\r\n    if(this.doublyLinked) this.edgeStyle = {...this.edgeStyle, ...Styles.EDGE_DOUBLE}\r\n    const {list, elements} = state;\r\n\t\tthis.cy = cytoscape({\r\n\r\n\t\t\tcontainer: document.getElementById('canvas'), // container to render in\r\n\r\n\t\t\telements,\r\n\r\n\t\t\tstyle: [ // the stylesheet for the graph\r\n\t\t\t\t{\r\n\t\t\t\t\tselector: 'node',\r\n\t\t\t\t\tstyle: {\r\n            ...Styles.NODE,\r\n            shape: 'square',\r\n          }\r\n\t\t\t\t},\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\tselector: 'edge',\r\n\t\t\t\t\tstyle: this.edgeStyle,\r\n\t\t\t\t}\r\n\t\t\t],\r\n\r\n\t\t\tlayout: {\r\n\t\t\t\tname: 'preset',\r\n\t\t\t},\r\n\t\t\theadless: false,\r\n\t\t\tstyleEnabled: true,\r\n\t\t\thideEdgesOnViewport: false,\r\n\t\t\thideLabelsOnViewport: false,\r\n\t\t\tuserPanningEnabled: false,\r\n\t\t\tzoomingEnabled: false,\r\n\t\t\ttextureOnViewport: false,\r\n\t\t\tmotionBlur: false,\r\n\t\t\tmotionBlurOpacity: 0.2,\r\n      pixelRatio: '1.0',\r\n      autoungrabify: true,\r\n    });\r\n\r\n    this.list._data = list;\r\n    this.cy.on('click', 'node', (event: CytoEvent) => this.handleClickOnNode(event.target));\r\n    this.cy.on('resize', () => this.refreshLayout(false))\r\n    this.layout = this.cy.elements().makeLayout(layoutOptions);\r\n    this.layout.run();\r\n    this.refreshLayout(false);\r\n  }  \r\n\r\n  componentDidUpdate(prevProps:Props){\r\n    layoutOptions.animationDuration = 500/this.props.speed;\r\n\r\n    if (prevProps.animation && !this.props.animation) {\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.CHANGE_OPTIONS,\r\n\t\t\t\tpayload: { options: this.options }\r\n\t\t\t});\r\n\t\t} else if (!prevProps.animation && this.props.animation) {\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.CHANGE_OPTIONS,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\toptions: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tname: 'Volver a edicion',\r\n\t\t\t\t\t\t\trun: () => {\r\n                clearTimeout(this.animationTimeout);\r\n\t\t\t\t\t\t\t\tthis.loadGraph(this.buffer[this.buffer.length-1].elements);\r\n\t\t\t\t\t\t\t\tthis.props.dispatch({ type: actions.ANIMATION_END })\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n  }\r\n  componentDidMount(){\r\n    this._isMounted = true;\r\n    this.doublyLinked = this.props.type === actions.SELECT_DOUBLE_LINKED_LIST;\r\n\r\n    this.list.type = this.props.type;\r\n    this.initialize({list: [], elements: []});\r\n\r\n    this.ListProcessor = new ListProcessor(this.cy.width(), this.cy.height(), this.doublyLinked, this.props.type);\r\n\r\n    \r\n    this.props.dispatch({\r\n\t\t\ttype: this.props.action,\r\n\t\t\tpayload:{\r\n\t\t\t\tphoto: () => this._mediaRecorder.takePicture(this.cy),\r\n\t\t\t\tgif: () => this._mediaRecorder.takeGif(this.cy),\r\n\t\t\t\tundo: this.handleUndo,\r\n        redo: this.handleRedo,\r\n        rewind: this.handleRewind,\r\n        forward: this.handleForward,\r\n        repeat: this.handleRepeat,\r\n        end: this.handleEnd,\r\n        pause: this.handlePauseContinue,\r\n        remove: () => this.remove(!this.doublyLinked),\r\n        clear: this.clearGraph,\r\n        options: this.options,\r\n        type: this.props.type,\r\n\t\t\t}\r\n\t\t});\r\n  }\r\n\r\n  componentWillUnmount() {\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.ANIMATION_END,\r\n\t\t});\r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis._isMounted = false;\r\n\t\tlet nodes = this.cy.nodes();\r\n\t\tnodes.forEach((node: CytoscapeElement) => {\r\n\t\t\tthis.removeNode(node.id());\r\n\t\t});\r\n  }\r\n  \r\n  layoutProcessing(){\r\n    const n = this.list.length();\r\n    if(n === 0) return;\r\n    const mid = this.cy.width()/2;\r\n    for(let i = 0; i < n; i++){\r\n      const {id} = this.list._data[i];\r\n      layoutOptions.positions[id] = {\r\n        x: mid - (n-1)*(40) + 70*i,\r\n        y: this.cy.height()/4,\r\n      }\r\n    }\r\n  }\r\n  refreshLayout(animate:boolean=true) {\r\n    this.layout.stop();\r\n    //this.layoutProcessing();\r\n\t\tthis.layout = this.cy.elements().makeLayout({...layoutOptions, animate});\r\n\t\tthis.layout.run();\r\n  }\r\n  \r\n  clearGraph = () => {\r\n\t\tif(this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.CLEAR_GRAPH,\r\n\t\t});\r\n\t\tlet nodes = this.cy.nodes();\r\n    if(nodes.length === 0) return;\r\n    this.pushState();\r\n    this.ListProcessor.loadGraph();\r\n\t\tfor (let i = 0; i < nodes.length; i++) {\r\n\t\t\tthis.removeNode(nodes[i].id());\r\n\t\t}\r\n\t}\r\n\r\n  handleClickOnNode = (node: CytoscapeElement) => {\r\n\t\tif (this.props.animation === true) return;\r\n    let nodeId = node.id();\r\n    let { selection } = this.props;\r\n    if(selection && selection.type === 'node'){\r\n      const prev = this.cy.getElementById(selection.id);\r\n      prev.style(this.nodeStyle);\r\n      if(selection.id === nodeId){\r\n        this.props.dispatch({\r\n          type: actions.NO_SELECTION,\r\n        });\r\n        return;\r\n      }\r\n    }\r\n    node.style(Styles.NODE_SELECTED);\r\n    this.props.dispatch({\r\n      type: actions.SELECTION,\r\n      payload: {\r\n        selection: {\r\n          id: nodeId, type: 'node'\r\n        }\r\n      }\r\n    });\r\n\t}\r\n\r\n \t\r\n\thandleUndo = () => {\r\n\t\tif(this.undo.length === 0){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif(this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.NO_SELECTION,\r\n\t\t});\r\n\r\n\t\tconst currentElements = this.exportGraph();\r\n\t\t\r\n    let state = this.undo.pop();\r\n\r\n    if(state !== undefined){\r\n\t\t\tthis.redo.push({list: JSON.parse(JSON.stringify(this.ListProcessor.list._data)), elements: currentElements});\r\n      this.loadGraph(state.elements);\r\n      this.ListProcessor.loadGraph(state.elements, state.list);\r\n\t\t}\r\n\t}\r\n\r\n\thandleRedo = () => {\r\n\t\tif(this.redo.length === 0){\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif(this.props.animation){\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_RUNNING_ERROR,\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.dispatch({\r\n\t\t\ttype: actions.NO_SELECTION,\r\n\t\t});\r\n\r\n\t\tconst currentElements = this.exportGraph();\r\n\t\t\r\n\t\tlet state = this.redo.pop();\r\n\t\tif(state !== undefined){\r\n\t\t\tthis.undo.push({list: JSON.parse(JSON.stringify(this.ListProcessor.list._data)), elements: currentElements});\r\n\t\t\tthis.loadGraph(state.elements);\r\n      this.ListProcessor.loadGraph(state.elements, state.list);\r\n\t\t}\r\n\t}\r\n\r\n  pushState(){\r\n    this.redo = [];\r\n    this.undo.push({\r\n      list: JSON.parse(JSON.stringify(this.ListProcessor.list._data)),\r\n      elements: this.exportGraph(),\r\n    });\r\n  }\r\n  \r\n  handleRewind = () => { \r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = Math.max(this.step-1, 0);\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements, true);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandleForward = () => { \r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = Math.min(this.step+1, this.buffer.length-1);\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements, true);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n\thandleRepeat = () => {\r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = 0;\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n\t}\r\n\r\n  handleEnd = () => {\r\n\t\tclearTimeout(this.animationTimeout);\r\n\t\tthis.props.dispatch({type: actions.ANIMATION_PAUSE});\r\n\t\tthis.step = this.buffer.length - 1;\r\n\t\tconst {elements, lines} = this.buffer[this.step];\r\n\t\tthis.loadGraph(elements);\r\n\t\tthis.props.dispatch({ type: actions.CHANGE_LINE, payload: { lines }});\r\n  }\r\n  \r\n\thandlePauseContinue = () => {\r\n\t\tif(!this.props.paused){\r\n\t\t\tclearTimeout(this.animationTimeout);\r\n\t\t\tthis.props.dispatch({\r\n\t\t\t\ttype: actions.ANIMATION_PAUSE,\r\n\t\t\t})\r\n\t\t}else{\r\n\t\t\tnew Promise(resolve => {\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.ANIMATION_CONTINUE\r\n\t\t\t\t})\r\n\t\t\t\tresolve();\r\n\t\t\t}).then(() => this.animation());\r\n\t\t}\r\n\t}\r\n\t\r\n  loadGraph(elements: Array<Object>, keep=false) {\r\n    const nodes = this.cy.nodes();\r\n    const positions:{[id:string]:{x:number,y:number}} = {};\r\n\t\tnodes.forEach((node: CytoscapeElement) => {\r\n      if(keep) positions[node.id()] = JSON.parse(JSON.stringify(node.data('position')));\r\n\t\t\tthis.cy.remove(node);\r\n\t\t})\r\n\r\n\t\tfor (let i = 0; i < elements.length; i++) {\r\n\t\t\tthis.cy.add(JSON.parse(JSON.stringify(elements[i])));\r\n\t\t}\r\n\r\n\t\tthis.cy.nodes().forEach((node: CytoscapeElement) => {\r\n\t\t\tconst style = node.data('style');\r\n\t\t\tif (style != null) node.style(style);\r\n      const position = node.data('position');\r\n      if(keep && positions[node.id()]) node.position({x:positions[node.id()].x, y:positions[node.id()].y});\r\n\t\t\t//console.log(\"PREV\", node.position());\r\n\t\t\t//console.log(\"NEXT\", position);\r\n\t\t\tif (position != null) {\r\n\t\t\t\tlayoutOptions.positions[node.id()] = JSON.parse(JSON.stringify(position));\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tthis.cy.edges().forEach((edge: CytoscapeElement) => {\r\n\t\t\tconst style = edge.data('style');\r\n\t\t\tif (style != null) edge.style(style);\r\n\t\t})\r\n\r\n    this.refreshLayout();\r\n\t}\r\n  exportGraph(){\r\n\t\tconst elements:Array<Object> = [];\r\n\t\tthis.cy.nodes().forEach((node:CytoscapeElement) => {\r\n\t\t\telements.push({\r\n\t\t\t\tgroup: 'nodes',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: node.id(),\r\n          value: node.data('value'),\r\n          position: {\r\n            x: node.position().x,\r\n            y: node.position().y,\r\n          }\r\n\t\t\t\t},\r\n\t\t\t\tposition: {\r\n\t\t\t\t\tx: node.position().x,\r\n\t\t\t\t\ty: node.position().y,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t\tthis.cy.edges().forEach((edge:CytoscapeElement) => {\r\n\t\t\telements.push({\r\n\t\t\t\tgroup: 'edges',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: edge.id(),\r\n\t\t\t\t\tsource: edge.source().id(), target: edge.target().id(),\r\n\t\t\t\t\tweight: edge.data('weight'),\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t\treturn elements;\r\n  }\r\n  \r\n  animation(){\r\n\t\tlet step = () => {\r\n\t\t\tif(!this._isMounted) return;\r\n\t\t\tif(this.step === this.buffer.length){\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.FINISHED_ALGORITHM_SUCCESS,\r\n        });\r\n        this.props.dispatch({\r\n          type: actions.ANIMATION_PAUSE,\r\n        });\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!this.props.animation) {\r\n\t\t\t\tthis.cy.nodes().style(this.nodeStyle);\r\n\t\t\t\tthis.cy.edges().style(this.edgeStyle);\r\n\t\t\t\tthis.props.dispatch({\r\n\t\t\t\t\ttype: actions.ANIMATION_END,\r\n\t\t\t\t});\r\n\t\t\t\tthis.cy.autolock(false);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n      const {elements, lines, duration} = this.buffer[this.step++];\r\n      if(this.props.paused) return;\r\n\t\t\tthis.loadGraph(elements);\r\n\t\t\tif(lines) this.props.dispatch({type: actions.CHANGE_LINE, payload: { lines }});\r\n\t\t\t//this.refreshLayout();\r\n\t\t\tthis.animationTimeout = window.setTimeout(step, ((duration === undefined) ? 1000 : duration)/(this.props.speed));\r\n\t\t}\r\n\t\tstep();\r\n  }\r\n  \r\n  removeNode = (node: string) => {\r\n\t\tthis.cy.remove('node[id=\"' + node + '\"]');\r\n  }\r\n  \r\n  removeEdge = (edge: string) => {\r\n\t\tthis.cy.remove('edge[id=\"' + edge + '\"]');\r\n  }\r\n  \r\n  addNode(id: string, value: number, position: {x: number, y: number} = {x: 0, y: 0}){\r\n    this.cy.add({\r\n      group: 'nodes',\r\n      data: {\r\n        id,\r\n        value,\r\n      },\r\n      position:{\r\n        x: position.x,\r\n        y: position.y,\r\n      }\r\n    });\r\n    layoutOptions.positions[id] = position;\r\n  }\r\n  \r\n  addEdge(x: string, y: string) {\r\n    //this.pushState();\r\n\t\tthis.cy.add({\r\n\t\t\tgroup: 'edges',\r\n\t\t\tdata: {\r\n\t\t\t\tid: x + '-' + y,\r\n\t\t\t\tsource: x,\r\n        target: y,\r\n        weight: 'sig',\r\n      },\r\n    });\r\n  }\r\n  \r\n  pushFront(value: number = 0){\r\n    if(this.props.animation){\r\n      this.props.dispatch({\r\n        type: actions.ANIMATION_RUNNING_ERROR,\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.step = 0;\r\n    this.pushState();\r\n\r\n    this.props.dispatch({\r\n      type: actions.CHANGE_PSEUDO,\r\n      payload: {\r\n        pseudo: this.props.pseudoset.pushFront,\r\n      }\r\n    });\r\n    this.buffer = this.ListProcessor.pushFront(value);\r\n    new Promise((resolve, reject) => {\r\n      this.props.dispatch({\r\n        type: actions.ANIMATION_START,\r\n      });\r\n      resolve();\r\n    }).then(() => this.animation());\r\n  }\r\n\r\n\r\n  pushBack(value: number = 0, slow:boolean = false){\r\n\r\n    if(this.props.animation){\r\n      this.props.dispatch({\r\n        type: actions.ANIMATION_RUNNING_ERROR,\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.props.dispatch({\r\n      type: actions.CHANGE_PSEUDO,\r\n      payload: {\r\n        pseudo: this.props.pseudoset.pushBack,\r\n      }\r\n    });\r\n\r\n    this.step = 0;\r\n    this.pushState();\r\n    this.buffer = this.ListProcessor.pushBack(value, slow);\r\n    new Promise((resolve, reject) => {\r\n      this.props.dispatch({\r\n        type: actions.ANIMATION_START,\r\n      });\r\n      resolve();\r\n    }).then(() => this.animation());\r\n  }\r\n\r\n  \r\n  popFront(){\r\n    if(this.props.animation){\r\n      this.props.dispatch({\r\n        type: actions.ANIMATION_RUNNING_ERROR,\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.props.dispatch({\r\n      type: actions.CHANGE_PSEUDO,\r\n      payload: {\r\n        pseudo: this.props.pseudoset.popFront,\r\n      }\r\n    });\r\n\r\n    if(this.ListProcessor.list.length() === 0){\r\n      this.props.dispatch({\r\n        type: actions.CHANGE_LINE,\r\n        payload: { lines: [1] }\r\n      });\r\n      this.props.dispatch({\r\n        type: actions.EMPTY_LIST_WARNING,\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.step = 0;\r\n    this.pushState();\r\n\r\n    this.buffer = this.ListProcessor.popFront();\r\n    new Promise((resolve, reject) => {\r\n      this.props.dispatch({\r\n        type: actions.ANIMATION_START,\r\n      });\r\n      resolve();\r\n    }).then(() => this.animation());\r\n  }\r\n\r\n  popBack(slow:boolean=false){\r\n    if(this.props.animation){\r\n      this.props.dispatch({\r\n        type: actions.ANIMATION_RUNNING_ERROR,\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.props.dispatch({\r\n      type: actions.CHANGE_PSEUDO,\r\n      payload: {\r\n        pseudo: this.props.pseudoset.popBack,\r\n      }\r\n    });\r\n\r\n    if(this.ListProcessor.list.length() === 0){\r\n      this.props.dispatch({\r\n        type: actions.EMPTY_LIST_WARNING,\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.step = 0;\r\n    this.pushState();\r\n\r\n    this.buffer = this.ListProcessor.popBack(slow);\r\n    new Promise((resolve, reject) => {\r\n      this.props.dispatch({\r\n        type: actions.ANIMATION_START,\r\n      });\r\n      resolve();\r\n    }).then(() => this.animation());\r\n  }\r\n\r\n  remove(slow = false){\r\n    if(this.props.animation){\r\n      this.props.dispatch({\r\n        type: actions.ANIMATION_RUNNING_ERROR,\r\n      });\r\n      return;\r\n    }\r\n\r\n    const {selection} = this.props;\r\n\r\n    if(!selection) {\r\n      this.props.dispatch({\r\n        type: actions.NO_NODE_SELECTED_ERROR,\r\n      });\r\n      return;\r\n    }\r\n\r\n    \r\n    this.props.dispatch({\r\n      type: actions.CHANGE_PSEUDO,\r\n      payload: {\r\n        pseudo: this.props.pseudoset.remove,\r\n      }\r\n    });\r\n    \r\n    this.step = 0;\r\n    this.pushState();\r\n\r\n    const nodeId = selection.id;\r\n\r\n    this.buffer = this.ListProcessor.remove(slow, nodeId);\r\n    new Promise((resolve, reject) => {\r\n        this.props.dispatch({\r\n          type: actions.ANIMATION_START,\r\n        });\r\n        resolve();\r\n      }).then(() => this.animation());\r\n  }\r\n\r\n  insert(value:number = 0, where:string, slow = false){\r\n    if(this.props.animation){\r\n      this.props.dispatch({\r\n        type: actions.ANIMATION_RUNNING_ERROR,\r\n      });\r\n      return;\r\n    }\r\n\r\n    const {selection} = this.props;\r\n    if(!selection) {\r\n      this.props.dispatch({\r\n        type: actions.NO_NODE_SELECTED_ERROR,\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.props.dispatch({\r\n      type: actions.CHANGE_PSEUDO,\r\n      payload: {\r\n        pseudo: (where === 'before' ? this.props.pseudoset.insertBefore : this.props.pseudoset.insertAfter),\r\n      }\r\n    });\r\n\r\n    this.step = 0;\r\n    this.pushState();\r\n    const nodeId = selection.id;\r\n\r\n    this.buffer = this.ListProcessor.insert(value, where, slow, nodeId);\r\n    new Promise((resolve, reject) => {\r\n      this.props.dispatch({\r\n        type: actions.ANIMATION_START,\r\n      });\r\n      resolve();\r\n    }).then(() => this.animation());\r\n  }\r\n  render(){\r\n    return(\r\n      <>\r\n        <InputModal \r\n          show={this.state.showPushFrontModal}\r\n          handleClose={() => this.setState({showPushFrontModal: false})}\r\n          callback={(v:number) => this.pushFront(v)}\r\n        />\r\n        <InputModal \r\n          show={this.state.showPushBackModal}\r\n          handleClose={() => this.setState({showPushBackModal: false})}\r\n          callback={(v:number) => this.pushBack(v, this.props.type === actions.SELECT_SINGLE_LINKED_LIST)}\r\n        />\r\n        <InputModal \r\n          show={this.state.showPushBeforeModal}\r\n          handleClose={() => this.setState({showPushBeforeModal: false})}\r\n          callback={(v:number) => this.insert(v, 'before', this.props.type === actions.SELECT_SINGLE_LINKED_LIST)}\r\n        />\r\n        <InputModal \r\n          show={this.state.showPushAfterModal}\r\n          handleClose={() => this.setState({showPushAfterModal: false})}\r\n          callback={(v:number) => this.insert(v, 'after')}\r\n        />\r\n        <div id=\"canvas\" className='standard-struct'/>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(LinkedList);","import React from 'react';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\nimport Graph from './Components/Graph';\r\nimport Heap from './Components/Heap';\r\nimport Home from './Components/Home';\r\nimport AVL from './Components/AVL'\r\nimport properties from './algorithm-properties';\r\nimport BubbleSort from './Components/BubbleSort';\r\nimport MergeSort from './Components/MergeSort';\r\nimport BinarySearch from './Components/BinarySearch';\r\nimport LinkedList from './Components/LinkedList';\r\n\r\nimport routes from './resources/names_and_routes/algorithm_routes';\r\nimport names from './resources/names_and_routes/algorithm_names';\r\n\r\nconst { HashRouter, Route, Switch} = require('react-router-dom');\r\nclass Editor extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<HashRouter>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t<Route key={names.BFS} path={routes.BFS} render={() => <Graph {...properties.BFS} />} />\r\n\t\t\t\t\t\t\t<Route key={names.DFS} path={routes.DFS} render={() => <Graph {...properties.DFS} />} />\r\n\t\t\t\t\t\t\t<Route key={names.Dijkstra} path={routes.Dijkstra} render={() => <Graph {...properties.Dijkstra} />} />\r\n\t\t\t\t\t\t\t<Route key={names.BellmanFord} path={routes.BellmanFord} render={() => <Graph {...properties.BellmanFord} />} />\r\n\t\t\t\t\t\t\t<Route key={names.Prim} path={routes.Prim} render={() => <Graph {...properties.Prim} />} />\r\n\t\t\t\t\t\t\t<Route key={names.Kruskal} path={routes.Kruskal} render={() => <Graph {...properties.Kruskal} />} />\r\n\t\t\t\t\t\t\t<Route key={names.Heap} path={routes.MinHeap} render={() => <Heap {...properties.Heap} />} />\r\n\t\t\t\t\t\t\t<Route key={names.AVL} path={routes.AVL} render={() => <AVL {...properties.AVL} />} />\r\n\t\t\t\t\t\t\t<Route key={names.BubbleSort} path={routes.BubbleSort} render={() => <BubbleSort {...properties.BubbleSort} />} />\r\n\t\t\t\t\t\t\t<Route key={names.MergeSort} path={routes.MergeSort} render={() => <MergeSort {...properties.MergeSort} />} />\r\n\t\t\t\t\t\t\t<Route key={names.BinarySearch} path={routes.BinarySearch} render={() => <BinarySearch {...properties.BinarySearch}/>}/>\r\n\t\t\t\t\t\t\t<Route key={names.SingleLinkedList} path={routes.SingleLinkedList} render={() => <LinkedList {...properties.SingleLinkedList}/>}/>\r\n\t\t\t\t\t\t\t<Route key={names.DoubleLinkedList} path={routes.DoubleLinkedList} render={() => <LinkedList {...properties.DoubleLinkedList}/>}/>\r\n\t\t\t\t\t\t\t<Route key={names.Queue} path={routes.Queue} render={() => <LinkedList {...properties.Queue}/>}/>\r\n\t\t\t\t\t\t\t<Route key={names.Stack} path={routes.Stack} render={() => <LinkedList {...properties.Stack}/>}/>\r\n\t\t\t\t\t\t\t<Route render={()=><Home/>}/>\r\n\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</HashRouter>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Editor;","import React from 'react';\r\nconst {\r\n\tNavLink,\r\n\tHashRouter\r\n} = require('react-router-dom');\r\n\r\nconst {connect}  = require('react-redux');\r\n\r\ntype Props = {\r\n\tdispatch: (action: Object) => Object,\r\n\talgorithm: string,\r\n}\r\n\r\ntype State = {\r\n\talgorithm: string,\r\n}\r\nconst mapStateToProps = (state:State) => {\r\n\treturn {\r\n\t\talgorithm: state.algorithm,\r\n\t}\r\n}\r\nconst Sidebar = (props:Props) => {\r\n\tconst items = [\r\n\t\t{name: 'BFS'},\r\n\t\t{name: 'DFS'},\r\n\t\t{name: 'Dijkstra'},\r\n\t\t{name: 'Prim'},\r\n\t\t{name: 'Kruskal'},\r\n\t\t{name: 'Heap'},\r\n\t\t{name: 'AVL'},\r\n\t\t{name: 'BubbleSort'},\r\n\t\t{name: 'MergeSort'},\r\n\t];\r\n\r\n\tconst list = [];\r\n\r\n\tfor(let i = 0; i < items.length; i++){\r\n\t\tlist.push(\r\n\t\t\t<NavLink to={\"/\"+items[i].name}>\r\n\t\t\t\t<li \r\n\t\t\t\t\tclassName={items[i].name === props.algorithm ? \"active\" : \"normal\"}\r\n\t\t\t\t>\r\n\t\t\t\t\t{items[i].name}\r\n\t\t\t\t</li>\r\n\t\t\t</NavLink>\r\n\t\t)\r\n\t}\r\n\treturn (\r\n\t\t<HashRouter>\r\n\t\t\t<ul>\r\n\t\t\t\t{list}\r\n\t\t\t</ul>\r\n\t\t</HashRouter>\r\n\t);\r\n}\r\n\r\nexport default connect(mapStateToProps)(Sidebar);","const BFS = [\r\n  { text: 'BFS(Grafo G(V,E), nodo inicio):', ind: 0 },\r\n  { text: 'Para cada nodo u \\u2208 V:', ind: 1 },\r\n  { text: 'color[u]=Blanco', ind: 2 },\r\n  { text: 'color[inicio]=Gris:', ind: 1 },\r\n  { text: 'encolar(cola, inicio)', ind: 1 },\r\n  { text: 'Mientras no vacio(cola):', ind: 1},\r\n  { text: 'u=extraer(cola)', ind:2},\r\n  { text: 'color[u]=Negro', ind:2},\r\n  { text: 'Para cada v adyacente a u:', ind:2},\r\n  { text: 'Si color[v] es Blanco:', ind: 3},\r\n  { text: 'color[v]=Gris', ind: 4},\r\n  { text: 'encolar(cola, v)', ind: 4}\r\n];\r\n\r\nexport default BFS;","import React from 'react';\r\ntype Props = {\r\n  op: Array<{name: string, run: () => void}>,\r\n}\r\nconst OptionsMenu = (props:Props) => {\r\n  const {op} = props;\r\n  const links = Array();\r\n  op.forEach((option:{name:string, run: () => void}) => {\r\n    const {name, run} = option;\r\n    links.push(\r\n      <button onClick={run}>{name}</button>\r\n    );\r\n  });\r\n  return  (\r\n    <>\r\n      {links}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default OptionsMenu;","import { Row, Col } from 'react-bootstrap';\r\nimport React from 'react';\r\nimport actions from '../Actions/actions'\r\nconst { connect } = require('react-redux');\r\n\r\ntype Props = {\r\n  dispatch: (action: Object) => Object,\r\n  speed: number,\r\n}\r\n\r\nconst mapStateToProps = (state: Props) => {\r\n  return {\r\n    speed: state.speed,\r\n  }\r\n}\r\n\r\nconst SpeedBar = (props: Props) => {\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    props.dispatch({\r\n      type: actions.CHANGE_SPEED,\r\n      payload: {\r\n        speed: e.currentTarget.value,\r\n      }\r\n    })\r\n  }\r\n  return (\r\n    <Row>\r\n      <Col xs={12}>\r\n        <div className=\"slidecontainer\">\r\n          <input\r\n            type=\"range\"\r\n            min=\"0.25\"\r\n            max=\"5\"\r\n            value={props.speed}\r\n            id=\"myRange\"\r\n            step=\"0.05\"\r\n            onChange={handleChange}\r\n            className=\"slider\"\r\n          >\r\n          </input>\r\n        </div>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default connect(mapStateToProps)(SpeedBar);","import {Row, Col} from 'react-bootstrap';\r\nimport React, { FunctionComponent } from 'react';\r\nimport OptionsMenu from './OptionsMenu';\r\nimport SpeedBar from './SpeedBar';\r\nimport actions from '../Actions/actions';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { \r\n  faPlay, \r\n  faPause, \r\n  faUndo, \r\n  faRedo, \r\n  faBackward, \r\n  faForward, \r\n  faStepBackward,\r\n  faStepForward,\r\n  faTimes, \r\n  faTrash,\r\n  faInfo,} from '@fortawesome/free-solid-svg-icons'\r\nconst { connect } = require('react-redux');\r\n\r\n\r\nconst algoDict:({[name: string]: string})= {\r\n  'BFS': 'BFS',\r\n  'DFS': 'DFS',\r\n  'Dijkstra': 'Dijkstra',\r\n  'BellmanFord': 'Bellman-Ford',\r\n  'Prim': 'Prim',\r\n  'Kruskal': 'Kruskal',\r\n  'Heap': 'Min Heap',\r\n  'AVL': 'Arbol AVL',\r\n  'BubbleSort': 'Bubble Sort',\r\n  'MergeSort': 'Merge Sort',\r\n  'BinarySearch': 'Busqueda Binaria',\r\n  'SingleLinkedList': 'Lista enlazada',\r\n  'DoubleLinkedList': 'Lista doble',\r\n  'Queue': 'Cola',\r\n  'Stack': 'Pila',\r\n}\r\n\r\ntype Props = {\r\n  algorithm: string,\r\n  animation: boolean,\r\n  run: () => void,\r\n  options: Array<{name: string, run: () => void}>,\r\n  dispatch: (action: Object) => void,\r\n  undo: () => void,\r\n  redo: () => void,\r\n  rewind: () => void,\r\n  forward: () => void,\r\n  pause: () => void,\r\n  repeat: () => void,\r\n  remove: () => void,\r\n  clear: () => void,\r\n  end: () => void,\r\n  paused: boolean,\r\n}\r\n\r\ntype ButtonProps = {\r\n  title: string,\r\n  callback: () => void,\r\n  delay: number,\r\n}\r\n\r\ntype State = {\r\n  showActions: boolean,\r\n}\r\nconst mapStateToProps = (state:Props) => {\r\n  return {...state}\r\n}\r\n\r\nlet interval = 0;\r\nconst ControlButton:FunctionComponent<ButtonProps> = ({title, callback, delay, children}) => {\r\n  return <button title={title} className='dropdown-button'\r\n          onMouseDown={()=>{callback(); interval=window.setInterval(() => callback(), delay); console.log('STARTED', interval)}}\r\n          onMouseUp={() => {console.log('STOP', interval); clearInterval(interval)}}>\r\n            {children}\r\n          </button>\r\n}\r\n\r\nclass Footer extends React.Component<Props, State>{\r\n  state = {\r\n    showActions: true,\r\n  }\r\n  interval = 0;\r\n  render(){\r\n    console.log(this.props.algorithm);\r\n    const {animation, paused} = this.props;\r\n    let control;\r\n    if(!animation){ \r\n      control = \r\n        [\r\n          <Col md={1}>\r\n            <ControlButton title=\"Deshacer\" callback={this.props.undo} delay={500}>\r\n              <FontAwesomeIcon icon={faUndo} size = \"lg\"/>\r\n            </ControlButton>\r\n          </Col>,\r\n          <Col md={1}>\r\n            <ControlButton title=\"Rehacer\" callback={this.props.redo} delay={500}>\r\n              <FontAwesomeIcon icon={faRedo} size = \"lg\"/>\r\n            </ControlButton>\r\n          </Col>,\r\n        ];\r\n        if(this.props.remove){\r\n          control.push(\r\n            <Col md={1}>\r\n            <button title=\"Eliminar elemento\" className='dropdown-button' onClick={this.props.remove}>\r\n              <FontAwesomeIcon icon={faTimes} size = \"lg\"/>\r\n            </button>\r\n          </Col>,\r\n          );\r\n        }\r\n        if(this.props.clear){\r\n          control.push(\r\n            <Col md={1}>\r\n            <button title=\"Limpiar canvas\" className='dropdown-button' onClick={this.props.clear}>\r\n              <FontAwesomeIcon icon={faTrash} size = \"lg\"/>\r\n            </button>\r\n          </Col>,\r\n          );\r\n        }\r\n        \r\n    }else{\r\n      control = \r\n        [\r\n          <Col md={1} >\r\n            <button title='Principio' className='dropdown-button'  onClick={this.props.repeat}>\r\n              <FontAwesomeIcon icon={faStepBackward} size = \"lg\"/>\r\n            </button>\r\n          </Col>,\r\n          <Col md={1}>\r\n            <ControlButton title=\"Retroceder\" callback={this.props.rewind} delay={200}>\r\n              <FontAwesomeIcon icon={faBackward} size = \"lg\"/>\r\n            </ControlButton>\r\n          </Col>,\r\n          <Col md={1}>\r\n            <button title={paused ? 'Continuar' : 'Pausa'} className='dropdown-button' onClick={this.props.pause}>\r\n              <FontAwesomeIcon icon={paused ? faPlay : faPause} size = \"lg\"/>\r\n            </button>\r\n          </Col>,\r\n          <Col md={1}>\r\n            <ControlButton title=\"Avanzar\" callback={this.props.forward} delay={200}>\r\n              <FontAwesomeIcon icon={faForward} size = \"lg\"/>\r\n            </ControlButton>\r\n          </Col>,\r\n          <Col md={1} >\r\n          <button title='Final' className='dropdown-button'  onClick={this.props.end}>\r\n            <FontAwesomeIcon icon={faStepForward} size = \"lg\"/>\r\n          </button>\r\n        </Col>,\r\n        ]\r\n    }\r\n    \r\n    return(\r\n      <div className='footer'>\r\n        {this.props.algorithm !== 'none' && \r\n          <Row>\r\n            <Col md={2}>\r\n              <div className=\"dropup\">\r\n                <button className='dropdown-button' onClick={() => this.setState({showActions: !this.state.showActions})}>{algoDict[this.props.algorithm]}</button>\r\n                { \r\n                  this.state.showActions && \r\n                  <div className='actions-menu'>\r\n                    <OptionsMenu op={this.props.options}/>\r\n                  </div>\r\n                }\r\n              </div>\r\n            </Col>\r\n            <Col md={1}>\r\n              <span>Velocidad</span>\r\n              <SpeedBar/>\r\n            </Col>\r\n            <>{control}</>\r\n            <Col md={{span: 1, offset: 6-control.length}}>\r\n              <button className='dropdown-button' title=\"Informacin\">\r\n                <FontAwesomeIcon icon={faInfo} size=\"lg\"/>\r\n              </button>\r\n            </Col>\r\n            <Col md={2}>\r\n            <button className='dropdown-button' onClick={() => this.props.dispatch({type: actions.TOGGLE_PSEUDO})}>Pseudocodigo</button>\r\n          </Col>\r\n          </Row>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Footer);","import React from 'react';\r\nimport actions from '../Actions/actions'\r\nconst {connect} = require('react-redux');\r\ntype Props = {\r\n  callback: () => void,\r\n  dispatch: (action: Object) => void,\r\n};\r\n\r\nclass PhotoControl extends React.Component<Props>{\r\n  handleClick = () => {\r\n    this.props.dispatch({\r\n      type: actions.PHOTO_SUCCESS,\r\n    });\r\n    this.props.callback();\r\n  }\r\n  render(){\r\n    return (\r\n      <button className='dropdown-button' onClick={this.handleClick}>Foto</button>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect()(PhotoControl);","import React from 'react';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport actions from '../Actions/actions';\r\n\r\nconst {connect} = require('react-redux');\r\n\r\ntype Props = {\r\n  callback: () => void,\r\n  algorithm: string,\r\n  dispatch: (action: Object) => Object,\r\n  timeEllapsed: number,\r\n  processing: boolean,\r\n};\r\n\r\ntype storeState = {\r\n  gifLength: number,\r\n  processingGif: boolean,\r\n}\r\n\r\nconst mapStateToProps = (state: storeState) => {\r\n  return {\r\n    timeEllapsed: state.gifLength,\r\n    processing: state.processingGif,\r\n  }\r\n}\r\n\r\nclass  GIFControl extends React.Component<Props>{\r\n  handleClick(){\r\n    this.props.callback();\r\n  }\r\n  render(){\r\n    console.log(this.props.processing);\r\n    const {timeEllapsed} = this.props;\r\n    let ss = Math.floor(timeEllapsed/10).toString();\r\n    let ms = (timeEllapsed%10).toString();\r\n    if(ss.length === 1) ss = '0'+ss;\r\n    return (\r\n      <button className='dropdown-button' disabled={this.props.processing} onClick={() => this.handleClick()}>\r\n        {this.props.processing ? 'Procesando...' : 'GIF' + (this.props.timeEllapsed ? ' 0:' + ss + ':' +  ms : '')}\r\n      </button>\r\n    )\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps)(GIFControl);","import {Row, Col} from 'react-bootstrap';\r\nimport React from 'react';\r\nimport PhotoControl from './PhotoControl';\r\nimport GIFControl from './GIFControl';\r\nimport routes from '../resources/names_and_routes/algorithm_routes';\r\nimport actions from '../Actions/actions';\r\nconst {connect} = require('react-redux');\r\nconst {\r\n\tNavLink,\r\n\tHashRouter\r\n} = require('react-router-dom');\r\n\r\ntype Props = {\r\n  photo: () => void,\r\n  gif: () => void,\r\n  algorithm: string,\r\n  dispatch: (action:Object) => void,\r\n}\r\n\r\nconst mapStateToProps = (state:Props) => {\r\n  return { ...state };\r\n}\r\n\r\nclass MenuBar extends React.Component<Props>{\r\n  render(){\r\n    const searchAlgorithms = [\r\n      <NavLink to={routes.BFS}><button className='dropdown-button'>BFS</button></NavLink>,\r\n      <NavLink to={routes.DFS}><button className='dropdown-button'>DFS</button></NavLink>,\r\n      <NavLink to={routes.Dijkstra}><button className='dropdown-button'>Dijkstra</button></NavLink>,\r\n      <NavLink to={routes.BellmanFord}><button className='dropdown-button'>Bellman-Ford</button></NavLink>\r\n    ];\r\n    const mstAlgorithms = [\r\n      <NavLink to={routes.Kruskal}><button className='dropdown-button'>Kruskal</button></NavLink>,\r\n      <NavLink to={routes.Prim}><button className='dropdown-button'>Prim</button></NavLink>,\r\n    ];\r\n    const arrays = [\r\n      <NavLink to={routes.BubbleSort}><button className='dropdown-button'>Bubble Sort</button></NavLink>,\r\n      <NavLink to={routes.MergeSort}><button className='dropdown-button'>Merge Sort</button></NavLink>,\r\n      <NavLink to={routes.BinarySearch}><button className='dropdown-button'>Busqueda Binaria</button></NavLink>\r\n    ];\r\n    const dataStructures = [\r\n      <NavLink to={routes.SingleLinkedList}><button className='dropdown-button'>Lista enlazada</button></NavLink>,\r\n      <NavLink to={routes.Queue}><button className='dropdown-button'>Cola</button></NavLink>,\r\n      <NavLink to={routes.Stack}><button className='dropdown-button'>Pila</button></NavLink>,\r\n      <NavLink to={routes.DoubleLinkedList}><button className='dropdown-button'>Lista doble</button></NavLink>,\r\n      <NavLink to={routes.MinHeap}><button className='dropdown-button'>Min Heap</button></NavLink>,\r\n      <NavLink to={routes.AVL}><button className='dropdown-button'>Arbol AVL</button></NavLink>,\r\n    ];\r\n    return (\r\n      true && <div className='top-bar'>\r\n        <Row>\r\n          <Col md={2}>\r\n            <div className='dropdown'>\r\n              <button className='dropdown-button'>Algoritmos</button>\r\n              <HashRouter>\r\n                <div className='dropdown-menu'>\r\n                  <div className='dropright'>\r\n                    <button className='dropdown-button'>Algoritmos de Busqueda</button>\r\n                    <div className='right-menu'>\r\n                      {searchAlgorithms}\r\n                    </div>  \r\n                  </div>\r\n                  <div className='dropright'>\r\n                  <button className='dropdown-button'>Arbol Recubridor Minimo</button>\r\n                    <div className='right-menu'>\r\n                      {mstAlgorithms}\r\n                    </div>\r\n                  </div>\r\n                  <div className='dropright'>\r\n                  <button className='dropdown-button'>Arreglos</button>\r\n                    <div className='right-menu'>\r\n                      {arrays}\r\n                    </div>\r\n                  </div>\r\n                  <div className='dropright'>\r\n                  <button className='dropdown-button'>Estructuras de Datos</button>\r\n                    <div className='right-menu'>\r\n                      {dataStructures}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </HashRouter>\r\n            </div>\r\n          </Col>\r\n          <Col md={1} style={{visibility: this.props.algorithm !== 'none' ? 'visible' : 'hidden'}}>\r\n            <PhotoControl callback={this.props.photo}/>\r\n          </Col>\r\n          <Col md={1} style={{visibility: this.props.algorithm !== 'none' ? 'visible' : 'hidden'}}>\r\n            <GIFControl callback={this.props.gif}/>\r\n          </Col>\r\n          <Col md={{span: 2, offset: 6}}>\r\n            <div className='dropdown'>\r\n              <button className='dropdown-button'>Ayuda</button>\r\n              <div className='dropdown-menu'>\r\n                <button className='dropdown-button' onClick={() => this.props.dispatch({type: actions.TOGGLE_TUTORIAL_MODAL})}>\r\n                  Dibujo de grafos\r\n                </button>\r\n                <button className='dropdown-button'>\r\n                  Acerca de\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    )\r\n  }\r\n};\r\nexport default connect(mapStateToProps)(MenuBar);","export default [\r\n  {\r\n    \"group\": \"nodes\",\r\n    \"data\": {\r\n      \"id\": \"node-1\",\r\n      \"value\": 1,\r\n      \"position\": {\r\n        \"x\": 210,\r\n        \"y\": 240\r\n      },\r\n      \"style\": {}\r\n    },\r\n    \"position\": {\r\n      \"x\": 210,\r\n      \"y\": 240\r\n    }\r\n  },\r\n  {\r\n    \"group\": \"nodes\",\r\n    \"data\": {\r\n      \"id\": \"node-2\",\r\n      \"value\": 2,\r\n      \"position\": {\r\n        \"x\": 300,\r\n        \"y\": 112\r\n      },\r\n      \"style\": {}\r\n    },\r\n    \"position\": {\r\n      \"x\": 300,\r\n      \"y\": 112\r\n    }\r\n  },\r\n  {\r\n    \"group\": \"nodes\",\r\n    \"data\": {\r\n      \"id\": \"node-3\",\r\n      \"value\": 3,\r\n      \"position\": {\r\n        \"x\": 395,\r\n        \"y\": 226\r\n      },\r\n      \"style\": {}\r\n    },\r\n    \"position\": {\r\n      \"x\": 395,\r\n      \"y\": 226\r\n    }\r\n  },\r\n  {\r\n    \"group\": \"edges\",\r\n    \"data\": {\r\n      \"id\": \"node-1-node-3\",\r\n      \"source\": \"node-1\",\r\n      \"target\": \"node-3\",\r\n      \"weight\": 2,\r\n      \"style\": {}\r\n    }\r\n  },\r\n  {\r\n    \"group\": \"edges\",\r\n    \"data\": {\r\n      \"id\": \"node-1-node-2\",\r\n      \"source\": \"node-1\",\r\n      \"target\": \"node-2\",\r\n      \"weight\": 7,\r\n      \"style\": {}\r\n    }\r\n  },\r\n  {\r\n    \"group\": \"edges\",\r\n    \"data\": {\r\n      \"id\": \"node-2-node-3\",\r\n      \"source\": \"node-2\",\r\n      \"target\": \"node-3\",\r\n      \"weight\": 12,\r\n      \"style\": {}\r\n    }\r\n  }\r\n]","import React from 'react';\r\nimport example from '../resources/default_examples/example';\r\nimport { CytoEvent, CytoscapeElement } from '../Types/types';\r\nconst Styles = require('../Styles/Styles');\r\nconst cytoscape = require('cytoscape');\r\n\r\nconst getNodeIdString = (nodeId: string) => {\r\n\treturn 'node-' + nodeId;\r\n}\r\n\r\nclass FreeGraph extends React.Component<{}>{\r\n  cy = cytoscape();\r\n  nodeStyle = Styles.NODE;\r\n  edgeStyle = Styles.EDGE;\r\n  \r\n  selection:{type:string, id: string} | null = null;\r\n\r\n  layout = {\r\n\t\trun: () => { },\r\n\t\tstop: () => { },\r\n  };\r\n  \r\n  componentDidMount(){\r\n    this.cy = cytoscape({\r\n      container: document.getElementById('examplecanvas'),\r\n      elements: JSON.parse(JSON.stringify(example)),  \r\n      style: [ // the stylesheet for the graph\r\n\t\t\t\t{\r\n\t\t\t\t\tselector: 'node',\r\n\t\t\t\t\tstyle: this.nodeStyle,\r\n\t\t\t\t},\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\tselector: 'edge',\r\n\t\t\t\t\tstyle: this.edgeStyle,\r\n\t\t\t\t}\r\n\t\t\t],\r\n\r\n\t\t\tlayout: {\r\n\t\t\t\tname: 'preset',\r\n\t\t\t},    \r\n      headless: false,\r\n\t\t\tstyleEnabled: true,\r\n\t\t\thideEdgesOnViewport: false,\r\n\t\t\thideLabelsOnViewport: false,\r\n\t\t\tuserPanningEnabled: false,\r\n\t\t\tzoomingEnabled: false,\r\n\t\t\ttextureOnViewport: false,\r\n\t\t\tmotionBlur: false,\r\n\t\t\tmotionBlurOpacity: 0.2,\r\n\t\t\tpixelRatio: '1.0'\r\n    });\r\n\r\n    this.cy.on('click', (event: CytoEvent) => this.handleClickViewport(event));\r\n\t\tthis.cy.on('click', 'node', (event: CytoEvent) => this.handleClickOnNode(event.target));\r\n\t\tthis.cy.on('click', 'edge', (event: CytoEvent) => this.handleClickOnEdge(event.target));\r\n\t\tthis.cy.autopanOnDrag({ enabled: true, speed: 0.01 });\r\n\t\tthis.layout = this.cy.elements().makeLayout({\r\n\t\t\tname: 'preset',\r\n\t\t});\r\n\t\tthis.layout.run();\r\n  }\r\n\r\n  \r\n  handleClickOnNode = (node: CytoscapeElement) => {\r\n\t\tlet nodeId = node.id();\r\n\t\tlet { selection } = this;\r\n\r\n\t\tif (!selection || selection.type !== 'node') {\r\n\t\t\tnode.style(Styles.NODE_SELECTED);\r\n\r\n\t\t\tif (selection && selection.type === 'edge') {\r\n\t\t\t\tlet edge = this.cy.getElementById(selection.id);\r\n\t\t\t\tedge.style(this.edgeStyle);\r\n\t\t\t}\r\n\r\n      this.selection = {\r\n        type: 'node',\r\n        id: nodeId,\r\n      };\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (selection.type === 'node') {\r\n\t\t\tlet prevNode = selection.id;\r\n\t\t\tif (prevNode === nodeId) {\r\n\t\t\t\tnode.style(Styles.NODE);\r\n\t\t\t\tthis.selection = null;\r\n\t\t\t} else {\r\n\t\t\t\tlet previous = this.cy.getElementById(prevNode);\r\n\t\t\t\tif (prevNode) {\r\n\t\t\t\t\tif (!previous.outgoers().contains(node))  {\r\n\t\t\t\t\t\tthis.createEdge(prevNode, nodeId);\r\n          }\r\n          this.selection = null;\r\n\t\t\t\t}\r\n\t\t\t\tprevious.style(Styles.NODE);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\thandleClickOnEdge = (edge: CytoscapeElement) => {\r\n\t\tlet edgeId = edge.id();\r\n\r\n\t\tlet { selection } = this;\r\n\r\n\t\tlet prevId = null;\r\n\t\tif (selection) {\r\n\t\t\tprevId = selection.id;\r\n\t\t\tlet previous = this.cy.getElementById(prevId);\r\n\t\t\tif (selection.type === 'edge') {\r\n\t\t\t\tprevious.style(this.edgeStyle);\r\n\t\t\t} else if (selection.type === 'node') {\r\n\t\t\t\tprevious.style(this.nodeStyle);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (prevId === edgeId) {\r\n      this.selection = null;\r\n\t\t\tlet previous = this.cy.getElementById(prevId);\r\n\t\t\tprevious.style(this.edgeStyle);\r\n\t\t} else {\r\n      this.selection = { type: 'edge', id: edgeId };\r\n\t\t\tedge.style(Styles.EDGE_SELECTED);\r\n\t\t}\r\n\t}\r\n\r\n\tcreateNode(x: string, y: string) {\r\n\t\tlet id = 1;\r\n\t\twhile (this.cy.getElementById(getNodeIdString(id.toString())).length > 0) {\r\n\t\t\tid++;\r\n\t\t}\r\n\t\tlet nodeId = getNodeIdString(id.toString());\r\n\t\tthis.cy.add({\r\n\t\t\tgroup: 'nodes',\r\n\t\t\tdata: { id: nodeId, value: id },\r\n\t\t\tposition: { x, y }\r\n\t\t});\r\n\t}\r\n\r\n  createEdge(x: string, y: string) {\r\n\t\tthis.cy.add({\r\n\t\t\tgroup: 'edges',\r\n\t\t\tdata: {\r\n\t\t\t\tid: x + '-' + y,\r\n\t\t\t\tweight: Math.floor(Math.random() * 15),\r\n\t\t\t\tsource: x,\r\n\t\t\t\ttarget: y,\r\n\t\t\t}\r\n\t\t});\r\n  }\r\n  \r\n  handleClickViewport = (event: CytoEvent) => {\r\n\r\n\t\tlet { selection } = this;\r\n\t\tif (event.target === this.cy) {\r\n\t\t\tif (selection) {\r\n\t\t\t\tlet previous = this.cy.getElementById(selection.id);\r\n\t\t\t\tif (selection.type === 'node') {\r\n\t\t\t\t\tprevious.style(Styles.NODE);\r\n\t\t\t\t} else if (selection.type === 'edge') {\r\n\t\t\t\t\tprevious.style(this.edgeStyle);\r\n        }\r\n        this.selection = null;\r\n\t\t\t} else {\r\n\t\t\t\tlet { x, y } = event.position;\r\n\t\t\t\tthis.createNode(x, y);\r\n\t\t\t\tthis.refreshLayout();\r\n\t\t\t}\r\n\t\t}\r\n  }\r\n  \r\n  refreshLayout() {\r\n\t\tthis.layout.stop();\r\n\t\tthis.layout = this.cy.elements().makeLayout({ name: 'preset' });\r\n\t\tthis.layout.run();\r\n\t}\r\n\r\n  render(){\r\n    return <div id = \"examplecanvas\" className=\"modal-struct\"/>\r\n  }\r\n} \r\n\r\nexport default FreeGraph;","import React from 'react';\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport { Button } from 'react-bootstrap';\r\nimport actions from '../Actions/actions';\r\nimport FreeGraph from './FreeGraph';\r\nconst { connect } = require('react-redux');\r\ntype Props = {\r\n  showTutorialModal: boolean,\r\n  dispatch: (action: Object) => Object,\r\n}\r\n\r\nconst mapStateToProps = (state:Props) => {\r\n  return {...state};\r\n}\r\nclass FreeGraphModal extends React.Component<Props>{\r\n  render(){\r\n    const handleClose = () => this.props.dispatch({ type: actions.TOGGLE_TUTORIAL_MODAL});\r\n    return (\r\n      <>\r\n        <Modal size=\"lg\" show={this.props.showTutorialModal} onHide={handleClose}>\r\n          <Modal.Header className='modal-header' closeButton>\r\n            <Modal.Title>Dibujo de grafos</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <p className='tutorial-paragraph'>Para crear un nodo, debe dar <b>click</b> en un espacio en blanco</p>\r\n            <p className='tutorial-paragraph'>Seleccione nodos o aristas simplemente dando click sobre estos</p>\r\n            <p className='tutorial-paragraph'>Para crear una arista, seleccione un nodo <b>fuente</b> y luego seleccione un nodo <b>destino</b></p>\r\n            <FreeGraph/>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"success\" onClick={handleClose}>\r\n              Entendido!\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(FreeGraphModal);","// @flow\r\nimport React from 'react';\r\nimport ReactNotification from 'react-notifications-component'\r\nimport 'react-notifications-component/dist/theme.css'\r\n\r\nimport './views/css/App.css';\r\n\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\nimport AlgorithmInfo from './Components/AlgorithmInfo'\r\nimport Editor from './Editor';\r\nimport Sidebar from './Components/Sidebar';\r\nimport CodeBlock from './Components/CodeBlock';\r\nimport BFS from './resources/pseudocodes/BFS';\r\nimport BFS_table from './resources/value_tables/BFS_table';\r\n\r\nimport Footer from './Components/Footer';\r\nimport MenuBar from './Components/MenuBar';\r\nimport FreeGraphModal from './Components/FreeGraphModal';\r\n\r\nclass App extends React.Component{\r\n  \r\n  render() {\r\n    return (\r\n      <body>\r\n        <div>\r\n          <Container>\r\n            <ReactNotification/>\r\n            <FreeGraphModal/>\r\n            <CodeBlock/>\r\n            <MenuBar/>\r\n            <Row>\r\n              <Col>\r\n                <Editor algorithm={this.props.algorithm} />\r\n              </Col>\r\n            </Row>\r\n            <Footer/>\r\n          </Container>\r\n        </div>\r\n      </body>\r\n    );\r\n  }\r\n  \r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","const DFS = [\r\n  { text: 'DFS_visitar(nodo u):', ind: 0},\r\n  { text: 'color[u]=Gris', ind: 1},\r\n  { text: 'Para cada v adyacente a u:', ind: 1},\r\n  { text: 'Si color[v] es blanco:', ind: 2},\r\n  { text: 'DFS_visitar(v)', ind: 3},\r\n  { text: 'color[u]=Negro', ind: 1},\r\n  { text: '\\u2063', ind: 0},\r\n  { text: 'DFS(Grafo G(V,E), Nodo inicio):', ind: 0},\r\n  { text: 'Para cada u \\u2208 V', ind: 1 },\r\n  { text: 'color[u]=blanco:', ind: 2 },\r\n  { text: 'DFS_visitar(u)', ind: 1 },\r\n]\r\nexport default DFS;","const dijkstra = [\r\n  {text: 'Dijkstra(Grafo G(V,E), nodo inicio):', ind: 0},\r\n  {text: 'Para cada u \\u2208 V:', ind: 1},\r\n  {text: 'distancia[u]=\\u221E', ind: 2},\r\n  {text: 'encolar(cola, <inicio,0>)', ind:1},\r\n  {text: 'Mientras no vacio(cola):', ind: 1},\r\n  {text: 'u=extraer_minimo(cola)', ind: 2},\r\n  {text: 'Para cada v adyacente a u:', ind: 2},\r\n  {text: 'Si distancia[u]+peso(u,v)<distancia[v]:', ind:3},\r\n  {text: 'distancia[v]=distancia[u]+peso(u,v)', ind:  4},\r\n  {text: 'actualizar(cola, <v,distancia[v]>)', ind: 4},\r\n];\r\n\r\nexport default dijkstra;","const kruskal = [\r\n  {text: 'Kruskal(Grafo G(V,E)):', ind: 0},\r\n  {text: 'F=Vacio', ind: 1},\r\n  {text: 'ordenar_por_peso(E)', ind: 1},\r\n  {text: 'Para cada arista (u, v) \\u2208 E:', ind: 1},\r\n  {text: 'Si no_camino(u,v):', ind: 2},\r\n  {text: 'Aadir (u, v) a F', ind: 3},\r\n  {text: 'Retornar F', ind: 1},\r\n]\r\n\r\nexport default kruskal;","const bellmanFord = [\r\n  {text: 'BellmanFord(Grafo G(V,E), nodo inicio):', ind: 0},\r\n  {text: 'Para cada u \\u2208 V:', ind: 1},\r\n  {text: 'distancia[u]=\\u221E', ind: 2},\r\n  {text: 'distancia[inicio]=0', ind: 1},\r\n  {text: 'Para i=0 hasta |G|-1:', ind: 1},\r\n  {text: 'Para cada arista (u, v) con peso w \\u2208 E:', ind: 2},\r\n  {text: 'Si distancia[u]+w<distancia[v]', ind: 3},\r\n  {text: 'distancia[v]=distancia[u]+w', ind: 4},\r\n  {text: '\\u2063', ind: 0},\r\n  {text: 'Para cada arista (u, v) con peso w \\u2208 E:', ind: 1},\r\n  {text: 'Si distancia[u]+w<distancia[v]', ind: 2},\r\n  {text: 'Alertar existencia de ciclo negativo', ind: 3},\r\n];\r\n\r\nexport default bellmanFord;","const bubblesort = [\r\n  {text: 'OrdenamientoBurbuja(Arreglo A):', ind: 0},\r\n  {text: 'Repetir:', ind: 1},\r\n  {text: 'Ordenado=Verdad', ind: 2},\r\n  {text: 'Para i=1 hasta longitud(A)-1:', ind: 2},\r\n  {text: 'Si A[i-1] > A[i]:', ind: 3},\r\n  {text: 'Intercambiar(A[i-1], A[i])', ind: 4},\r\n  {text: 'Ordenado=Falso', ind: 4},\r\n  {text: 'Hasta Ordenado', ind: 1},\r\n];\r\n\r\nexport default bubblesort;","const mergesort = [\r\n  {text: 'mergeSort(Arreglo A[n]):', ind: 0},\r\n  {text: 'Si n==1:', ind: 1},\r\n  {text: 'Retornar A', ind: 2},\r\n  {text: 'Arreglo L=mergeSort(A[0..n/2))', ind:1},\r\n  {text: 'Arreglo R=mergeSort(A[n/2..n))', ind:1},\r\n  {text: 'retornar merge(L,R)', ind: 1},\r\n  {text: '\\u2063', ind: 0},\r\n  {text: 'merge(Arreglo L[n], Arreglo R[m]):', ind: 0},\r\n  {text: 'Arreglo M[n+m]', ind: 1},\r\n  {text: 'p=0, i=0, j=0', ind: 1},\r\n  {text: 'Mientras i<n o j<m :', ind: 1},\r\n  {text: 'Si j==m o (i<n y L[i]'+'\\u2264'+'R[j]):', ind: 2},\r\n  {text: 'M[p]=L[i], p=p+1, i=i+1', ind: 3},\r\n  {text: 'Sino:', ind:2},\r\n  {text: 'M[p]=R[j], p=p+1, j=j+1', ind: 3},\r\n  {text: 'Retornar M', ind: 1}\r\n];\r\n\r\nexport default mergesort;","const prim = [\r\n  {text: 'Prim(Grafo G(V,E)):', ind: 0},\r\n  {text: 'F=Vacio', ind: 1},\r\n  {text: 'Para cada u \\u2208 V', ind: 1},\r\n  {text: 'distancia[u]=\\u221E', ind: 2},\r\n  {text: 'padre[u]=u', ind: 2},\r\n  {text: 'encolar(cola,<u,\\u221E>)', ind: 2},\r\n  {text: 'Mientras no vacio(cola):', ind: 1},\r\n  {text: 'u=extraer_minimo(cola)', ind: 2},\r\n  {text: 'Aadir u a F', ind: 2},\r\n  {text: 'Si padre[u]!=u:', ind: 2},\r\n  {text: 'Aadir (padre[u], u) a F', ind: 3},\r\n  {text: 'Para cada v adyacente a u:', ind: 2},\r\n  {text: 'Si v \\u2209 F y peso(u,v)<distancia[v]:', ind: 3},\r\n  {text: 'Actualizar(cola,<v,peso(u,v)>)', ind: 4},\r\n  {text: 'distancia[v]=peso(u,v)', ind: 4},\r\n  {text: 'retornar F', ind: 1}\r\n];\r\n\r\nexport default prim;","const binarySearch = [\r\n  { text: 'BusquedaBinaria(Arreglo A[0..n), entero v):', ind: 0},\r\n  { text: 'inf=0, sup=n-1', ind: 1},\r\n  { text: 'Mientras inf \\u2264 sup:', ind: 1},\r\n  { text: 'medio=(inf+sup)/2', ind: 2},\r\n  { text: 'Si v == A[medio]:', ind: 2},\r\n  { text: 'Retornar Verdadero', ind: 3},\r\n  { text: 'Si v \\u003c A[medio]:', ind: 2},\r\n  { text: 'sup=medio-1', ind: 3},\r\n  { text: 'Sino', ind: 2},\r\n  { text: 'inf=medio+1', ind: 3},\r\n  { text: 'Retornar falso', ind: 1},\r\n];\r\nexport default binarySearch;","import BFS from '../resources/pseudocodes/BFS';\r\nimport DFS from '../resources/pseudocodes/DFS';\r\nimport dijkstra from '../resources/pseudocodes/dijkstra';\r\nimport kruskal from '../resources/pseudocodes/kruskal';\r\nimport bellmanFord from '../resources/pseudocodes/bellmanFord';\r\nimport bubblesort from '../resources/pseudocodes/bubblesort';\r\nimport mergesort from '../resources/pseudocodes/mergesort';\r\nimport prim from '../resources/pseudocodes/prim';\r\nimport {heap} from '../resources/pseudocodes/heap';\r\nimport {avl} from '../resources/pseudocodes/avl';\r\nimport binarySearch from '../resources/pseudocodes/binarySearch';\r\n\r\nimport listPseudo from '../resources/pseudocodes/list';\r\nimport actions from '../Actions/actions'\r\nconst algorithmReducer = (state = {}, action) => {\r\n  const control = (action.payload ? \r\n    {\r\n      options: action.payload.options,\r\n      photo: action.payload.photo,\r\n      gif: action.payload.gif,\r\n      undo: action.payload.undo,\r\n      redo: action.payload.redo,\r\n      rewind: action.payload.rewind,\r\n      forward: action.payload.forward,\r\n      pause: action.payload.pause,\r\n      repeat: action.payload.repeat,\r\n      end: action.payload.end,\r\n      remove: action.payload.remove || null,\r\n      clear: action.payload.clear || null,\r\n      selection: null,\r\n    } : {});\r\n\r\n  switch (action.type) {\r\n    case actions.HOME:\r\n      return {\r\n        ...state,\r\n        algorithm: 'none',\r\n        selection: null,\r\n        pseudo: null,\r\n      }\r\n\r\n    case actions.SELECT_BFS:\r\n      return {\r\n        ...state,\r\n        ...control,\r\n        algorithm: 'BFS',\r\n        selection: null,\r\n        pseudo: BFS,\r\n        run: action.payload.run,\r\n      }\r\n\r\n    case actions.SELECT_DFS:\r\n      \r\n      return {\r\n        ...state,\r\n        ...control,\r\n        algorithm: 'DFS',\r\n        pseudo: DFS,\r\n        run: action.payload.run,\r\n      }\r\n\r\n    case actions.SELECT_DIJKSTRA:\r\n      return {\r\n        ...state,\r\n        ...control,\r\n        algorithm: 'Dijkstra',\r\n        pseudo: dijkstra,\r\n        run: action.payload.run,\r\n      }\r\n\r\n    case actions.SELECT_BELLMAN_FORD:\r\n      return {\r\n        ...state,\r\n        ...control,\r\n        algorithm: 'BellmanFord',\r\n        pseudo: bellmanFord,\r\n        run: action.payload.run,\r\n      }\r\n\r\n    case actions.SELECT_KRUSKAL:\r\n      return {\r\n        ...state,\r\n        ...control,\r\n        algorithm: 'Kruskal',\r\n        pseudo: kruskal,\r\n        run: action.payload.run,\r\n      }\r\n\r\n    case actions.SELECT_PRIM:\r\n      return {\r\n        ...state,\r\n        ...control,\r\n        algorithm: 'Prim',\r\n        pseudo: prim,\r\n        run: action.payload.run,\r\n      }\r\n\r\n    case actions.SELECT_HEAP:\r\n      return {\r\n        ...state,\r\n        ...control,\r\n        algorithm: 'Heap',\r\n        pseudo: heap,\r\n      }\r\n\r\n    case actions.SELECT_AVL:\r\n      return {\r\n        ...state,\r\n        ...control,\r\n        algorithm: 'AVL',\r\n        pseudo: avl,\r\n      }\r\n\r\n    case actions.SELECT_BUBBLESORT:\r\n      return {\r\n        ...state,\r\n        ...control,\r\n        algorithm: 'BubbleSort',\r\n        pseudo: bubblesort,\r\n      }\r\n\r\n    case actions.SELECT_MERGESORT:\r\n      return {\r\n        ...state,\r\n        ...control,\r\n        algorithm: 'MergeSort',\r\n        pseudo: mergesort,\r\n      }\r\n\r\n    case actions.SELECT_BINARY_SEARCH:\r\n      return {\r\n        ...state,\r\n        ...control,\r\n        algorithm: 'BinarySearch',\r\n        pseudo: binarySearch,\r\n      }\r\n\r\n    case actions.SELECT_LINKED_LIST:\r\n      const nextState = {\r\n        ...state,\r\n        ...control,\r\n      }\r\n      switch(action.payload.type){\r\n        case actions.SELECT_SINGLE_LINKED_LIST:\r\n          return {\r\n            ...nextState,\r\n            algorithm: 'SingleLinkedList',\r\n            pseudo: listPseudo.singlySet.main,\r\n          }\r\n        case actions.SELECT_DOUBLE_LINKED_LIST:\r\n          return {\r\n            ...nextState,\r\n            algorithm: 'DoubleLinkedList',\r\n            pseudo: listPseudo.doublySet.main,\r\n          }\r\n        case actions.SELECT_QUEUE:\r\n          return {\r\n            ...nextState,\r\n            algorithm: 'Queue',\r\n            pseudo: listPseudo.queueSet.main,\r\n          }\r\n        case actions.SELECT_STACK:\r\n          return {\r\n            ...nextState,\r\n            algorithm: 'Stack',\r\n            pseudo: listPseudo.stackSet.main,\r\n          }\r\n      }\r\n      \r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default algorithmReducer;","import actions from '../Actions/actions'\r\n\r\nconst animationReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case actions.ANIMATION_START:\r\n      return {\r\n        ...state,\r\n        selection: null,\r\n        animation: true,\r\n      }\r\n\r\n    case actions.ANIMATION_PAUSE:\r\n      return {\r\n        ...state,\r\n        paused: true,\r\n      }\r\n\r\n    case actions.ANIMATION_CONTINUE:\r\n      return {\r\n        ...state,\r\n        paused: false,\r\n      }\r\n\r\n    case actions.ANIMATION_END:\r\n      return {\r\n        ...state,\r\n        animation: false,\r\n        paused: false,\r\n        lines: null,\r\n      }\r\n\r\n    case actions.DEC_SPEED:\r\n      return {\r\n        ...state,\r\n        speed: Math.min(state.speed + 0.10, 2),\r\n      }\r\n\r\n    case actions.INC_SPEED:\r\n      return {\r\n        ...state,\r\n        speed: Math.max(state.speed - 0.10, 0),\r\n      }\r\n\r\n    case actions.CHANGE_SPEED:\r\n      return {\r\n        ...state,\r\n        speed: action.payload.speed,\r\n      }\r\n\r\n    case actions.CHANGE_PSEUDO:\r\n      return {\r\n        ...state,\r\n        pseudo: action.payload.pseudo,\r\n      }\r\n    \r\n    case actions.SHOW_PSEUDO:\r\n      return {\r\n        ...state,\r\n        showPseudo: true,\r\n      }\r\n    \r\n    case actions.TOGGLE_PSEUDO:\r\n      return {\r\n        ...state,\r\n        showPseudo: !state.showPseudo,\r\n      }\r\n      \r\n    case actions.CHANGE_LINE:\r\n      return {\r\n        ...state,\r\n        lines: action.payload.lines,\r\n      }\r\n\r\n    case actions.CHANGE_OPTIONS:\r\n      return {\r\n        ...state,\r\n        options: action.payload.options,\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default animationReducer;","import actions from '../Actions/actions'\r\n\r\nconst canvasReducer = (state = {}, action) => {\r\n  switch(action.type){\r\n    case actions.CLEAR_GRAPH:\r\n        return {\r\n          ...state,\r\n          selection: null,\r\n          animation: false,\r\n        }\r\n  \r\n    case actions.LOAD_GRAPH:\r\n      return {\r\n        ...state,\r\n        loadingGraph: true,\r\n        animation: false,\r\n        data: action.payload.data,\r\n        selection: null,\r\n      }\r\n\r\n    case actions.FINISHED_LOAD:\r\n      return {\r\n        ...state,\r\n        loadingGraph: false,\r\n        data: null,\r\n      }\r\n    \r\n    case actions.INC_GIF_LENGTH:\r\n      return {\r\n        ...state,\r\n        gifLength: state.gifLength + 1,\r\n      }\r\n\r\n    case actions.RESET_GIF_LENGTH:\r\n      return {\r\n        ...state,\r\n        gifLength: 0,\r\n      }\r\n  \r\n    case actions.START_GIF_ENCODING:\r\n      return {\r\n        ...state,\r\n        processingGif: true,\r\n      }\r\n\r\n    case actions.FINISHED_GIF_ENCODING:\r\n      return {\r\n        ...state,\r\n        processingGif: false,\r\n      }\r\n\r\n    case actions.TOGGLE_TUTORIAL_MODAL:\r\n      return {\r\n        ...state,\r\n        showTutorialModal: !state.showTutorialModal,\r\n      }\r\n      \r\n    default: \r\n      return state;\r\n  }\r\n}\r\n\r\nexport default canvasReducer;","import actions from '../Actions/actions'\r\n\r\nconst selectionReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case actions.NO_SELECTION:\r\n      return {\r\n        ...state,\r\n        selection: null,\r\n      }\r\n\r\n    case actions.SELECTION:\r\n      return {\r\n        ...state,\r\n        selection: action.payload.selection,\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default selectionReducer;","import actions from '../Actions/actions';\r\nimport { store } from 'react-notifications-component';\r\nimport React from 'react';\r\nconst createNotification = (title, message, type) => {\r\n  store.addNotification({\r\n    title,\r\n    message,\r\n    type,\r\n    insert: \"top\",\r\n    container: \"top-right\",\r\n    animationIn: [\"animated\", \"fadeIn\"],\r\n    animationOut: [\"animated\", \"fadeOut\"],\r\n    dismiss: {\r\n      duration: 5000,\r\n      onscreen: true,\r\n      showIcon: true,\r\n    },\r\n  });\r\n}\r\n\r\nconst notificationsReducer = action => {\r\n  switch(action.type){\r\n    case actions.NO_NODE_SELECTED_ERROR:\r\n      createNotification('Error', \r\n      'Seleccione un nodo para ejecutar el algoritmo',\r\n      'danger');\r\n      break;\r\n\r\n    case actions.NO_EDGE_SELECTED_ERROR:\r\n      createNotification('Error',\r\n      'Seleccione una arista para cambiar su peso',\r\n      'danger');\r\n      break;\r\n\r\n    case actions.NO_ELEMENT_SELECTED_ERROR:\r\n      createNotification('Error',\r\n      'Debe seleccionar un elemento para eliminarlo',\r\n      'danger');\r\n      break;\r\n\r\n    case actions.INVALID_INTEGER_ERROR: \r\n      createNotification('Error',\r\n      'Debe ingresar un numero entero entre -999 y 999',\r\n      'danger');\r\n      break;\r\n\r\n    case actions.INVALID_ARRAY_ERROR:\r\n      createNotification('Arreglo invalido',\r\n      'Verifique que el arreglo cumpla con los requerimientos',\r\n      'danger');\r\n      break;\r\n\r\n    case actions.INVALID_GRAPH_ERROR:\r\n      createNotification('Error en el archivo',\r\n      'El archivo no representa un grafo valido',\r\n      'danger');\r\n      break;\r\n    \r\n    case actions.INVALID_HEAP_ERROR:\r\n      createNotification('Error',\r\n      'El archivo proporcionado no representa un Heap valido. Intente con otro archivo',\r\n      'danger');\r\n      break;\r\n\r\n    case actions.INVALID_AVL_ERROR:\r\n      createNotification('Error',\r\n      'El archivo proporcionado no representa un AVL valido. Intente con otro archivo',\r\n      'danger');\r\n      break;\r\n    \r\n    case actions.ANIMATION_RUNNING_ERROR:\r\n      createNotification('Error',\r\n      'No se pueden hacer modificaciones mientras se ejecuta el algoritmo',\r\n      'danger');\r\n      break;\r\n    \r\n    case actions.GIF_ENCODING_ERROR:\r\n      createNotification('Error procesando GIF',\r\n      'Ha ocurrido un error y no se pudo descargar el GIF. Intente nuevamente',\r\n      'danger');\r\n      break;\r\n\r\n    case actions.EMPTY_LIST_WARNING:\r\n      createNotification('La lista se encuentra vacia',\r\n      'No se pudo realizar la accion',\r\n      'warning');\r\n      break;\r\n\r\n    case actions.EMPTY_HEAP_WARNING:\r\n      createNotification('Heap vacio',\r\n      'No se puede extraer el minimo elemento de un heap vacio',\r\n      'warning');\r\n      break;\r\n    \r\n    case actions.DIJKSTRA_NEGATIVE_WEIGHT_WARNING:\r\n      createNotification('Cuidado con las aristas con peso negativo',\r\n      'El algoritmo de Dijkstra puede no obtener el camino minimo si hay aristas negativas',\r\n      'warning');\r\n      break;\r\n\r\n    case actions.NEGATIVE_CYCLE_FOUND:\r\n      createNotification('El algoritmo ha encontrado un ciclo negativo',\r\n      'Los nodos pertenecientes al ciclo estan marcados en rojo',\r\n      'warning');\r\n      break;\r\n\r\n    case actions.AVL_NOT_FOUND_INFO:\r\n      createNotification('El elemento no fue encontrado en el arbol AVL',\r\n      'Debe volver a la edicion para modificar el arreglo',\r\n      'info');\r\n      break;\r\n\r\n    case actions.AVL_ELEMENT_ALREADY_INFO:\r\n      createNotification('Elemento en el arbol',\r\n      'El elemento ya se encuentra en el arbol AVL',\r\n      'info');\r\n      break;\r\n\r\n    case actions.STARTING_BFS_INFO:\r\n      createNotification('',\r\n      'Realizando BFS desde el nodo seleccionado',\r\n      'info');\r\n      break;\r\n\r\n    case actions.STARTING_DFS_INFO:\r\n      createNotification('',\r\n      'Realizando DFS desde el nodo seleccionado',\r\n      'info');\r\n      break;\r\n    \r\n    case actions.STARTING_DIJKSTRA_INFO:\r\n      createNotification('',\r\n      'Calculando caminos de peso minimo desde el nodo seleccionado mediante Dijkstra',\r\n      'info');\r\n      break;\r\n    \r\n    case actions.STARTING_BELLMAN_FORD_INFO:\r\n      createNotification('',\r\n      'Calculando caminos de peso minimo desde el nodo seleccionado mediante Bellman-Ford',\r\n      'info');\r\n      break;\r\n\r\n    case actions.STARTING_KRUSKAL_INFO:\r\n      createNotification('',\r\n      'Obteniendo arbol recubridor minimo mediante el algoritmo de Kruskal',\r\n      'info');\r\n      break;\r\n    \r\n    case actions.STARTING_PRIM_INFO:\r\n      createNotification('',\r\n      'Obteniendo arbol recubridor minimo mediante el algoritmo de Prim',\r\n      'info');\r\n      break;\r\n    \r\n    case actions.STARTING_BUBBLESORT_INFO:\r\n      createNotification('',\r\n      'Ordenando el arreglo mediante ordenamiento burbuja',\r\n      'info');\r\n      break;\r\n\r\n    case actions.STARTING_MERGESORT_INFO:\r\n      createNotification('',\r\n      'Ordenando el arreglo mediante ordenamiento por mezcla',\r\n      'info');\r\n      break;\r\n\r\n    case actions.STARTING_BINARYSEARCH_INFO:\r\n      createNotification('',\r\n      'Realizando busqueda binaria sobre el arreglo',\r\n      'info');\r\n      break;\r\n\r\n    case actions.STARTING_GIF_RECORDING_INFO:\r\n      createNotification('Creacion de GIF iniciada',\r\n      'La grabacion tendra una duracion maxima de 30 segundos',\r\n      'info');\r\n      break;\r\n    \r\n    case actions.FINISHED_GIF_RECORDING_INFO:\r\n      createNotification('Grabacion de GIF terminada',\r\n      'Procesando GIF para descargar',\r\n      'info');\r\n      break;\r\n\r\n    case actions.SORTING_BINARY_SEARCH_INFO:\r\n      createNotification('Solo arreglos ordenados',\r\n      'Los arreglos se ordenaran para realizar la busqueda binaria',\r\n      'info');\r\n      break;\r\n    \r\n    case actions.BINARY_SEARCH_NOT_FOUND_INFO:\r\n      createNotification('El elemento no se encuentra en el arreglo',\r\n      'Debe volver a la edicion para modificar el arreglo',\r\n      'info');\r\n      break;\r\n    \r\n    case actions.NO_FILE_SELECTED_INFO:\r\n      createNotification('Ningun archivo seleccionado',\r\n      'Debe seleccionar un archivo para subirlo',\r\n      'info');\r\n      break;\r\n\r\n    case actions.FINISHED_GIF_SUCCESS:\r\n      createNotification('Creacion de GIF terminada',\r\n      'El archivo GIF sera descargado a su dispositivo',\r\n      'success');\r\n      break;\r\n    \r\n    case actions.LOAD_GRAPH_SUCCESS:\r\n      createNotification('Grafo cargado con exito',\r\n      ' ',\r\n      'success');\r\n      break;\r\n    \r\n    case actions.PHOTO_SUCCESS:\r\n      createNotification('Captura realizada','La captura sera descargada a su dispositivo','success');\r\n      break;\r\n    \r\n    case actions.FINISHED_ALGORITHM_SUCCESS:\r\n      createNotification('Ejecucion terminada exitosamente',\r\n      'Debe volver a la edicion para modificar el grafo',\r\n      'success');\r\n      break;\r\n\r\n    case actions.AVL_FOUND_SUCCESS:\r\n      createNotification('Busqueda terminada',\r\n      'El elemento fue encontrado en el arbol AVL',\r\n      'success');\r\n      break;\r\n    \r\n    case actions.ARRAY_SORTED_SUCCESS:\r\n      createNotification('El arreglo fue ordenado exitosamente',\r\n      'Debe volver a la edicion para modificar el arreglo',\r\n      'success');\r\n      break;\r\n\r\n    case actions.BINARY_SEARCH_FOUND_SUCCESS:\r\n      createNotification('El elemento fue encontrado en el arreglo',\r\n      'Debe volver a la edicion para modificar el arreglo',\r\n      'success');\r\n      break;\r\n  }\r\n}\r\n\r\nexport default notificationsReducer;","import algorithmReducer from './algorithmReducer';\r\nimport animationReducer from './animationReducer';\r\nimport canvasReducer from './canvasReducer';\r\nimport selectionReducer from './selectionReducer';\r\nimport notificationsReducer from './notificationsReducer';\r\nconst initialState = {\r\n  algorithm: 'none',\r\n  selection: null,\r\n  animation: false,\r\n  speed: 0.75,\r\n  loadingGraph: false,\r\n  data: null,\r\n  pseudo: null,\r\n  lines: null,\r\n  run: () => { },\r\n  options: [],\r\n  photo: () => { },\r\n  gif: () => {},\r\n  gifLength: 0,\r\n  showPseudo: true,\r\n  paused: false,\r\n  processingGif: false,\r\n  \r\n  remove: null,\r\n  clear: null,\r\n  undo: () => {},\r\n  redo: () => {},\r\n  rewind: () => {},\r\n  forward: () => {},\r\n  repeat: () => {},\r\n  pause: () => {},\r\n  end: () => {},\r\n\r\n  showTutorialModal: false,\r\n};\r\n\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  let finalState = state;\r\n\r\n  finalState = algorithmReducer(finalState, action);\r\n  finalState = animationReducer(finalState, action);\r\n  finalState = canvasReducer(finalState, action);\r\n  finalState = selectionReducer(finalState, action);\r\n  \r\n  notificationsReducer(action);\r\n  return finalState;\r\n}\r\n\r\nexport default reducer;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App'\r\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\r\nimport './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport {createStore} from 'redux';\r\nimport {Provider} from 'react-redux';\r\nimport { CookiesProvider } from 'react-cookie';\r\nimport reducer from './Reducers/reducer';\r\n\r\nconst store = createStore(reducer);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <CookiesProvider>\r\n      <App />\r\n    </CookiesProvider>\r\n  </Provider>, \r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/graph3.674484b1.png\";","module.exports = __webpack_public_path__ + \"static/media/AVL.79af0dfa.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAzkAAAG3CAIAAAAYVQzPAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAACFXSURBVHhe7d15kJTFwfjxRFHkZgkYVzFA8AANiDceeJWoiIq+atQfeFWUMvEIWh4kqNHXK4cKmpQxljEiVox3Il4Qy7sM3lGIeKx4HxFETtlF2Pz6nX1CkUHNzB7TPTOfzx+WT+/Dbk9v1/a3dmdnv/EvAABSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVqHZ1dXXjytZOOdlFWTn++OO33nrrE088MbsuK+W77Icddtj6668/aNCgsPhlp0tOdlFWNt10044dOw4YMCC7Livlu+xNXnjhhexrfTnTalS7Rx999BsAVKLbbrst+1pfzrQa1a6p1V588cXsuqysvfbaffr0yS7KysSJEy176Z188smWvfTs9igeeeQRrQYVQqtF4fSKQqtFYbdHodWgcmi1KJxeUWi1KOz2KLQaVA6tFoXTKwqtFoXdHoVWg8qh1aJwekWh1aKw26PQalA5tFoUTq8otFoUdnsUWg0qh1aLwukVhVaLwm6PQqtB5dBqUTi9otBqUdjtUWg1qBxaLQqnVxRaLQq7PQqtBpVDq0Xh9IpCq0Vht0eh1aByaLUonF5RaLUo7PYotBpUDq0WhdMrCq0Whd0ehVaDyqHVonB6RaHVorDbo9BqUDm0WhROryi0WhR2exRaDSqHVovC6RWFVovCbo9Cq0Hl0GpROL2i0GpR2O1RaDWoHFotCqdXFFotCrs9Cq0GlUOrReH0ikKrRWG3R6HVoHJotSicXlG0bqstW7Zs9uzZCxYsyK7/0/Llyz/++ON//OMfL7300ttvv71kyZLsDc1VgmUPjyU8ovnz52fXraR1d3tjY2NY2LCqCxcuzIZWk/iyz50796233gqTzK5zwuDfv1bYadmtxdBqUDm0WhRaLYpWbLX6+vpbbrllww03/NKzMLz1D3/4w3777detW7d27doNGTJk/PjxIR2yNzdLWy97CILzzz9/4403vvnmm1euXJmNtobW3e0hxY488sgOHTr85S9/yYb+LfFl/+ijj4455pgDDjjgvffey4ZyJk2aFNbna4Rcy24thlaDyqHVotBqUbRiq919991bbrnlWmutteZZuHz58iuuuKJXr1477bTT9ddff+utt44ePbpHjx7Dhw+fM2dOdlPx2nTZGxsbwzxramrCPFNutRCUV199ddeuXddstcSX/f333w+h1r59+5CSea329NNPh1zLc+WVVx500EHh/qFDh37wwQfZrcXQalA5tFoUWi2KVmm1+vr6kAsdO3YM7ypY8yx89tlnu3TpMmzYsFdffbVpZMmSJeeff364+ZJLLvniiy+aBovVpss+c+bM733ve2GGibfajBkzQiKH97Zmq6W87LNmzQrJGMo+TGbNVvtSoc922GGH/v37P//889lQkbQaVA6tFoVWi6KFrRYK5oknnthrr73CCvTt2zeco+F/8s7CZcuWnXvuueGjXHfddav3QV1dXfgnO++8c7O/x9N2yz537tyxY8cOHTr06KOPTrnVwjwPPfTQ3Xfffc8998xrtWSXfcGCBRdccMGGG27YtWvXbbfdNtRkIa22cOHCH/zgBzU1NVdcccWKFSuy0SJpNagcWi0KrRZFC1utvr5+woQJ7du3P+CAA+65557w/6EY8s7Cjz76KMTceuut9+yzz2ZDOSEmjjvuuN69ez/00EONjY3ZaDHabtknT548ePDgKVOmXHnllcm22ueff37ppZcOGjTolltuCR2T12rJLvvMmTPDYw+9eNFFF4XQ32KLLf5rq4U4u+mmm7p163bIIYe05Ke3Wg0qh1aLQqtF0cJWa2hoCCff1KlTP/vss6VLl1588cVrttqrr74azuMtt9xyzfM43F9TU3PjjTc27+dxbbTss2fP3nrrrc8444zwoCZNmpRmq4XMuuOOO8LcwhrOmzdv7Nixea2W7LKH5T3rrLNef/31sHnefPPNQlqtrq5uhx12CA/w/vvvb8knQqtB5dBqUWi1KFrxdws+//zzL221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aLUotBpAgbRaQrRaFFotCq0GUCCtlhCtFoVWi0KrARRIqyVEq0Wh1aLQagAF0moJ0WpRaLUotBpAgbRaQrRaFK3YasuXL586dWpYhy9NkPnz50+ZMuXggw/u0aNHWK6BAweeeuqpM2bM+OKLL7I7iteKyx6mF+Zz4IEHvvfee9nQaj766KPJkyePGDGipqamU6dOu++++zXXXBMGszcXT6sBFEirJUSrRdGKrRb6Y9dddw1LsWaChBI6++yz119//e233378+PEXXXTR6NGja2trQ7Hdddddzc611lr2uXPn/uQnP+ncufN+++23ZquFJjvppJM6duy4yy67nHPOOeHOoUOHdu/ePTyipUuXZjcVSasBFEirJUSrRdEqrdbQ0HDjjTf27t07rMOaCbJy5cobbrihffv2I0aMmDlz5vLly8PIokWLbrnllnDzNtts89prr2W3FqlVlj189COOOKJDhw5hMmu2Wpjtb37zm27duoV7Pvjgg3AZvPvuuyNHjgy5Nm3atOy+Imk1gAJptYRotSha2GqNjY2vvPLKoYceGlagS5cuXbt2XWuttfISZN68eYcddli7du3uv//+bChn6dKlRx555Le//e0///nPod6y0WK0cNmXLVs2ZcqUvn37rrvuur169Qr/XbPVQp/ts88+22+//Zw5c7Kh3KO++eabN9poowkTJoT/z0aLodUACqTVEqLVomhhq9XX14deCZWzyy67TJ48efz48R06dMhLkDfeeGOvvfYaMGDA22+/nQ392//+7//26NEjdM+KFSuyoWK0cNlnzpwZHnttbe24ceMeeuihLbbYYs1Wmz59emiyCy+8MO8HtW+++ea11147derU5s1cqwEUSKslRKtF0cJWa/rp56RJk1577bXFixdffPHFa7ZaGH/++ecff/zxZcuWZUM54d/+8Ic/7NmzZ7g/Squ98sorY8aMefDBB+fPnx/a60tbbeLEiU3f+Wve98++ilYDKJBWS4hWi6IVf7fg888//9JW+yovv/xybW3tJptsEkouGypSKy77V7XauHHjNt9882eeeWbp0qVXXnnllltu2aVLl1GjRj399NPN+7ltE60GUCCtlhCtFkWsVvvwww9POumkdu3anXHGGYsXL85Gi9TWrVZfXz969Oj+/ftPnDhxp5122myzzYYOHbrddtttuOGGoTKvuOKK8JCzW4uk1QAKpNUSotWiiNJqCxcuPPfcc2tqakaOHFlXV5eNFq80rdapU6dNNtnkhBNOeOaZZxYsWPDxxx/ffffdO++8c+/evadOnZrdWiStBlAgrZYQrRZF6Vst3Hb22Wd37tx5+PDha/62QVFK02phfUaNGvXPf/4zG/3X/70KyR133PGd73znkEMOWbRoUTZaDK0GUCCtlhCtFkWJWy0Uz/HHH7/WWmvtueees2bNykabq61braGhYcyYMR07drzmmmvyfvsh3L/bbrsNGDBg9dfyKJxWAyiQVkuIVouilK32wgsvfP/73+/UqdPhhx/+6quvZqMt0NatFkyYMKFHjx5TpkzJ+02Cjz76KNy8zjrr/P3vf8+GiqHVAAqk1RKi1aIoWauFONt7771D94wbN+6dd97JRlumBK120003de7c+Re/+EXe99XmzJmz22679e/fv65Zz7fTagAF0moJ0WpRlKbVQgDtscce3bt3P++885r9W59rKkGrhcQcMmTI/vvvP3/+/Gwo5/777+/Xr9+RRx7ZvD8JqtUACqTVEqLVoihBqy1atOiUU04JH+Woo44KSRRabXVLlixpaGjIbi1SCVotPKjx48d37do1VOYHH3wQplpfXz979ux99tmnZ8+efg8UoK1ptYRotSjautUaGxuffPLJfv36hY+y6667Hnvsscf9p7Fjx95///15f8GpQCVotWDOnDljxoxp167dsGHDTjvttNCdgwYNCqF2wQUXNO+baoFWAyiQVkuIVouirVstRNgNN9xQU1MTPsqX6ty588SJE+vr67N/UIzStFrIzffff/93v/vdPvvs061bt29961ujRo2666678n4qWhStBlAgrZYQrRZFK7Za6ZXvsms1gAJptYRotSi0WhRaDaBAWi0hWi0KrRaFVgMokFZLiFaLQqtFodUACqTVEqLVotBqUWg1gAJptYRotSi0WhRaDaBAWi0hWi0KrRaFVgMokFZLiFaLQqtFodUACqTVEqLVotBqUWg1gAJptYRotSi0WhRaDaBAWi0hWi0KrRaFVgMokFZLiFaLQqtFodUACqTVEqLVotBqUWg1gAJptYRotSi0WhRaDaBAWi0hWi0KrRaFVgMokFZLiFaLQqtFodUACqTVEqLVotBqUWg1gAJptYRotSi0WhRaDaBAWi0hWi0KrRaFVgMokFZLiFaLQqtFodUACqTVEqLVotBqUWg1gAJptYRotSi0WhRaDaBAWi0hWi0KrRaFVgMokFZLiFaLQqtFodUACqTVEqLVotBqUWg1gAJptYQ0tRpUD60G8F9ptYTMmjXr4LLVNye7KCtDhw5db7311l9//doy1C4nuyhDTzzxRLb7AfgKWg0AIF1aDQAgXVoNACBdWg0AIF1aDQAgXVoNACBdWg0AIF1aDQAgXVoNACBdWg0AIF1aDQAgXVoNACBdWg0AIF0V2GozZsx4tDzdd999V1111YMPPphdl5uw8tnnAABoJRXYan379v0GMYSVzz4HAEArqcxWq62tfbEMnXnmmaF4/vSnP2XXZSWsuVYDgFZXma3Wp0+f7KKsTJw4MbRa6J7suqyENddqANDqtFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkEerJUSrAQB5tFpCtBoAkKcyW23ttdcO6VB2ampqQqvV1tZm12UlrLlWA4BWV4Gttv/++w8pT5tvvnmHDh0GDhyYXZebsPLZ5wAAaCUV2GoAABVDqwEApEurAQCkS6sBAKRLqwEApEurAQCkS6sBAKRLqwEApEurAQCkS6sBAKRLqwEApEurAQCkS6tVhfPPPz/7++plLjyQ7CEBQHWI02oLylz2MMrHcccd942KEB5I9pAAoDrEabXs4C1b2cMoH1oNAMpUtFYbNWrUH8rQ8OHDw+Szh1E+tBoAlKlorfazn/0suygrP/7xj8Pks4vyodUAoExpteJURqtlo2Uim3SOVgOg2mi14mi10ssmnaPVAKg2Wq04Wq30sknnaDUAqo1WK45WK71s0jlaDYBqo9WKo9VKL5t0jlYDoNpoteJotdLLJp2j1QCoNlqtOFqt9LJJ52g1AKqNViuOViu9bNI5Wg2AaqPViqPVSi+bdI5WA6DaaLXiaLXSyyado9UAqDZarTharfSySedoNQCqjVYrjlYrvWzSOVoNgGqj1Yqj1Uovm3SOVgOg2mi14mi10ssmnaPVAKg2Wq04Wq30sknnaDUAqo1WK45WK71s0jlaDYBqo9WKo9VKL5t0jlYDoNpUZqvV19f/9Kc/3WKLLV599dVsqJVotTW99NJLY8eO7dmzZ/v27Y866qgnn3wye0MrySado9UAqDaV2WrTp0/v27dvv379tFqTNmq1hoaGKVOmbLTRRhtssMGOO+6400479enTp1evXr/85S8XL16c3dRi2aRztBoA1aYCW+2NN97Yddddw4fQaqu0Uas9+uijvXv3Hjx48OTJk+fNm7dgwYJ777132LBh3bt3v/3221euXJnd1zLZpHO0GgDVptJa7bPPPjv++OM33njjzTbbTKut0hat1tDQcO6554b3dvnll9fX1zcNrlix4rbbbguD4bMQ0q1psIVyU85oNQCqTUW12vLlyydPnlxTU3PVVVeNHj1aq63SFq22ePHisWPHhvd26623ZkM5s2bNCoPbbrvthx9+mA21TG7KGa0GQLWpqFabMWPGzjvvfOqpp3788cdHH320VlulLVotlPGFF14Y3tuvfvWrVd9XW7ly5e233x4GjzrqqM8++6xpsIVyU85oNQCqTeW02tKlS8NBvscee4Q+W7JkiVZbXVu0WvC3v/2tf//+22677b333tvQ0LBixYrHH39877337tmz59133+35agDQchXSaiELJk6c2Ldv36antGu1PG3Uao2NjWGFQ5x169ate06nTp1Cuj3xxBOh27KbWiybdI5WA6DaVEKrhTh75JFHNtxww3HjxjX93E2r5WmjVlu0aNGdd965yy679O7de8uc8FnYaqutfv/738+fPz+7qcWySedoNQCqTSW02uzZs0eMGLH99tvX1dU1jWi1PG3RakuXLv35z3/eoUOHQw45ZNq0aQsWLFi4cOETTzxx/PHHt2/f/rTTTvv000+zW1smm3SOVgOg2pR9q4UsO/vsswcOHPjXv/61sbFx1aBWW11btNpLL700ePDgPn36PPfcc6tWPnjnnXeGDRvWt2/fhx9+ePXxZssmnaPVAKg2Zd9qdXV12223XdNB/qV69Ohx8803t9bTp7RakxBh9913X21t7YknntjQ0JCN/tukSZO6dOly9dVXr/mmZsgmnaPVAKg2Zd9qH3744Wmnnbb/f9p333179+7dsWPHPfbY44gjjnj44Ydb63cStVqTpte87dWr1wknnLDqBTtWueGGG0KrhWJb803NkE06R6sBUG3KvtUaGxsbGhpCE6zu008/HT16dN++fWfOnNn0WhLZ3S2m1VZ58sknwwoPGzbs448/zoZywvqfdNJJPXv2/OMf//jFF19koy2QTTpHqwFQbcq+1b6U56vlaYtWC4l20EEHrbvuulddddWyZcuaBpt+NtqpU6fNN988hHLTYAtlk87RagBUG61WHK22uhkzZgwcOLB79+5hte+5557p06efc845386ZPHlya307M5t0jlYDoNpoteJotdU1NjY+88wzxxxzzBZbbNGuXbu11177u9/97oEHHjh16tTly5dnN7VYNukcrQZAtanMVlu5cuXs2bNnzJjx+eefZ0OtRKutaeHChaGJH3/88ccee2zmzJnz5s3L3tBKsknnaDUAqk1ltlrb0Wqll006R6sBUG20WnG0Wullk87RagBUG61WHK1Wetmkc7QaANVGqxVHq5VeNukcrQZAtdFqxdFqpZdNOkerAVBttFpxtFrpZZPO0WoAVButVhytVnrZpHO0GgDVRqsVR6uVXjbpHK0GQLXRasXRaqWXTTpHqwFQbbRacbRa6WWTztFqAFQbrVYcrVZ62aRztBoA1UarFUerlV426RytBkC10WrF0Wqll006R6sBUG20WnG0Wullk87RagBUG61WHK1Wetmkc7QaANVGqxVHq5VeNukcrQZAtdFqxdFqpZdNOkerAVBttFpxtFrpZZPO0WoAVButVhytVnrZpHO0GgDVRqsVR6uVXjbpHK0GQLXRasXRaqWXTTpHqwFQbbRacbRa6WWTztFqAFQbrVacymi1F8tKNukcrQZAtdFqxamMVitfWg2AahOt1fr06bN7Gdpoo43C5LOHUT60GgCUqWitVtayh1E+tBoAlKnyyw6aQasBQJnSalVh+vTpkypCeCDZQwKA6qDVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAA0qXVAADSpdUAANKl1QAAUvWvf/1/IbYCbS1ymp0AAAAASUVORK5CYII=\""],"sourceRoot":""}