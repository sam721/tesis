(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{121:function(e,t,n){},122:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(19),r=n.n(i),s=n(2),d=n(3),l=n(7),c=n(5),u=n(6),p=n(35),h=n.n(p),E=(n(69),n(70),n(71),n(125)),y=n(126),m=n(127),f=n(1),g=n(14),v=n(11).connect,_=function(e){var t=e.line,n=e.current,a=e.index,i=n?g.LINE_FOCUS:g.LINE_STD;return o.a.createElement("div",{style:Object(f.a)({},i,{paddingRight:"10px"})},o.a.createElement("div",{className:"codeline"},(a<10?"\xa0":"")+a,".",o.a.createElement("span",{style:{paddingLeft:(15*t.ind).toString()+"px"}},t.text)))},N=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){if(this.props.code&&this.props.show){var e=this.props,t=e.code,n=e.lines,a=[];if(t)for(var i=0;i<t.length;i++)a.push(o.a.createElement(_,{index:i+1,line:t[i],current:n&&n.includes(i)}));return o.a.createElement("div",{className:"codeblock"},a)}return o.a.createElement(o.a.Fragment,null)}}]),t}(o.a.Component),S=v(function(e){return{code:e.pseudo,lines:e.lines,show:e.showPseudo}})(N),I=n(11).connect,O=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement(E.a,{style:{height:"100%",backgroundColor:"#ccc"}},o.a.createElement(y.a,{style:{height:"40%"}},o.a.createElement(m.a,null,o.a.createElement("div",{className:"algorithm-description"},o.a.createElement("div",{className:"header"},o.a.createElement("h4",null,null!=this.props.algorithm?this.props.algorithm:"Nombre del algoritmo")),o.a.createElement("div",{className:"content"},"Descripcion del algoritmo")))),o.a.createElement(y.a,{style:{height:"50%"}},o.a.createElement(m.a,null,o.a.createElement("div",{className:"algorithm-description"},o.a.createElement("div",{className:"header"},o.a.createElement("h4",null,"Pseudocodigo")),o.a.createElement("div",{className:"content"},o.a.createElement(S,null))))))}}]),t}(o.a.Component),A=(I(function(e){return{algorithm:e.algorithm}})(O),{SELECT_BFS:"SELECT_BFS",SELECT_DFS:"SELECT_DFS",SELECT_DIJKSTRA:"SELECT_DIJKSTRA",SELECT_KRUSKAL:"SELECT_KRUSKAL",SELECT_PRIM:"SELECT_PRIM",SELECT_HEAP:"SELECT_HEAP",SELECT_AVL:"SELECT_AVL",SELECT_BUBBLESORT:"SELECT_BUBBLESORT",SELECT_MERGESORT:"SELECT_MERGESORT",SELECT_BINARY_SEARCH:"SELECT_BINARY_SEARCH",SELECT_LINKED_LIST:"SELECT_LINKED_LIST",SELECT_SINGLE_LINKED_LIST:"SELECT_SINGLE_LINKED_LIST",SELECT_DOUBLE_LINKED_LIST:"SELECT_DOUBLE_LINKED_LIST",SELECT_QUEUE:"SELECT_QUEUE",SELECT_STACK:"SELECT_STACK",SELECTION:"SELECTION",NO_SELECTION:"NO_SELECTION",ANIMATION_START:"ANIMATION_START",ANIMATION_END:"ANIMATION_END",CLEAR_GRAPH:"CLEAR_GRAPH",CHANGE_PSEUDO:"CHANGE_PSEUDO",TOGGLE_PSEUDO:"TOGGLE_PSEUDO",SHOW_PSEUDO:"SHOW_PSEUDO",CLOSE_PSEUDO:"CLOSE_PSEUDO",INC_SPEED:"INC_SPEED",DEC_SPEED:"DEC_SPEED",CHANGE_SPEED:"CHANGE_SPEED",CHANGE_OPTIONS:"CHANGE_OPTIONS",CHANGE_LINE:"CHANGE_LINE",LOAD_GRAPH:"LOAD_GRAPH",FINISHED_LOAD:"FINISHED_LOAD",INC_GIF_LENGTH:"INC_GIF_LENGTH",RESET_GIF_LENGTH:"RESET_GIF_LENGTH",NO_NODE_SELECTED_ERROR:"NO_NODE_SELECTED_ERROR",NO_EDGE_SELECTED_ERROR:"NO_EDGE_SELECTED_ERROR",NO_ELEMENT_SELECTED_ERROR:"NO_ELEMENT_SELECTED_ERROR",INVALID_INTEGER_ERROR:"INVALID_INTEGER_ERROR",INVALID_ARRAY_ERROR:"INVALID_ARRAY_ERROR",INVALID_GRAPH_ERROR:"INVALID_GRAPH_ERROR",INVALID_HEAP_ERROR:"INVALID_HEAP_ERROR",INVALID_AVL_ERROR:"INVALID_AVL_ERROR",ANIMATION_RUNNING_ERROR:"ANIMATION_RUNNING_ERROR",EMPTY_LIST_WARNING:"EMPTY_LIST_WARNING",EMPTY_QUEUE_WARNING:"EMPTY_QUEUE_WARNING",EMPTY_STACK_WARNING:"EMPTY_STACK_WARNING",EMPTY_HEAP_WARNING:"EMPTY_HEAP_WARNING",DIJKSTRA_NEGATIVE_WEIGHT_WARNING:"DIJKSTRA_NEGATIVE_WEIGHT_WARNING",AVL_NOT_FOUND_INFO:"AVL_NOT_FOUND_INFO",AVL_ELEMENT_ALREADY_INFO:"AVL_ELEMENT_ALREADY_INFO",STARTING_BFS_INFO:"STARTING_BFS_INFO",STARTING_DFS_INFO:"STARTING_DFS_INFO",STARTING_DIJKSTRA_INFO:"STARTING_DIJKSTRA_INFO",STARTING_KRUSKAL_INFO:"STARTING_KRUSKAL_INFO",STARTING_PRIM_INFO:"STARTING_PRIM_INFO",STARTING_BUBBLESORT_INFO:"STARTING_BUBBLESORT_INFO",STARTING_MERGESORT_INFO:"STARTING_MERGESORT_INFO",STARTING_BINARYSEARCH_INFO:"STARTING_BINARYSEARCH_INFO",STARTING_GIF_RECORDING_INFO:"STARTING_GIF_RECORDING_INFO",FINISHED_GIF_RECORDING_INFO:"FINISHED_GIF_RECORDING_INFO",STARTING_BINARY_SEARCH_INFO:"STARTING_BINARY_SEARCH_INFO",BINARY_SEARCH_NOT_FOUND_INFO:"BINARY_SEARCH_NOT_FOUND_INFO",FINISHED_GIF_SUCCESS:"FINISHED_GIF_SUCCESS",LOAD_GRAPH_SUCCESS:"LOAD_GRAPH_SUCCESS",PHOTO_SUCCESS:"PHOTO_SUCCESS",FINISHED_ALGORITHM_SUCCESS:"FINISHED_ALGORITHM_SUCCESS",AVL_FOUND_SUCCESS:"AVL_FOUND_SUCCESS",ARRAY_SORTED_SUCCESS:"ARRAY_SORTED_SUCCESS",BINARY_SEARCH_FOUND_SUCCESS:"BINARY_SEARCH_FOUND_SUCCESS"});var b=function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],a=new ArrayBuffer(t.length),o=new Uint8Array(a),i=0;i<t.length;i++)o[i]=t.charCodeAt(i);var r=new DataView(a);return new Blob([r],{type:n})},R=n(76),L=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){};Object(s.a)(this,e),this._gifBuffer=[],this._takingGif=!1,this._interval=0,this._dispatch=null,this.downloadGif=function(e,n,a){var o=t._dispatch;R.createGIF({images:e,gifWidth:n,gifHeight:a,frameDuration:1},function(e){if(e.error)o({type:A.FINISHED_GIF_SUCCESS}),console.log(e.error);else{var t=b(e.image),n=document.createElement("a");n.setAttribute("href",window.URL.createObjectURL(t)),n.setAttribute("download","test.gif"),n.setAttribute("target","_blank"),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),o({type:A.FINISHED_GIF_SUCCESS})}})},this._dispatch=n}return Object(d.a)(e,[{key:"takePicture",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=e.jpg();if(n){var o=document.createElement("a");o.setAttribute("href",a),o.setAttribute("download","test.jpg"),o.setAttribute("target","_blank"),o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o)}else t._gifBuffer.length<300?(t._gifBuffer.push(a),t._dispatch({type:A.INC_GIF_LENGTH})):t.takeGif(e)}},{key:"cancelGif",value:function(){this._takingGif=!1,this._dispatch({type:A.RESET_GIF_LENGTH}),clearInterval(this._interval)}},{key:"takeGif",value:function(e){this._takingGif?(clearInterval(this._interval),this._dispatch({type:A.FINISHED_GIF_RECORDING_INFO}),this._dispatch({type:A.RESET_GIF_LENGTH}),this.downloadGif(this._gifBuffer,e.width(),e.height()),this._takingGif=!1,this._gifBuffer=[]):(this._takingGif=!0,this._dispatch({type:A.STARTING_GIF_RECORDING_INFO}),this._interval=setInterval(this.takePicture,300,e,this,!1))}},{key:"takeJson",value:function(e){var t=JSON.stringify(e),n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download","graph.json"),n.setAttribute("target","_blank"),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}},{key:"readJson",value:function(){var e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("id","myFile"),e.setAttribute("style","position: absolute"),document.body.appendChild(e),e.click(),console.log(e.value)}}]),e}(),x=n(8),T=n.n(x),C=n(128),D=n(11).connect,k=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).uploadGraph=function(){var e=document.getElementById("graphUploadInput");if(e.files){var t=e.files[0],a=new FileReader;a.onload=function(){var e=a.result;n.props.dispatch({type:A.LOAD_GRAPH,payload:{data:e}})},a.readAsText(t),n.props.handleClose()}},n}return Object(u.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.show,a=t.handleClose;return o.a.createElement(o.a.Fragment,null,o.a.createElement(T.a,{show:n,onHide:a},o.a.createElement(T.a.Header,{className:"modal-header",closeButton:!0},o.a.createElement(T.a.Title,null,"Seleccione un archivo")),o.a.createElement(T.a.Body,null,o.a.createElement("p",null,"El archivo debe contener un grafo valido, previamente descargado "),o.a.createElement("input",{type:"file",id:"graphUploadInput"})),o.a.createElement(T.a.Footer,null,o.a.createElement(C.a,{variant:"secondary",onClick:a},"Cancelar"),o.a.createElement(C.a,{variant:"primary",onClick:function(){return e.uploadGraph()}},"Subir grafo"))))}}]),t}(o.a.Component),G=D()(k),w=n(11).connect,B=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(c.a)(t).call(this,e))).input=void 0,n.setStepInputRef=void 0,n.handleAccept=function(){if(n.input&&n.validateNumber(n.input.value)){var e=n.input.value,t=parseInt(e);n.props.callback(t),n.props.handleClose()}},n.handleChange=function(e){n.setState({text:e.currentTarget.value})},n.handleCancel=function(){n.props.currentValue&&n.setState({text:n.props.currentValue.toString()}),n.props.handleClose()},n.input=null,n.state={text:n.props.currentValue.toString()},n.setStepInputRef=function(e){n.input=e},n}return Object(u.a)(t,e),Object(d.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.currentValue;null!=t&&t!=e.currentValue&&this.setState({text:this.props.currentValue.toString()})}},{key:"validateNumber",value:function(e){return!(!e||!/^([-]?([0-9]{1,3}))$/.test(e))||(this.props.dispatch({type:A.INVALID_INTEGER_ERROR}),!1)}},{key:"render",value:function(){var e=this,t=this.props,n=t.show,a=t.handleClose;return o.a.createElement(T.a,{show:n,onHide:a},o.a.createElement(T.a.Header,{className:"modal-header",closeButton:!0},o.a.createElement(T.a.Title,null,"Introduzca un numero entero")),o.a.createElement(T.a.Body,null,o.a.createElement("p",null,"El numero debe estar entre -999 y 999"),o.a.createElement("input",{id:"IntInput",type:"number",min:-999,max:999,ref:this.setStepInputRef,value:this.state.text,onChange:function(t){return e.handleChange(t)}})),o.a.createElement(T.a.Footer,null,o.a.createElement(C.a,{variant:"secondary",onClick:this.handleCancel},"Cancelar"),o.a.createElement(C.a,{variant:"primary",onClick:this.handleAccept},"Aceptar")))}}]),t}(o.a.Component),M=w(function(e){return{currentValue:e.selection?e.selection.weight:0}})(B),j=n(14),U=n(25),F=n(11).connect;n(115)(U);var P=function(e){return"node-"+e},H=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(c.a)(t).call(this,e)))._isMounted=!1,n._mediaRecorder=new L,n.state={values:new Array,showModal:!1,showWeightModal:!1},n.layout={run:function(){},stop:function(){}},n.nodeStyle=j.NODE,n.edgeStyle=j.EDGE,n.undo=[],n.redo=[],n.options=void 0,n.cy=U(),n.handleUndo=function(){if(0!==n.undo.length)if(n.props.animation)n.props.dispatch({type:A.ANIMATION_RUNNING_ERROR});else{n.props.dispatch({type:A.NO_SELECTION});var e=n.exportGraph(),t=n.undo.pop();console.log(t),n.redo.push(e),void 0!==t&&n.initialize(t)}},n.handleRedo=function(){if(0!==n.redo.length)if(n.props.animation)n.props.dispatch({type:A.ANIMATION_RUNNING_ERROR});else{n.props.dispatch({type:A.NO_SELECTION});var e=n.exportGraph(),t=n.redo.pop();n.undo.push(e),void 0!==t&&n.initialize(t)}},n.clearGraph=function(){if(n.props.animation)n.props.dispatch({type:A.ANIMATION_RUNNING_ERROR});else{n.props.dispatch({type:A.CLEAR_GRAPH}),n.pushState();for(var e=n.cy.nodes(),t=0;t<e.length;t++)n.removeNode(e[t].id())}},n.removeNode=function(e){n.cy.remove('node[id="'+e+'"]'),n.removeNodePopper(e)},n.removeEdge=function(e){n.cy.remove('edge[id="'+e+'"]')},n.executeAnimation=function(e){var t;n.cy.nodes().style({"background-color":"white",color:"black"}),"BFS"===n.props.algorithm?t=A.STARTING_BFS_INFO:"DFS"===n.props.algorithm?t=A.STARTING_DFS_INFO:"Dijkstra"===n.props.algorithm?t=A.STARTING_DIJKSTRA_INFO:"Kruskal"===n.props.algorithm?t=A.STARTING_KRUSKAL_INFO:"Prim"===n.props.algorithm&&(t=A.STARTING_PRIM_INFO),n.props.dispatch({type:t});!function(){var t=0;!function a(){if(n._isMounted)if(t!==e.length){if(!n.props.animation)return n.cy.nodes().style(n.nodeStyle),n.cy.edges().style(n.edgeStyle),n.props.dispatch({type:A.ANIMATION_END}),n._isMounted&&n.setState({values:Array()}),void n.cy.autolock(!1);var o=e[t++],i=o.eles,r=o.distance,s=o.style,d=o.duration,l=o.inst,c=o.lines;if(i&&i.forEach(function(e,t){s&&n.cy.getElementById(e).style(s[t])}),i&&i.forEach(function(e,t){void 0!==r&&(n.cy.getElementById(e+"-popper").style({visibility:"visible"}),n.cy.getElementById(e+"-popper").data("value",r[t]))}),l){var u=n.state.values;l.forEach(function(e){if("push"===e.name){var t=e.data;console.log(t),u.push(t)}else if("shift"===e.name)u.shift();else if("pop"===e.name)u.pop();else if("change_element"===e.name){var a=e.position;null!=a&&(u[a]=e.data)}else if("fill"===e.name)u.fill(e.data);else if("update_level"===e.name){var o=e.data;if(o){var i=o.id,r=o.value;null!=i&&null!=r&&(n.cy.getElementById(i+"-popper").style({visibility:"visible"}),n.cy.getElementById(i+"-popper").data("value",r))}}}),n._isMounted&&n.setState({values:u})}null!=c&&n._isMounted&&n.props.dispatch({type:A.CHANGE_LINE,payload:{lines:c}}),n.refreshLayout(),setTimeout(a,(void 0===d?1e3:d)/n.props.speed)}else n.props.dispatch({type:A.FINISHED_ALGORITHM_SUCCESS})}()}()},n.runButton=function(){if(!0===n.props.animation)return n.setState({values:Array()}),n.props.dispatch({type:A.ANIMATION_END}),n.cy.nodes().style(n.nodeStyle),n.cy.edges().style(n.edgeStyle),n.removePoppers(),void n.cy.autolock(!1);var e=n.props.selection;"Kruskal"===n.props.algorithm||"Prim"===n.props.algorithm||(console.log(n.props.algorithm),e&&"node"===e.type)?(n.cy.nodes().forEach(function(e){n.createPopper(e.id())}),n.refreshLayout(),new Promise(function(e,t){n.props.dispatch({type:A.ANIMATION_START}),e(n.props.execute({cy:n.cy,selection:n.props.selection}))}).then(function(e){n.cy.autolock(!0),n.executeAnimation(e)})):n.props.dispatch({type:A.NO_NODE_SELECTED_ERROR})},n.removeButton=function(){if(n.props.animation)n.props.dispatch({type:A.ANIMATION_RUNNING_ERROR});else{var e=n.props.selection;e?(n.pushState(),"node"===e.type?n.removeNode(e.id):"edge"===e.type&&n.removeEdge(e.id),n.props.dispatch({type:A.NO_SELECTION})):n.props.dispatch({type:A.NO_ELEMENT_SELECTED_ERROR})}},n.handleClickOnNode=function(e){if(!0!==n.props.animation){var t=e.id(),a=n.props.selection;if(a&&"node"===a.type){if("node"===a.type){var o=a.id;if(o===t)e.style(j.NODE),n.props.dispatch({type:A.NO_SELECTION});else{var i=n.cy.getElementById(o);o&&((n.props.directed&&!i.outgoers().contains(e)||!n.props.directed&&!i.neighborhood().contains(e))&&n.createEdge(o,t),n.props.dispatch({type:A.NO_SELECTION,payload:{selection:null}})),i.style(j.NODE)}}}else e.style(j.NODE_SELECTED),a&&"edge"===a.type&&n.cy.getElementById(a.id).style(n.edgeStyle),n.props.dispatch({type:A.SELECTION,payload:{selection:{id:t,type:"node"}}})}},n.handleClickOnEdge=function(e){if(!0!==n.props.animation){var t=e.id(),a=n.props.selection,o=null;if(a){o=a.id;var i=n.cy.getElementById(o);"edge"===a.type?i.style(n.edgeStyle):"node"===a.type&&i.style(n.nodeStyle)}if(o===t)n.props.dispatch({type:A.NO_SELECTION,payload:{selection:null}}),n.cy.getElementById(o).style(n.edgeStyle);else n.props.dispatch({type:A.SELECTION,payload:{selection:{type:"edge",id:t,weight:n.cy.getElementById(t).data("weight")}}}),e.style(j.EDGE_SELECTED)}},n.changeWeight=function(e){var t=n.props.selection;if("edge"===t.type){var a=t.id;if(n.cy.getElementById(a).data("weight")===e)return;n.pushState(),n.cy.getElementById(a).data("weight",e),n.props.dispatch({type:A.SELECTION,payload:{selection:{type:"edge",weight:e,id:a}}})}},n.weightButton=function(){var e=n.props.selection;e&&"edge"===e.type?n.setState({showWeightModal:!0}):n.props.dispatch({type:A.NO_EDGE_SELECTED_ERROR})},n.handleClickViewport=function(e){if(!0!==n.props.animation){var t=n.props.selection;if(e.target===n.cy)if(t){var a=n.cy.getElementById(t.id);"node"===t.type?a.style(j.NODE):"edge"===t.type&&a.style(n.edgeStyle),n.props.dispatch({type:A.NO_SELECTION})}else{var o=e.position,i=o.x,r=o.y;n.createNode(i,r),n.refreshLayout()}}else n.props.dispatch({type:A.ANIMATION_RUNNING_ERROR})},n.props.weighted&&(n.edgeStyle=Object(f.a)({},n.edgeStyle,j.EDGE_WEIGHTED)),n.props.directed&&(n.edgeStyle=Object(f.a)({},n.edgeStyle,j.EDGE_DIRECTED)),n._mediaRecorder=new L(e.dispatch),n.options=[{name:"Ejecutar",run:n.runButton},{name:"Eliminar",run:n.removeButton},{name:"Cambiar peso",run:n.weightButton},{name:"Limpiar canvas",run:n.clearGraph},{name:"Descargar grafo",run:function(){return n._mediaRecorder.takeJson(n.exportGraph())}},{name:"Subir grafo",run:function(){return n.setState({showModal:!0})}}],n}return Object(u.a)(t,e),Object(d.a)(t,[{key:"initialize",value:function(e){var t=this;console.log(e);var n=j.EDGE;this.props.weighted&&(n=Object(f.a)({},n,j.EDGE_WEIGHTED)),this.props.directed&&(n=Object(f.a)({},n,j.EDGE_DIRECTED)),this.cy=U({container:document.getElementById("canvas"),elements:e,style:[{selector:"node",style:j.NODE},{selector:"edge",style:n}],layout:{name:"preset"},headless:!1,styleEnabled:!0,hideEdgesOnViewport:!1,hideLabelsOnViewport:!1,userPanningEnabled:!1,zoomingEnabled:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.2,wheelSensitivity:1,pixelRatio:"1.0"}),this.removePoppers(),this.cy.on("click",function(e){return t.handleClickViewport(e)}),this.cy.on("click","node",function(e){return t.handleClickOnNode(e.target)}),this.cy.on("click","edge",function(e){return t.handleClickOnEdge(e.target)}),this.cy.autopanOnDrag({enabled:!0,speed:.01}),this.layout=this.cy.elements().makeLayout({name:"preset"}),this.layout.run()}},{key:"exportGraph",value:function(){var e=[];return this.cy.nodes().forEach(function(t){e.push({group:"nodes",data:{id:t.id(),value:t.data("value")},position:{x:t.position().x,y:t.position().y}})}),this.cy.edges().forEach(function(t){e.push({group:"edges",data:{id:t.id(),source:t.source().id(),target:t.target().id(),weight:t.data("weight")}})}),e}},{key:"pushState",value:function(){this.redo=[],this.undo.push(this.exportGraph())}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this.initialize([]),this.props.dispatch({type:this.props.action,payload:{run:this.runButton,photo:function(){return e._mediaRecorder.takePicture(e.cy)},gif:function(){return e._mediaRecorder.takeGif(e.cy)},undo:this.handleUndo,redo:this.handleRedo,options:this.options}}),this.props.action===A.SELECT_DIJKSTRA&&this.props.dispatch({type:A.DIJKSTRA_NEGATIVE_WEIGHT_WARNING})}},{key:"componentDidUpdate",value:function(e){if(!e.loadingGraph&&this.props.loadingGraph){var t=JSON.parse(this.props.data);t&&(this.pushState(),this.initialize(t)),this.props.dispatch({type:A.FINISHED_LOAD})}!e.animation&&this.props.animation?this.props.dispatch({type:A.CHANGE_OPTIONS,payload:{options:[{name:"Regresar a edicion",run:this.runButton}]}}):e.animation&&!this.props.animation&&this.props.dispatch({type:A.CHANGE_OPTIONS,payload:{options:this.options}})}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:A.ANIMATION_END}),this._isMounted=!1,this._mediaRecorder.cancelGif(),this.removePoppers()}},{key:"refreshLayout",value:function(){this.layout.stop(),this.layout=this.cy.elements().makeLayout({name:"preset"}),this.layout.run()}},{key:"removeNodePopper",value:function(e){this.cy.remove('node[id="'+e+'-popper"]')}},{key:"createNode",value:function(e,t){for(var n=1;this.cy.getElementById(P(n.toString())).length>0;)n++;var a=P(n.toString());this.pushState(),this.cy.add({group:"nodes",data:{id:a,value:n},position:{x:e,y:t}})}},{key:"createPopper",value:function(e){var t=this.cy.getElementById(e).position();this.cy.add({group:"nodes",data:{id:e+"-popper"},position:{x:t.x,y:t.y+30},style:{"z-index":0,"border-width":0,"font-size":15,width:10,height:10,visibility:"hidden"}})}},{key:"removePoppers",value:function(){var e=this;this.cy.nodes().forEach(function(t){e.removeNode(t.id()+"-popper")})}},{key:"createEdge",value:function(e,t){this.pushState(),this.cy.add({group:"edges",data:{id:e+"-"+t,weight:Math.floor(15*Math.random()),source:e,target:t}})}},{key:"render",value:function(){var e=this,t=this.props.selection;if(t&&"edge"===t.type){var n=t.id;this.cy.getElementById(n).data("weight")}return o.a.createElement(o.a.Fragment,null,o.a.createElement(G,{show:this.state.showModal,handleClose:function(){return e.setState({showModal:!1})}}),o.a.createElement(M,{show:this.state.showWeightModal,handleClose:function(){return e.setState({showWeightModal:!1})},callback:function(t){return e.changeWeight(t)}}),o.a.createElement("div",{id:"canvas",className:"standard-struct"}))}}]),t}(o.a.Component),V=F(function(e){return{selection:e.selection,algorithm:e.algorithm,animation:e.animation,speed:e.speed,loadingGraph:e.loadingGraph,data:e.data}})(H),K=n(16),z=n(14),Y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e,t){return e>=t},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return e===t};Object(s.a)(this,e),this._data=[0],this._comp=null,this._eq=null,this._comp=t,this._eq=n}return Object(d.a)(e,[{key:"isEmpty",value:function(){return 1===this._data.length}},{key:"length",value:function(){return this._data.length}},{key:"top",value:function(){return this.isEmpty()?null:this._data[1]}},{key:"push",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];this._data.push(e);var a=this._data.length-1;for(t&&n.push({eles:[a.toString()],style:[z.NODE_BLACK],classes:["heap-focus"],lines:[4]});a>1;){var o=Math.floor(a/2);if(this._comp(this._data[o],this._data[a])||this._eq(this._data[o],this._data[a])){t&&n.push({eles:[o.toString()],style:[z.NODE_CORRECT],classes:["heap-correct"],lines:[-1]});break}t&&n.push({eles:[o.toString()],style:[z.NODE_WRONG],classes:["heap-wrong"],lines:[5,6,7]},{eles:[o.toString(),a.toString()],style:[z.NODE_BLACK,z.NODE],data:[{value:this._data[a]},{value:this._data[o]}],classes:["heap-focus","heap-default"],lines:[4]});var i=[this._data[a],this._data[o]];this._data[o]=i[0],this._data[a]=i[1],a=o}return n}},{key:"pop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[];if(!this.isEmpty()){var n=this._data[this._data.length-1];if(this._data.pop(),this.isEmpty())return t;var a=1;for(this._data[1]=n,e&&t.push({eles:[a.toString()],style:[z.NODE_BLACK],classes:["heap-focus"],lines:[5]});2*a<this._data.length;){var o=this._data[2*a],i=2*a+1<this._data.length?this._data[2*a+1]:null;if(n=this._data[a],null==i){if(!this._comp(o,n))break;e&&t.push({eles:[(2*a).toString()],style:[z.NODE_WRONG],classes:["heap-wrong"],lines:[7,8]},{eles:[a.toString(),(2*a).toString()],style:[z.NODE,z.NODE_BLACK],data:[{value:this._data[2*a]},{value:this._data[a]}],classes:["heap-default","heap-focus"],lines:[11,12]});var r=[this._data[a],this._data[2*a]];this._data[2*a]=r[0],this._data[a]=r[1],a*=2}else if((this._comp(o,i)||this._eq(o,i))&&this._comp(o,n)){e&&t.push({eles:[(2*a).toString()],style:[z.NODE_WRONG],classes:["heap-wrong"],lines:[7,8]},{eles:[a.toString(),(2*a).toString()],style:[z.NODE,z.NODE_BLACK],data:[{value:this._data[2*a]},{value:this._data[a]}],classes:["heap-default","heap-focus"],lines:[11,12]});var s=[this._data[a],this._data[2*a]];this._data[2*a]=s[0],this._data[a]=s[1],a*=2}else{if(!this._comp(i,o)&&!this._eq(i,o)||!this._comp(i,n))break;e&&t.push({eles:[(2*a+1).toString()],style:[z.NODE_WRONG],classes:["heap-wrong"],lines:[9,10]},{eles:[a.toString(),(2*a+1).toString()],style:[z.NODE,z.NODE_BLACK],data:[{value:this._data[2*a+1]},{value:this._data[a]}],classes:["heap-default","heap-focus"],lines:[11,12]});var d=[this._data[a],this._data[2*a+1]];this._data[2*a+1]=d[0],this._data[a]=d[1],a=2*a+1}}}return t}},{key:"clear",value:function(){for(;!this.isEmpty();)this.pop()}}]),e}();var W=n(11).connect,q=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(c.a)(t).call(this,e))).input=void 0,n.setStepInputRef=void 0,n.uploadGraph=function(){var e=document.getElementById("HeapUploadInput");if(e.files){var t=e.files[0],a=new FileReader;a.onload=function(){if(console.log(a.result),"string"===typeof a.result){var e=a.result;n.validateArray(e)}},a.readAsText(t)}},n.handleChange=function(e){n.setState({text:e.currentTarget.value})},n.handleCancel=function(){n.props.handleClose()},n.input=null,n.setStepInputRef=function(e){n.input=e},n}return Object(u.a)(t,e),Object(d.a)(t,[{key:"validateArray",value:function(e){if(console.log(e),!e||!/^(([-]?([0-9]{1,3})[,]){0,15})([-]?([0-9]{1,3}))$/.test(e))return this.props.dispatch({type:A.INVALID_HEAP_ERROR}),!1;var t=e.split(",").map(function(e){return parseInt(e)});console.log(t),!function(e){var t=e.length;console.log("VALIDANDO",e);for(var n=1;2*n<t;n++){var a=e[2*n],o=2*n+1===t?1/0:e[2*n+1];if(console.log(e[n],a,o),a<e[n]||o<e[n])return!1}return!0}(t)?this.props.dispatch({type:A.INVALID_HEAP_ERROR}):(this.props.changeArray(t),this.props.handleClose())}},{key:"render",value:function(){var e=this.props,t=e.show,n=e.handleClose;return o.a.createElement(T.a,{show:t,onHide:n},o.a.createElement(T.a.Header,{className:"modal-header",closeButton:!0},o.a.createElement(T.a.Title,null,"Seleccione un archivo")),o.a.createElement(T.a.Body,null,o.a.createElement("p",null,"El archivo debe contener un Heap valido, previamente descargado"),o.a.createElement("input",{type:"file",id:"HeapUploadInput"})),o.a.createElement(T.a.Footer,null,o.a.createElement(C.a,{variant:"secondary",onClick:this.handleCancel},"Cancelar"),o.a.createElement(C.a,{variant:"primary",onClick:this.uploadGraph},"Aceptar")))}}]),t}(o.a.Component),J=W()(q),Q=[{text:"extraer_minimo(Arreglo A de longitud n)",ind:0},{text:"intercambiar(A[1], A[n])",ind:1},{text:"n--",ind:1},{text:"hundir(1)",ind:1},{text:"\u2063",ind:0},{text:"hundir(Entero i): ",ind:0},{text:"Si no es_hoja(i):",ind:1},{text:"Si A[2*i] < A[2*i+1]:",ind:2},{text:"h = 2*i",ind:3},{text:"Sino: ",ind:2},{text:"h = 2*i+1",ind:3},{text:"Si A[i] > A[h]:",ind:2},{text:"hundir(h)",ind:3}],X=[{text:"insertar(Arreglo A de longitud n, Entero v):",ind:0},{text:"A[n++] = v",ind:1},{text:"flotar(n)",ind:1},{text:"\u2063",ind:0},{text:"flotar(entero i):",ind:0},{text:"Si i/2 > 0 y A[i/2] > A[i]:",ind:1},{text:"intercambiar(A[i/2], A[i])",ind:2},{text:"flotar(i/2)",ind:2}],$=[{text:"MinHeap{",ind:0},{text:"Arreglo A",ind:1},{text:"insertar(entero v)",ind:1},{text:"extraer_minimo()",ind:1},{text:"flotar(entero i)",ind:1},{text:"hundir(entero i)",ind:1},{text:"}",ind:0}],Z=n(14),ee=n(25),te=n(11).connect,ne={name:"preset",positions:{},padding:30,animate:!0,animationDuration:500},ae=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(c.a)(t).call(this,e)))._isMounted=!1,n._mediaRecorder=new L,n.undo=[],n.redo=[],n.state={show:!1,showInsertModal:!1},n.layout={run:function(){},stop:function(){}},n.nodeStyle=Z.NODE,n.edgeStyle=Z.EDGE,n.cy=ee(),n.heap=new Y(function(e,t){return e<t},function(e,t){return e===t}),n.handleUndo=function(){if(0!==n.undo.length)if(n.props.animation)n.props.dispatch({type:A.ANIMATION_RUNNING_ERROR});else{n.props.dispatch({type:A.NO_SELECTION});var e=n.exportGraph(),t=n.undo.pop();void 0!==t&&(n.redo.push({heap:Object(K.a)(n.heap._data),elements:e}),n.initialize(t))}},n.handleRedo=function(){if(0!==n.redo.length)if(n.props.animation)n.props.dispatch({type:A.ANIMATION_RUNNING_ERROR});else{n.props.dispatch({type:A.NO_SELECTION});var e=n.exportGraph(),t=n.redo.pop();void 0!==t&&(n.undo.push({heap:Object(K.a)(n.heap._data),elements:e}),n.initialize(t))}},n.removeNode=function(e){n.cy.remove('node[id="'+e+'"]'),n.cy.remove('node[id="'+e+'-popper"]')},n.executeAnimation=function(e){n.cy.nodes().forEach(function(e){e.id().match("-popper")||e.style({"background-color":"white",color:"black"})});!function(){var t=0;!function a(){if(t===e.length||!n.props.animation)return n.cy.nodes().forEach(function(e){e.id().match("-popper")||e.style({"background-color":"white",color:"black"})}),n.cy.edges().style(n.edgeStyle),n.props.dispatch({type:A.ANIMATION_END}),void n.refreshLayout();var o=e[t++],i=o.eles,r=o.style,s=o.duration,d=o.data,l=(o.classes,o.lines);i&&(i.forEach(function(e,t){r&&n.cy.getElementById(e).style(r[t])}),i.forEach(function(e,t){void 0!==d&&(n.cy.getElementById(e).data(d[t]),console.log(e,d[t]),parseInt(e,10))})),null!=l&&n._isMounted&&n.props.dispatch({type:A.CHANGE_LINE,payload:{lines:l}}),n.refreshLayout(),setTimeout(a,(void 0===s?1e3/n.props.speed:s)/n.props.speed)}()}()},n.remove=function(){if(n.props.animation)n.props.dispatch({type:A.ANIMATION_RUNNING_ERROR});else{var e=n.heap.length()-1;if(0!==e){n.props.dispatch({type:A.CHANGE_PSEUDO,payload:{pseudo:Q}}),n.pushState();var t=n.cy.getElementById("1").outgoers("node");n.removeNode("1");var a;if(n.props.dispatch({type:A.CHANGE_LINE,payload:{lines:[0,1,2,3]}}),a=n.heap.pop(!0),1!==e){var o=n.cy.getElementById(e.toString()).position(),i=n.cy.getElementById(e.toString()).data("value");n.removeNode(e.toString()),n.addNode("1",i,o);for(var r=0;r<t.length;r++)0!==n.cy.getElementById(t[r].id()).length&&n.cy.add({group:"edges",data:{id:"1-"+t[r].id(),source:"1",target:t[r].id()}});console.log(a),n.refreshLayout(),new Promise(function(e,t){n.props.dispatch({type:A.ANIMATION_START}),e(a)}).then(function(e){setTimeout(n.executeAnimation,1e3/n.props.speed,e)})}}else n.props.dispatch({type:A.EMPTY_HEAP_WARNING})}},n._mediaRecorder=new L(e.dispatch),n}return Object(u.a)(t,e),Object(d.a)(t,[{key:"initialize",value:function(e){var t=this,n=e.heap,a=e.elements;this.heap._data=Object(K.a)(n);var o=Z.EDGE;this.cy=ee({container:document.getElementById("canvas"),elements:a,style:[{selector:"node",style:Z.NODE},{selector:"edge",style:o}],headless:!1,styleEnabled:!0,hideEdgesOnViewport:!1,hideLabelsOnViewport:!1,userPanningEnabled:!1,zoomingEnabled:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.2,wheelSensitivity:1,pixelRatio:"1.0",autoungrabify:!0}),this.cy.nodes().forEach(function(e){e.id().match("-popper")&&e.style({"z-index":0,"border-width":0,"font-size":15,width:10,height:10})}),this.cy.on("resize",function(){return t.refreshLayout(!1)}),this.layout=this.cy.elements().makeLayout(Object(f.a)({},ne,{animate:!1})),this.layout.run(),this.refreshLayout()}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this.initialize({heap:[0],elements:[]}),this.props.dispatch({type:this.props.action,payload:{photo:function(){return e._mediaRecorder.takePicture(e.cy)},gif:function(){return e._mediaRecorder.takeGif(e.cy)},undo:this.handleUndo,redo:this.handleRedo,options:[{name:"Insertar",run:function(){return e.setState({showInsertModal:!0})}},{name:"Extraer minimo",run:this.remove},{name:"Limpiar canvas",run:function(){return e.heap.length()>1&&e.changeArray([0])}},{name:"Subir Heap",run:function(){return e.setState({show:!0})}},{name:"Descargar Heap",run:function(){e.props.animation||function(e){var t=e.toString(),n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download","avl.txt"),n.setAttribute("target","_blank"),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}(e.heap._data)}}]}})}},{key:"componentDidUpdate",value:function(){ne.animationDuration=500/this.props.speed}},{key:"componentWillUnmount",value:function(){var e=this;this.props.dispatch({type:A.ANIMATION_END}),this._isMounted=!1,this.cy.nodes().forEach(function(t){e.removeNode(t.id())})}},{key:"pushState",value:function(){this.redo=[],this.undo.push({heap:Object(K.a)(this.heap._data),elements:this.exportGraph()})}},{key:"exportGraph",value:function(){var e=[];return this.cy.nodes().forEach(function(t){e.push({group:"nodes",data:{id:t.id(),value:t.data("value")},position:{x:t.position().x,y:t.position().y}})}),this.cy.edges().forEach(function(t){e.push({group:"edges",data:{id:t.id(),source:t.source().id(),target:t.target().id(),weight:t.data("weight")}})}),e}},{key:"createPopper",value:function(e,t){var n=this.cy.getElementById(e).position();this.cy.add({group:"nodes",data:{id:e+"-popper",value:t},position:{x:n.x,y:n.y+30},style:{"z-index":0,"border-width":0,"font-size":15,width:10,height:10}})}},{key:"addNode",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0};this.cy.add({group:"nodes",data:{id:e.toString(),value:t},grabbable:!1,pannable:!1,position:{x:n.x,y:n.y}}),this.createPopper(e,parseInt(e))}},{key:"refreshLayout",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.layoutProcessing(),this.layout.stop(),this.layout=this.cy.elements().makeLayout(Object(f.a)({},ne,{animate:e})),this.layout.run()}},{key:"layoutProcessing",value:function(){var e=5*(1<<function e(t){for(var n=t.outgoers("node"),a=0,o=0;o<n.length;o++)a=Math.max(a,e(n[o]));return a+1}(this.cy.getElementById("1"))),t=this.cy.width(),n=this.cy.height();return function e(t,n,a,o){ne.positions[t.id()]={x:n,y:a},ne.positions[t.id()+"-popper"]={x:n,y:a+30},t.outgoers("node").length&&e(t.outgoers("node")[0],n-o,a+50,o/2),2===t.outgoers("node").length&&e(t.outgoers("node")[1],n+o,a+50,o/2)}(this.cy.getElementById("1"),t/2,n/4,e),!0}},{key:"insert",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.props.animation)this.props.dispatch({type:A.ANIMATION_RUNNING_ERROR});else{var n=[];if(32!==this.heap.length()){if(this.props.dispatch({type:A.CHANGE_PSEUDO,payload:{pseudo:X}}),this.props.dispatch({type:A.CHANGE_LINE,payload:{lines:[0,1,2]}}),this.pushState(),console.log(this.heap.length()),this.heap.length()-1===0)this.addNode("1",t),n=this.heap.push(t,!0);else{var a=this.heap.length();console.log(a);var o=this.cy.getElementById(Math.floor(a/2).toString());this.addNode(a.toString(),t,o.position()),this.cy.add({group:"edges",data:{id:o.id()+"-"+a.toString(),source:o.id(),target:a.toString()}}),n=this.heap.push(t,!0)}this.refreshLayout(),new Promise(function(t,a){e.props.dispatch({type:A.ANIMATION_START}),t(n)}).then(function(t){setTimeout(e.executeAnimation,1e3/e.props.speed,t)})}}}},{key:"changeArray",value:function(e){var t=this;this.pushState(),this.cy.nodes().forEach(function(e){t.cy.remove(e)}),this.heap.clear();for(var n=1;n<e.length;n++)this.heap.push(e[n]),this.addNode(n.toString(),e[n]);for(var a=1;2*a<e.length;a++){var o=2*a,i=2*a+1;this.cy.add({group:"edges",data:{id:a.toString()+"-"+o.toString(),source:a.toString(),target:o.toString()}}),i<e.length&&this.cy.add({group:"edges",data:{id:a.toString()+"-"+i.toString(),source:a.toString(),target:i.toString()}})}this.refreshLayout()}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement(J,{show:this.state.show,changeArray:function(t){return e.changeArray(t)},handleClose:function(){return e.setState({show:!1})}}),o.a.createElement(M,{show:this.state.showInsertModal,handleClose:function(){return e.setState({showInsertModal:!1})},callback:function(t){return e.insert(t)}}),o.a.createElement("div",{id:"canvas",className:"standard-struct"}))}}]),t}(o.a.Component),oe=te(function(e){return{animation:e.animation,speed:e.speed}})(ae),ie=n(21),re=n.n(ie),se=n(33),de=n(17);function le(e){return 0===e.outgoers("node").length}function ce(e){var t=null,n=null,a=e.outgoers("node");if(a.length>=1&&(t=a[0]),2===a.length&&(n=a[1]),null!=t&&null!=n&&t.data("value")>n.data("value")){var o=[n,t];t=o[0],n=o[1]}else if(null!=t&&t.data("value")>e.data("value")){var i=[n,t];t=i[0],n=i[1]}else if(null!=n&&n.data("value")<e.data("value")){var r=[n,t];t=r[0],n=r[1]}return[t,n]}function ue(e,t,n){for(;t.id()!==n.id();)t.data("depth")<n.data("depth")?n=e.getElementById(n.data("prev")):t.data("depth")>n.data("depth")?t=e.getElementById(t.data("prev")):(t=e.getElementById(t.data("prev")),n=e.getElementById(n.data("prev")));return t}function pe(e){return e?e.data("height"):0}var he=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).state={text:""},n.uploadGraph=function(){var e=document.getElementById("AVLUploadInput");if(e.files){var t=e.files[0],a=new FileReader;a.onload=function(){if(console.log(a.result),"string"===typeof a.result){var e=a.result;n.validateArray(e)}},a.readAsText(t)}},n.handleChange=function(e){n.setState({text:e.currentTarget.value})},n.handleCancel=function(){n.props.handleClose()},n}return Object(u.a)(t,e),Object(d.a)(t,[{key:"validateArray",value:function(e){var t=this.props,n=t.addNode,a=t.addEdge,o=t.clearGraph;if(e&&/^([^0-9().-]|([0-9]{4,})|([.]{2,}))/.test(e))return console.error("Invalid AVL format"),!1;(function(e,t,n,a){var o=0,i=e.length,r=0,s=[],d=[];return!(!function t(n,a){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if("."===e[o])return o++,{correct:!0,height:0,balance:0};var c=1;if("-"===e[o]&&(c=-1,o++),o===i||e[o]<"0"||e[o]>"9")return{correct:!1};for(var u=0;o<i&&e[o]>="0"&&e[o]<="9";)u=10*u+parseInt(e[o++]);if((u*=c)<=n||u>=a)return{correct:!1};var p=r++;if(o===i||"("!==e[o])return{correct:!1};o++;var h=t(n,u,p);if(!h.correct||o===i||")"!==e[o])return{correct:!1};if(++o===i||"("!==e[o])return{correct:!1};o++;var E=t(u,a,p);if(!E.correct||o===i||")"!==e[o])return{correct:!1};o++;var y=Math.max(h.height,E.height)+1,m=E.height-h.height;return Math.abs(m)>1?{correct:!1}:(s.push({id:p.toString(),value:u,height:y,balance:m}),-1!==l&&d.push({source:l.toString(),target:p.toString()}),{correct:!0,height:y,balance:m})}(-1/0,1/0)||o!==i)&&(a(),s.forEach(function(e){t(e.id,e.value,e.height,e.balance)}),d.forEach(function(e){n(e.source,e.target)}),!0)})(e,n,a,o)&&this.props.handleClose(!0)}},{key:"render",value:function(){var e=this.props,t=e.show,n=e.handleClose;return o.a.createElement(T.a,{show:t,onHide:n},o.a.createElement(T.a.Header,{className:"modal-header",closeButton:!0},o.a.createElement(T.a.Title,null,"Seleccione un archivo")),o.a.createElement(T.a.Body,null,o.a.createElement("p",null,"El archivo debe contener un arbol AVL valido, previamente descargado"),o.a.createElement("input",{type:"file",id:"AVLUploadInput"})),o.a.createElement(T.a.Footer,null,o.a.createElement(C.a,{variant:"secondary",onClick:this.handleCancel},"Cancelar"),o.a.createElement(C.a,{variant:"primary",onClick:this.uploadGraph},"Aceptar")))}}]),t}(o.a.Component);function Ee(e,t){return e+"-"+t}var ye=[{text:"insertar(nodo u, entero v):",ind:0},{text:"Si u == NULL",ind:1},{text:"u = nuevo nodo(v)",ind:2},{text:"Sino si v < u.valor:",ind:1},{text:"insertar(u.hijoIzquierdo, v)",ind:2},{text:"Sino si v > u.valor:",ind:1},{text:"insertar(u.hijoDerecho, v)",ind:2}],me=[{text:"eliminar(nodo u):",ind:0},{text:"Si es_hoja(u): borrar u",ind:1},{text:"Sino: ",ind:1},{text:"Si hijos(u) == 1:",ind:2},{text:"eliminar(hijo(u))",ind:3},{text:"Sino: ",ind:2},{text:"nodo s = sucesor(u)",ind:3},{text:"intercambiar(u.valor, s.valor)",ind:3},{text:"borrar s",ind:3}],fe=[{text:"balancear(nodo u)",ind:0},{text:"Caso 0: u esta balanceado",ind:1},{text:"Caso 1: factor(u)==2 y factor(u.hijoDerecho)>=0",ind:1},{text:"rotacionIzquierda(u)",ind:2},{text:"Caso 2: factor(u)==-2 y factor(u.hijoIzquierdo)<=0",ind:1},{text:"rotacionDerecha(u)",ind:2},{text:"Caso 3: factor(u)==2 y factor(u.hijoIzquierdo)<0",ind:1},{text:"rotacionDerecha(u.hijoDerecho), rotacionIzquierda(u)",ind:2},{text:"Caso 4: factor(u)==-2 y factor(u.hijoDerecho)>0",ind:1},{text:"rotacionIzquierda(u.hijoIzquiedo), rotacionDerecha(u)",ind:2}],ge=[{text:"buscar(nodo u, entero v):",ind:0},{text:"Si u == NULL: retornar Falso",ind:1},{text:"Si v == u.valor: retornar Verdadero",ind:1},{text:"Si v < u.valor:",ind:1},{text:"buscar(u.hijoIzquierdo, v)",ind:2},{text:"Sino:",ind:1},{text:"buscar(u.hijoDerecho, v)",ind:2}],ve=[{text:"AVL{",ind:0},{text:"Nodo raiz",ind:1},{text:"insertar(nodo u, entero v)",ind:1},{text:"eliminar(nodo u)",ind:1},{text:"buscar(nodo u, entero v)",ind:1},{text:"balancear(nodo u)",ind:1},{text:"sucesor(nodo u)",ind:1},{text:"}",ind:0}],_e=n(14),Ne=n(25),Se=n(11).connect,Ie=(n(117),{name:"preset",positions:{},padding:30,animate:!0,animationDuration:500}),Oe=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(c.a)(t).call(this,e)))._isMounted=!1,n._mediaRecorder=new L,n.layout={run:function(){},stop:function(){}},n.treeRoot="",n.state={show:!1,showSearchModal:!1,showInsertModal:!1,showRemoveModal:!1},n.undo=[],n.redo=[],n.nodeStyle=_e.NODE,n.edgeStyle=_e.EDGE,n.cy=Ne(),n.handleUndo=function(){if(0!==n.undo.length)if(n.props.animation)n.props.dispatch({type:A.ANIMATION_RUNNING_ERROR});else{n.props.dispatch({type:A.NO_SELECTION});var e=n.exportGraph(),t=n.undo.pop();void 0!==t&&(n.redo.push({root:n.treeRoot,elements:e}),n.initialize(t))}},n.handleRedo=function(){if(0!==n.redo.length)if(n.props.animation)n.props.dispatch({type:A.ANIMATION_RUNNING_ERROR});else{n.props.dispatch({type:A.NO_SELECTION});var e=n.exportGraph(),t=n.redo.pop();void 0!==t&&(n.undo.push({root:n.treeRoot,elements:e}),n.initialize(t))}},n.removeNode=function(e){var t=e.id();n.cy.remove(e),n.removeNodePopper(t)},n.removeEdge=function(e,t){n.cy.remove('edge[id="'+Ee(e,t)+'"]')},n.addNode=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{x:0,y:0};n.cy.add({group:"nodes",data:{id:e,value:t,height:a,balance:o},position:{x:i.x,y:i.y}}),n.createPopper(e)},n.addEdge=function(e,t){console.log(e,t),n.cy.add({group:"edges",data:{id:Ee(e,t),source:e,target:t}}),n.cy.getElementById(t).data("prev",e)},n.remove=function(e){n.props.animation?n.props.dispatch({type:A.ANIMATION_RUNNING_ERROR}):n.search(e,!1).then(function(t){if(void 0!==t){var a="";if(n.props.dispatch({type:A.ANIMATION_START}),n.props.dispatch({type:A.CHANGE_PSEUDO,payload:{pseudo:me}}),n.pushState(),le(t))n.props.dispatch({type:A.CHANGE_LINE,payload:{lines:[1]}}),t.id()!==n.treeRoot&&(a=t.data("prev")),n.removeNode(t),n.refreshLayout(),""!==a?n.balance(n.cy.getElementById(a)).then(function(){n.props.dispatch({type:A.ANIMATION_END})}):n.props.dispatch({type:A.ANIMATION_END});else if(1===t.outgoers("node").length){if(n.props.dispatch({type:A.CHANGE_LINE,payload:{lines:[3,4]}}),t.id()===n.treeRoot)n.treeRoot=t.outgoers("node")[0].id(),a=n.treeRoot,n.removeNode(t),n.refreshLayout();else{var o;o=t.data("prev");var i=t.outgoers("node")[0];i.data(o),n.removeNode(t),n.addEdge(o,i.id()),a=i.id(),n.refreshLayout()}setTimeout(function(){return n.balance(n.cy.getElementById(a)).then(function(){n.props.dispatch({type:A.ANIMATION_END})})},1e3/n.props.speed)}else{n.props.dispatch({type:A.CHANGE_LINE,payload:{lines:[6]}}),n.inorderSuccessor(t).then(function(o){n.props.dispatch({type:A.CHANGE_LINE,payload:{lines:[7,8]}}),t.data("value",o.data("value")),o.data("value",e),setTimeout(function(){if(!le(o)){var e=ce(o)[1];e.data("prev",o.data("prev")),n.addEdge(o.data("prev"),e.id())}a=o.data("prev"),n.removeNode(o),n.refreshLayout(),setTimeout(function(){return n.balance(n.cy.getElementById(a)).then(function(){n.props.dispatch({type:A.ANIMATION_END})})},1e3/n.props.speed),t.style(_e.NODE)},1e3/n.props.speed)})}}}).catch(function(){n.props.dispatch({type:A.ANIMATION_END})})},n.handleClose=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.setState({show:!1}),e&&(n.treeRoot="0",n.refreshLayout())},n.clearGraph=function(){n.props.animation?n.props.dispatch({type:A.ANIMATION_RUNNING_ERROR}):(n.pushState(),n.cy.nodes().forEach(function(e){return n.cy.remove(e)}))},n._mediaRecorder=new L(e.dispatch),n}return Object(u.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this.initialize({root:"",elements:[]}),this.props.dispatch({type:this.props.action,payload:{photo:function(){return e._mediaRecorder.takePicture(e.cy)},gif:function(){return e._mediaRecorder.takeGif(e.cy)},undo:this.handleUndo,redo:this.handleRedo,options:[{name:"Insertar",run:function(){return e.setState({showInsertModal:!0})}},{name:"Eliminar",run:function(){return e.setState({showRemoveModal:!0})}},{name:"Buscar",run:function(){return e.setState({showSearchModal:!0})}},{name:"Limpiar canvas",run:this.clearGraph},{name:"Subir AVL",run:function(){return e.setState({show:!0})}},{name:"Descargar AVL",run:function(){return function(e){var t="";if(0===e.length)return t;!function e(n){if(n){t+=n.data("value").toString();var a=ce(n),o=Object(de.a)(a,2),i=o[0],r=o[1];t+="(",e(i),t+=")",t+="(",e(r),t+=")"}else t+="."}(e);var n=document.createElement("a");return n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download","avl.txt"),n.setAttribute("target","_blank"),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),t}(e.cy.getElementById(e.treeRoot))}}]}})}},{key:"initialize",value:function(e){var t=this,n=e.root,a=e.elements,o=_e.EDGE;this.cy=Ne({container:document.getElementById("canvas"),elements:a,style:[{selector:"node",style:_e.NODE},{selector:"edge",style:o}],headless:!1,styleEnabled:!0,hideEdgesOnViewport:!1,hideLabelsOnViewport:!1,userPanningEnabled:!1,zoomingEnabled:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.2,wheelSensitivity:1,pixelRatio:"1.0",autoungrabify:!0}),this.cy.nodes().forEach(function(e){e.id().match("-popper")&&e.style({"z-index":0,"border-width":0,"font-size":15,width:10,height:10})}),this.treeRoot=n,this.cy.on("resize",function(){return t.refreshLayout(!1)}),this.layout=this.cy.elements().makeLayout(Object(f.a)({},Ie,{animate:!1})),this.layout.run(),this.refreshLayout()}},{key:"exportGraph",value:function(){var e=[];return this.cy.nodes().forEach(function(t){e.push({group:"nodes",data:{id:t.id(),value:t.data("value"),prev:t.data("prev"),height:t.data("height"),balance:t.data("balance")},position:{x:t.position().x,y:t.position().y}})}),this.cy.edges().forEach(function(t){e.push({group:"edges",data:{id:t.id(),source:t.source().id(),target:t.target().id(),weight:t.data("weight")}})}),e}},{key:"pushState",value:function(){console.log("pushed"),this.redo=[],this.undo.push({root:this.treeRoot,elements:this.exportGraph()})}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:A.ANIMATION_END}),this._isMounted=!1}},{key:"componentDidUpdate",value:function(){Ie.animationDuration=500/this.props.speed}},{key:"removeNodePopper",value:function(e){this.cy.remove(this.cy.getElementById(e+"-popper"))}},{key:"createPopper",value:function(e){var t=this.cy.getElementById(e).position();this.cy.add({group:"nodes",data:{id:e+"-popper",value:0},position:{x:t.x,y:t.y+30},style:{"z-index":0,"border-width":0,"font-size":15,width:10,height:10}})}},{key:"isLeaf",value:function(e){return 0===e.outgoers("node").length}},{key:"getChildren",value:function(e){var t=null,n=null,a=e.outgoers("node");if(a.length>=1&&(t=a[0]),2===a.length&&(n=a[1]),null!=t&&null!=n&&t.data("value")>n.data("value")){var o=[n,t];t=o[0],n=o[1]}else if(null!=t&&t.data("value")>e.data("value")){var i=[n,t];t=i[0],n=i[1]}else if(null!=n&&n.data("value")<e.data("value")){var r=[n,t];t=r[0],n=r[1]}return[t,n]}},{key:"refreshLayout",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.layoutProcessing(),this.layout.stop(),this.layout=this.cy.elements().makeLayout(Object(f.a)({},Ie,{animate:e})),this.layout.run()}},{key:"propagate",value:function(e,t){if(null!=e){e.data("X",e.data("X")+t);var n=ce(e),a=Object(de.a)(n,2),o=a[0],i=a[1];o&&this.propagate(o,t),i&&this.propagate(i,t)}}},{key:"layoutProcessing",value:function(){var e=this;if(""!==this.treeRoot){for(var t={},n=function n(a,o,i){console.log(a.data("value")),a.data("depth",o),a.data("X",i),void 0===t[o]&&(t[o]=Array()),t[o].push(a.id());var r=ce(a),s=Object(de.a)(r,2),d=s[0],l=s[1],c=0,u=0;d&&(c=n(d,o+1,i-1)),l&&(u=n(l,o+1,i+1));var p=u-c;return e.cy.getElementById(a.id()+"-popper").data("value",p),Math.max(c,u)+1}(this.cy.getElementById(this.treeRoot),0,0),a=0;a++<1e3;){for(var o=!0,i=n-1;i>=0;i--)for(var r=t[i],s=0;s<r.length-1;s++){var d=this.cy.getElementById(r[s]),l=this.cy.getElementById(r[s+1]);if(d.data("X")+1>=l.data("X")){var c=ce(ue(this.cy,d,l)),u=Object(de.a)(c,2),p=u[0],h=u[1],E=Math.max(d.data("X")-l.data("X"),1);this.propagate(p,-E),this.propagate(h,E),o=!1;break}}if(o)break}1001===a&&console.error("ALERT, INFINITE LOOP AVOIDED");var y=this.cy.width(),m=this.cy.height();return function e(t,n,a){Ie.positions[t.id()]={x:24*t.data("X")+n,y:a},Ie.positions[t.id()+"-popper"]={x:24*t.data("X")+n,y:a+30};var o=ce(t),i=Object(de.a)(o,2),r=i[0],s=i[1];r&&e(r,n,a+50),s&&e(s,n,a+50)}(this.cy.getElementById(this.treeRoot),y/2,m/4),!0}}},{key:"rotateLeft",value:function(){var e=Object(se.a)(re.a.mark(function e(t){var n,a,o=this;return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Promise(function(e,n){var a=ce(t),i=Object(de.a)(a,2),r=i[0],s=i[1];if(null!=r){var d=ce(r),l=Object(de.a)(d,2),c=l[0],u=l[1];o.removeEdge(t.id(),r.id()),u&&(o.removeEdge(r.id(),u.id()),o.addEdge(t.id(),u.id()));var p=t.data("prev");o.addEdge(r.id(),t.id()),o.treeRoot!==t.id()?(o.removeEdge(p,t.id()),o.addEdge(p,r.id())):(o.treeRoot=r.id(),console.log(o.treeRoot)),t.data("height",Math.max(pe(u),pe(s))+1),r.data("height",Math.max(pe(c),pe(t))+1),t.data("balance",pe(s)-pe(u)),r.data("balance",pe(t)-pe(c)),o.refreshLayout(),setTimeout(e,1e3/o.props.speed)}}),e.next=3,n;case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"rotateRight",value:function(){var e=Object(se.a)(re.a.mark(function e(t){var n,a,o=this;return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Promise(function(e,n){var a=ce(t),i=Object(de.a)(a,2),r=i[0],s=i[1];if(null!=s){var d=ce(s),l=Object(de.a)(d,2),c=l[0],u=l[1];o.removeEdge(t.id(),s.id()),c&&(o.removeEdge(s.id(),c.id()),o.addEdge(t.id(),c.id()));var p=t.data("prev");o.addEdge(s.id(),t.id()),o.treeRoot!==t.id()?(o.removeEdge(p,t.id()),o.addEdge(p,s.id())):(o.treeRoot=s.id(),console.log(o.treeRoot)),t.data("height",Math.max(pe(r),pe(c))+1),s.data("height",Math.max(pe(t),pe(u))+1),t.data("balance",pe(c)-pe(r)),s.data("balance",pe(u)-pe(t)),o.refreshLayout(),setTimeout(e,1e3/o.props.speed)}}),e.next=3,n;case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"balance",value:function(e){var t=this,n=e;return this.props.dispatch({type:A.CHANGE_PSEUDO,payload:{pseudo:fe}}),this.props.dispatch({type:A.CHANGE_LINE,payload:{lines:[]}}),new Promise(function(e,a){t.props.dispatch({type:A.CHANGE_LINE,payload:{lines:[1]}}),n.style({"background-color":"red",color:"black"}),setTimeout(function a(){var o=ce(n),i=Object(de.a)(o,2),r=i[0],s=i[1],d=pe(r),l=pe(s);n.data("height",Math.max(d,l)+1);var c=l-d;n.data("balance",c),console.log("NODO "+n.id()+" BAL "+c);var u=function(){return new Promise(function(e){e()})},p=function(){return new Promise(function(e){e()})};2===c?s.data("balance")>=0?(t.props.dispatch({type:A.CHANGE_LINE,payload:{lines:[2,3]}}),u=function(){return t.rotateRight(n)}):(t.props.dispatch({type:A.CHANGE_LINE,payload:{lines:[6,7]}}),u=function(){return t.rotateLeft(s)},p=function(){return t.rotateRight(n)}):-2===c?r.data("balance")<=0?(t.props.dispatch({type:A.CHANGE_LINE,payload:{lines:[4,5]}}),u=function(){return t.rotateLeft(n)}):(t.props.dispatch({type:A.CHANGE_LINE,payload:{lines:[8,9]}}),u=function(){return t.rotateRight(r)},p=function(){return t.rotateLeft(n)}):t.props.dispatch({type:A.CHANGE_LINE,payload:{lines:[1]}}),u().then(function(){p().then(function(){console.log("hello"),n.style({"background-color":"white",color:"black"}),n.id()!==t.treeRoot?((n=t.cy.getElementById(n.data("prev"))).style({"background-color":"red",color:"black"}),setTimeout(a,1e3/t.props.speed)):e()})})},1e3/t.props.speed)})}},{key:"insert",value:function(e){var t=this;if(this.props.animation)this.props.dispatch({type:A.ANIMATION_RUNNING_ERROR});else{this.props.dispatch({type:A.CHANGE_PSEUDO,payload:{pseudo:ye}});for(var n=0;this.cy.getElementById(n.toString()).length>0;)n++;var a,o=this.cy.nodes().length/2+1;new Promise(function(i,r){if(t.props.dispatch({type:A.ANIMATION_START}),o>1){!function o(r,s){if(console.log(r),s&&s.style({color:"black","background-color":"white"}),r){r.style({color:"white","background-color":"black"});var d=ce(r),l=Object(de.a)(d,2),c=l[0],u=l[1];if(e===r.data("value"))return t.props.dispatch({type:A.AVL_ELEMENT_ALREADY_INFO}),void setTimeout(i,1e3/t.props.speed,r.id());e<r.data("value")?(t.props.dispatch({type:A.CHANGE_LINE,payload:{lines:[3,4]}}),setTimeout(o,1e3/t.props.speed,c,r)):(t.props.dispatch({type:A.CHANGE_LINE,payload:{lines:[5,6]}}),setTimeout(o,1e3/t.props.speed,u,r))}else t.props.dispatch({type:A.CHANGE_LINE,payload:{lines:[1,2]}}),s&&(t.pushState(),t.addNode(n.toString(),e,0,0,s.position()),a=t.cy.getElementById(n.toString()),t.addEdge(s.id(),a.id())),t.refreshLayout(),setTimeout(i,1e3/t.props.speed,null)}(t.cy.getElementById(t.treeRoot),null)}else t.pushState(),t.addNode(n.toString(),e),a=t.cy.getElementById(n.toString()),t.treeRoot=n.toString(),t.refreshLayout(),i(null)}).then(function(e){e?(t.cy.getElementById(e).style({"background-color":"white",color:"black"}),t.props.dispatch({type:A.ANIMATION_END})):t.balance(a).then(function(){t.props.dispatch({type:A.ANIMATION_END})})})}}},{key:"inorderSuccessor",value:function(){var e=Object(se.a)(re.a.mark(function e(t){var n,a,o=this;return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Promise(function(e,n){var a=ce(t)[1];(function t(n,a){if(a&&a.style({"background-color":"white",color:"black"}),n){n.style({"background-color":"red",color:"black"});var i=ce(n)[0];setTimeout(t,1e3/o.props.speed,i,n)}else a&&e(a)})(t=a,null)}),e.next=3,n;case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(se.a)(re.a.mark(function e(t){var n,a,o,i=this,r=arguments;return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(r.length>1&&void 0!==r[1])||r[1],!this.props.animation){e.next=4;break}return this.props.dispatch({type:A.ANIMATION_RUNNING_ERROR}),e.abrupt("return");case 4:return this.props.dispatch({type:A.ANIMATION_START}),this.props.dispatch({type:A.CHANGE_PSEUDO,payload:{pseudo:ge}}),a=new Promise(function(e,a){var o=!1;!function r(s,d){if(d&&d.style({"background-color":"white",color:"black"}),s){s.style({"background-color":"red",color:"black"});var l=ce(s),c=Object(de.a)(l,2),u=c[0],p=c[1];s.data("value")===t?(s.style({"background-color":"lightgreen",color:"black"}),o=!0,i.props.dispatch({type:A.CHANGE_LINE,payload:{lines:[2]}}),setTimeout(r,1e3/i.props.speed,null,s)):s.data("value")<t?(i.props.dispatch({type:A.CHANGE_LINE,payload:{lines:[5,6]}}),setTimeout(r,1e3/i.props.speed,p,s)):(i.props.dispatch({type:A.CHANGE_LINE,payload:{lines:[3,4]}}),setTimeout(r,1e3/i.props.speed,u,s))}else i.props.dispatch({type:o?A.AVL_FOUND_SUCCESS:A.AVL_NOT_FOUND_INFO}),n&&i.props.dispatch({type:A.ANIMATION_END}),o||(i.props.dispatch({type:A.CHANGE_LINE,payload:{lines:[1]}}),setTimeout(a,1e3/i.props.speed)),setTimeout(e,1e3/i.props.speed,d)}(i.cy.getElementById(i.treeRoot),null)}),e.next=9,a;case 9:return o=e.sent,e.abrupt("return",o);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"testRotation",value:function(e){var t=this.props.selection;t&&(0===e?this.rotateLeft(this.cy.getElementById(t.id)):this.rotateRight(this.cy.getElementById(t.id)))}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement(M,{show:this.state.showInsertModal,handleClose:function(){return e.setState({showInsertModal:!1})},callback:function(t){return e.insert(t)}}),o.a.createElement(M,{show:this.state.showSearchModal,handleClose:function(){return e.setState({showSearchModal:!1})},callback:function(t){return e.search(t).catch(function(){})}}),o.a.createElement(M,{show:this.state.showRemoveModal,handleClose:function(){return e.setState({showRemoveModal:!1})},callback:function(t){return e.remove(t)}}),o.a.createElement(he,{show:this.state.show,handleClose:this.handleClose,addNode:this.addNode,addEdge:this.addEdge,clearGraph:this.clearGraph}),o.a.createElement("div",{id:"canvas",className:"standard-struct"}))}}]),t}(o.a.Component),Ae=Se(function(e){return{animation:e.animation,speed:e.speed,selection:e.selection}})(Oe),be=function(){function e(){Object(s.a)(this,e),this._data=[]}return Object(d.a)(e,[{key:"isEmpty",value:function(){return 0===this._data.length}},{key:"front",value:function(){return this.isEmpty()?null:this._data[0]}},{key:"push",value:function(e){this._data.push(e)}},{key:"pop",value:function(){this.isEmpty()||this._data.shift()}}]),e}(),Re=n(14),Le=function(e){var t=e.cy,n=e.selection.id,a={},o={},i=new be,r=[{lines:[1,2],duration:1e3}];i.push(n),o[n]=0,r.push({eles:[n],style:[Re.NODE_GRAY],inst:[{name:"update_level",data:{id:n,value:0}}],lines:[3,4]});for(var s=function(){r.push({lines:[5]});var e=t.getElementById(i.front());if(i.pop(),"black"===a[e])return"continue";a[e.id()]="black",r.push({eles:[e.id()],style:[Re.NODE_BLACK],lines:[6,7],inst:[{name:"shift"}]}),e.outgoers("edge").forEach(function(t){var n=t.target();r.push({eles:[t.id()],style:[Re.EDGE_TRAVERSE],lines:[8]},{lines:[9]}),void 0===a[n.id()]?(a[n.id()]="gray",o[n.id()]=o[e.id()]+1,r.push({eles:[n.id()],style:[Re.NODE_GRAY],inst:[{name:"update_level",data:{id:n.id(),value:o[n.id()],class:"heap-default"}}],lines:[10,11]},{eles:[t.id()],style:[Re.EDGE_VISITED],duration:10}),i.push(n.id())):r.push({eles:[t.id()],style:[Re.EDGE_VISITED],duration:10})})};!i.isEmpty();)s();return r},xe=n(14),Te=function(e){var t=e.cy,n=e.selection.id,a=[{lines:[8,9,10]}];return function e(t,n,a,o,i){i[n.id()]=!0,o.push({eles:[n.id()],style:[xe.NODE_GRAY],inst:[{name:"update_level",data:{id:n.id(),value:a}}],lines:[1]}),n.outgoers("edge").forEach(function(n){var r=n.target();o.push({eles:[n.id()],style:[xe.EDGE_TRAVERSE],lines:[2]}),void 0===i[r.id()]?(o.push({lines:[3,4]},{eles:[n.id()],style:[xe.EDGE_VISITED],duration:10}),e(t,r,a+1,o,i)):o.push({eles:[n.id()],style:[xe.EDGE_VISITED],duration:10})}),o.push({eles:[n.id()],style:[xe.NODE_BLACK],inst:[{name:"pop"}],lines:[5]})}(t,t.getElementById(n),0,a,{}),a},Ce=n(14),De=function(e){var t=e.cy,n=e.selection.id,a=new Y(function(e,t){return e.distance<t.distance},function(e,t){return e.distance===t.distance}),o={},i={},r=[];r.push({lines:[1,2]}),o[n]=0,a.push({distance:0,id:n}),r.push({eles:t.nodes().map(function(e){return e.id()}),distance:Array(t.nodes().length).fill("\u221e"),duration:1e3,inst:[{name:"fill",data:{value:"\u221e",class:"heap-default"}}],lines:[3]});for(var s=function(){r.push({lines:[4]});var e=a.top(),n=e.id,s=e.distance;if(a.pop(),i[n])return"continue";i[n]=!0;var d=t.getElementById(n);r.push({eles:[n],distance:[s.toString()],style:[Ce.NODE_RED],duration:1e3,inst:[{name:"change_element",position:parseInt(d.data("value"),10)-1,data:{value:s.toString(),class:"heap-wrong"}}],lines:[5]}),d.outgoers("edge").forEach(function(e){var t=e.target(),n=e.data("weight"),i=t.id();r.push({eles:[e.id()],style:[Ce.EDGE_TRAVERSE],lines:[6],duration:1e3});var d=o[i];void 0===d&&(d="inf"),void 0===o[i]||s+n<o[i]?(o[i]=s+n,r.push({lines:[7],eles:[i],style:[Ce.NODE_GRAY]}),a.push({distance:s+n,id:i}),"inf"!==d&&r.push({eles:[i],distance:[s+n+"\u2264"+d],duration:1e3}),r.push({eles:[i],distance:[s+n],duration:1e3,lines:[8,9],inst:[{name:"change_element",position:parseInt(t.data("value"),10)-1,data:{value:(s+n).toString(),class:"heap-default"}}]})):r.push({eles:[i],distance:[d+"\u2264"+(s+n)],duration:1e3,lines:[8]},{eles:[i],distance:[d],duration:1e3}),r.push({eles:[e.id()],style:[Ce.EDGE_VISITED],duration:10})}),r.push({eles:[n],distance:[s.toString()],style:[Ce.NODE_BLACK],duration:1e3,inst:[{name:"change_element",position:parseInt(d.data("value"),10)-1,data:{value:s.toString(),class:"heap-default"}}]})};!a.isEmpty();)s();return r},ke=n(14),Ge=function(e){var t=e.cy,n=t.nodes(),a=t.edges(),o={},i={},r=new Y(function(e,t){return e.weight<=t.weight}),s=[];s.push({eles:n.map(function(e){return e.data("id")}),distance:Array(t.nodes().length).fill("\u221e"),lines:[1,2,3,4,5]},{eles:a.map(function(e){return e.data("id")}),style:Array(t.edges().length).fill(ke.EDGE_NO_MST),duration:1e3,lines:[1,2,3,4,5]}),n.forEach(function(e){e.id().match("-popper")||r.push({target:e.id(),edgeId:"NONE",weight:1/0})});for(var d=function(){var e=r.top();r.pop();var n=e.target,a=e.edgeId,d=e.weight;if(i[n])return"continue";d===1/0&&(o[n]=0),s.push({lines:[6],duration:1e3}),i[n]=!0;var l=t.getElementById(n);s.push({eles:[n],style:[ke.NODE_RED],duration:1e3,lines:[7,8],inst:[{name:"change_element",position:parseInt(l.data("value"),10)-1,data:{value:o[n].toString(),class:"heap-wrong"}}]}),"NONE"!==a&&(s.push({eles:[a],style:[ke.EDGE_MST],lines:[9,10]}),i[a]=!0),t.getElementById(n).connectedEdges().forEach(function(e){if(!i[e.id()]){var a=e.target().id();if(a===n&&(a=e.source().id()),!i[a]){var d,l=e.data("weight");s.push({eles:[e.id()],style:[ke.EDGE_TRAVERSE],lines:[11]}),s.push({lines:[12]}),(void 0===o[a]||o[a]>l)&&(s.push({lines:[13,14],eles:[a],style:[ke.NODE_GRAY],distance:[l],inst:[{name:"change_element",position:parseInt(t.getElementById(a).data("value"),10)-1,data:{value:l.toString(),class:"heap-default"}}]}),o[a]=l,r.push({target:a,edgeId:e.id(),weight:l})),d=i[e.id()]?ke.EDGE_MST:ke.EDGE_NO_MST,s.push({eles:[e.id()],style:[d],duration:10})}}}),s.push({inst:[{name:"change_element",position:parseInt(l.data("value"),10)-1,data:{value:void 0===o[n]?"0":o[n].toString(),class:"heap-default"}}]})};!r.isEmpty();)d();return s},we=function(){function e(t){var n=this;Object(s.a)(this,e),this._parent={},t.forEach(function(e){return n._parent[e.id()]=e.id()})}return Object(d.a)(e,[{key:"find",value:function(e){return this._parent[e]===e?e:(this._parent[e]=this.find(this._parent[e]),this._parent[e])}},{key:"join",value:function(e,t){this._parent[this.find(e)]=this.find(t)}},{key:"connected",value:function(e,t){return this.find(e)===this.find(t)}}]),e}(),Be=n(14),Me=function(e){var t=e.cy,n=t.nodes(),a=t.edges(),o=new Y(function(e,t){return e.data("weight")<=t.data("weight")});a.forEach(function(e){return o.push(e)});for(var i=[{eles:a.map(function(e){return e.data("id")}),style:Array(t.edges().length).fill(Be.EDGE_NO_MST),duration:1e3,lines:[1,2]}],r=new we(n);!o.isEmpty();){var s=o.top();o.pop();var d=s.source().id(),l=s.target().id();if(i.push({eles:[s.id()],style:[Be.NODE_TRAVERSE],duration:1e3,lines:[3]}),r.connected(d,l))i.push({eles:[s.id()],style:[Be.EDGE_NO_MST],duration:1e3,lines:null});else{r.join(d,l),s.data("weight");var c=s.source(),u=s.target();i.push({eles:[s.id(),c.id(),u.id()],style:[Be.EDGE_MST,Be.NODE_RED,Be.NODE_RED],duration:1e3,lines:[4,5]})}}return i},je={singlySet:{main:[{text:"ListaEnlazada{",ind:0},{text:"Nodo* inicio",ind:1},{text:"ExtraerPrimero()",ind:1},{text:"ExtraerUltimo()",ind:1},{text:"InsertarPrimero(Entero v)",ind:1},{text:"InsertarUltimo(Entero v)",ind:1},{text:"Eliminar(Nodo* p)",ind:1},{text:"InsertarAntesDe(Nodo* p, Entero v)",ind:1},{text:"InsertarDespuesDe(Nodo* p, Entero v)",ind:1},{text:"}",ind:0},{text:"\u2063",ind:0},{text:"Nodo{",ind:0},{text:"Entero v",ind:1},{text:"Nodo *sig",ind:1},{text:"}",ind:0}],pushFront:[{text:"InsertarPrimero(Entero v):",ind:0},{text:"Nodo *p = nuevo Nodo(v)",ind:1},{text:"Si inicio==NULL",ind:1},{text:"inicio=p",ind:2},{text:"Sino:",ind:1},{text:"p->sig=inicio",ind:2},{text:"inicio=p",ind:2}],pushBack:[{text:"InsertarUltimo(Entero v):",ind:0},{text:"Nodo *p = nuevo Nodo(v)",ind:1},{text:"Si inicio==NULL",ind:1},{text:"inicio=p",ind:2},{text:"Sino:",ind:1},{text:"nodo *actual = inicio",ind:2},{text:"Mientras(actual->sig != NULL):",ind:2},{text:"actual=actual->sig",ind:3},{text:"actual->sig=p",ind:2}],popFront:[{text:"ExtraerFrente():",ind:0},{text:"Si inicio == NULL: retornar",ind:1},{text:"nodo* aux=inicio",ind:1},{text:"inicio=inicio->sig",ind:1},{text:"retornar aux",ind:1}],popBack:[{text:"ExtraerUltimo():",ind:0},{text:"Si inicio == NULL: retornar",ind:1},{text:"Si inicio->sig == NULL:",ind:1},{text:"Nodo* aux = inicio",ind:2},{text:"inicio=NULL",ind:2},{text:"retornar aux",ind:2},{text:"nodo *actual = inicio, *anterior",ind:1},{text:"Mientras(actual->sig != NULL):",ind:1},{text:"anterior=actual",ind:2},{text:"actual=actual->sig",ind:2},{text:"anterior->sig=NULL",ind:1},{text:"retornar actual",ind:1}],insertBefore:[{text:"InsertarAntesDe(Nodo *p, Entero v):",ind:0},{text:"Nodo *aux = nuevo Nodo(v)",ind:1},{text:"Si inicio==p",ind:1},{text:"aux->sig=inicio",ind:2},{text:"inicio=aux",ind:2},{text:"sino:",ind:1},{text:"Nodo *actual=inicio",ind:2},{text:"Mientras actual->sig != p:",ind:2},{text:"actual=actual->sig",ind:3},{text:"actual->sig=aux",ind:2},{text:"aux->sig=p",ind:2}],insertAfter:[{text:"InsertarDespuesDe(Nodo *p, Entero v):",ind:0},{text:"Nodo *aux = nuevo Nodo(v)",ind:1},{text:"Nodo *s = p->sig",ind:1},{text:"p->sig=aux",ind:1},{text:"aux->sig=s",ind:1}],remove:[{text:"Eliminar(Nodo *p):",ind:0},{text:"Si inicio==p:",ind:1},{text:"inicio=inicio->sig",ind:2},{text:"borrar p",ind:2},{text:"Sino:",ind:1},{text:"Nodo *actual=incio, *anterior=NULL",ind:2},{text:"Mientras actual != p:",ind:2},{text:"anterior=actual",ind:3},{text:"actual=actual->sig",ind:3},{text:"anterior->sig=p->sig",ind:2},{text:"borrar p",ind:2}]},doublySet:{main:[{text:"ListaDoblementeEnlazada{",ind:0},{text:"Nodo *primero, *ultimo",ind:1},{text:"ExtraerPrimero()",ind:1},{text:"ExtraerUltimo()",ind:1},{text:"InsertarPrimero(Entero v)",ind:1},{text:"InsertarUltimo(Entero v)",ind:1},{text:"Eliminar(Nodo* p)",ind:1},{text:"InsertarAntesDe(Nodo* p, Entero v)",ind:1},{text:"InsertarDespuesDe(Nodo* p, Entero v)",ind:1},{text:"}",ind:0},{text:"\u2063",ind:0},{text:"Nodo{",ind:0},{text:"Entero v",ind:1},{text:"Nodo *ant, *sig",ind:1},{text:"}",ind:0}],pushFront:[{text:"InsertarPrimero(Entero v):",ind:0},{text:"Nodo *p = nuevo Nodo(v)",ind:1},{text:"Si primero==NULL",ind:1},{text:"primero=ultimo=p",ind:2},{text:"Sino:",ind:1},{text:"p->sig=primero",ind:2},{text:"primero->ant=p",ind:2},{text:"primero=p",ind:2}],pushBack:[{text:"InsertarUltimo(Entero v):",ind:0},{text:"Nodo *p = nuevo Nodo(v)",ind:1},{text:"Si primero==NULL",ind:1},{text:"primero=ultimo=p",ind:2},{text:"Sino:",ind:1},{text:"ultimo->sig=p",ind:2},{text:"p->ant=ultimo",ind:2},{text:"ultimo=p",ind:2}],popFront:[{text:"ExtraerFrente():",ind:0},{text:"Si primero == NULL: retornar",ind:1},{text:"nodo* aux=primero",ind:1},{text:"primero=primero->sig",ind:1},{text:"Si primero==NULL:",ind:1},{text:"ultimo=NULL",ind:2},{text:"Sino:",ind:1},{text:"primero->ant=NULL",ind:2},{text:"retornar aux",ind:1}],popBack:[{text:"ExtraerUltimo():",ind:0},{text:"Si inicio == NULL: retornar",ind:1},{text:"nodo* aux=ultimo",ind:1},{text:"ultimo=ultimo->ant",ind:1},{text:"Si ultimo==NULL:",ind:1},{text:"inicio=NULL",ind:2},{text:"Sino:",ind:1},{text:"ultimo->sig=NULL",ind:2},{text:"retornar aux",ind:1}],insertBefore:[{text:"InsertarAntesDe(Nodo *p, Entero v):",ind:0},{text:"Nodo *aux = nuevo Nodo(v)",ind:1},{text:"Nodo *ant = p->ant",ind:1},{text:"aux->sig=p, aux->ant=ant",ind:1},{text:"p->ant=aux",ind:1},{text:"Si ant == NULL:",ind:1},{text:"primero=aux",ind:2},{text:"Sino:",ind:1},{text:"ant->sig=aux",ind:2}],insertAfter:[{text:"InsertarDespuesDe(Nodo *p, Entero v):",ind:0},{text:"Nodo *aux = nuevo Nodo(v)",ind:1},{text:"Nodo *sig = p->sig",ind:1},{text:"aux->ant=p, aux->sig=sig",ind:1},{text:"p->sig=aux",ind:1},{text:"Si sig == NULL:",ind:1},{text:"ultimo=aux",ind:2},{text:"Sino:",ind:1},{text:"sig->ant=aux",ind:2}],remove:[{text:"Eliminar(Nodo *p):",ind:0},{text:"Nodo *ant=p->ant, *sig=p->sig",ind:1},{text:"Caso 1: ant==NULL y sig==NULL:",ind:1},{text:"primero=ultimo=NULL",ind:2},{text:"Caso 2: ant==NULL y sig!=NULL",ind:1},{text:"primero=sig",ind:2},{text:"Caso 3: ant!=NULL y sig==NULL:",ind:1},{text:"ultimo=ant",ind:2},{text:"Caso 4: ant!=NULL y sig!=NULL",ind:1},{text:"ant->sig=sig, sig->ant=ant",ind:2},{text:"borrar p",ind:1}]},queueSet:{main:[{text:"Cola{",ind:0},{text:"Nodo *frente, *final",ind:1},{text:"Encolar(Entero v)",ind:1},{text:"Desencolar()",ind:1},{text:"}",ind:0},{text:"\u2063",ind:0},{text:"Nodo{",ind:0},{text:"Entero v",ind:1},{text:"Nodo *sig",ind:1},{text:"}",ind:0}],pushFront:[],pushBack:[{text:"Encolar(Entero v):",ind:0},{text:"Nodo *aux = nuevo Nodo(v)",ind:1},{text:"Si frente==NULL:",ind:1},{text:"frente=final=aux",ind:2},{text:"Sino:",ind:1},{text:"final->sig=aux",ind:2},{text:"final=aux",ind:2}],popFront:[{text:"Desencolar():",ind:0},{text:"Si frente==NULL: retornar",ind:1},{text:"Nodo *aux = frente->sig"},{text:"Si frente==NULL: ",ind:1},{text:"ultimo=NULL",ind:2},{text:"Sino:",ind:1},{text:"frente=frente->sig",ind:2},{text:"retornar aux",ind:1}],popBack:[],insertBefore:[],insertAfter:[],remove:[]},stackSet:{main:[{text:"Pila{",ind:0},{text:"Nodo *tope",ind:1},{text:"Apilar(Entero v)",ind:1},{text:"Desapilar(Entero v)",ind:1},{text:"}",ind:0},{text:"\u2063",ind:0},{text:"Nodo{",ind:0},{text:"Entero v",ind:1},{text:"Nodo *sig",ind:1},{text:"}",ind:0}],pushFront:[{text:"Apilar(Entero v):",ind:0},{text:"Nodo *aux = nuevo Nodo(v)",ind:1},{text:"Si tope==NULL:",ind:1},{text:"tope=aux",ind:2},{text:"Sino:",ind:1},{text:"aux->sig=tope",ind:2},{text:"tope=aux",ind:2}],pushBack:[],popFront:[{text:"Desapilar():",ind:0},{text:"Si tope==NULL: retornar",ind:1},{text:"Nodo *aux=tope",ind:1},{text:"tope=tope->sig",ind:1},{text:"retornar aux",ind:1}],popBack:[],insertBefore:[],insertAfter:[],remove:[]}},Ue={BFS:{execute:Le,directed:!0,action:A.SELECT_BFS},DFS:{execute:Te,directed:!0,action:A.SELECT_DFS},Dijkstra:{execute:De,directed:!0,weighted:!0,action:A.SELECT_DIJKSTRA},Prim:{execute:Ge,directed:!1,weighted:!0,action:A.SELECT_PRIM},Kruskal:{execute:Me,directed:!1,weighted:!0,action:A.SELECT_KRUSKAL},Heap:{action:A.SELECT_HEAP},AVL:{action:A.SELECT_AVL},BubbleSort:{action:A.SELECT_BUBBLESORT},MergeSort:{action:A.SELECT_MERGESORT},BinarySearch:{action:A.SELECT_BINARY_SEARCH},SingleLinkedList:{action:A.SELECT_LINKED_LIST,type:A.SELECT_SINGLE_LINKED_LIST,pseudoset:je.singlySet},DoubleLinkedList:{action:A.SELECT_LINKED_LIST,type:A.SELECT_DOUBLE_LINKED_LIST,pseudoset:je.doublySet},Stack:{action:A.SELECT_LINKED_LIST,type:A.SELECT_STACK,pseudoset:je.stackSet},Queue:{action:A.SELECT_LINKED_LIST,type:A.SELECT_QUEUE,pseudoset:je.queueSet}},Fe=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);for(var a=t.length,o=[],i=0;i<a;i++){o.push({eles:[],style:[],lines:[1,2]});for(var r=!0,s=0;s<a-1;s++){var d=void 0,l=!1;if(t[s]>t[s+1]){r=!1,l=!0;var c=[t[s+1],t[s]];t[s]=c[0],t[s+1]=c[1],d="LightCoral"}else d="Chartreuse";o.push({eles:[s.toString(),(s+1).toString()],style:[{"background-color":d},{"background-color":d}],duration:1e3,lines:[4]},{eles:[s.toString(),(s+1).toString()],style:[{"background-color":"white"},{"background-color":"white"}],data:[{value:t[s]},{value:t[s+1]}],duration:1e3,lines:l?[5,6]:[3]}),l&&o.push({eles:[],style:[],lines:[3]})}if(r){o.push({eles:[],style:[],lines:[7]});break}}return o},Pe=n(11).connect,He=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(c.a)(t).call(this,e))).input=void 0,n.setStepInputRef=void 0,n.handleAccept=function(){if(n.input&&n.validateArray(n.input.value)){var e=n.input.value.split(",").map(function(e){return parseInt(e)});console.log(e),n.props.changeArray(e),n.props.handleClose()}},n.handleChange=function(e){n.setState({text:e.currentTarget.value})},n.handleCancel=function(){n.setState({text:n.props.currentValues.toString()}),n.props.handleClose()},n.input=null,n.state={text:n.props.currentValues.toString()},n.setStepInputRef=function(e){n.input=e},n}return Object(u.a)(t,e),Object(d.a)(t,[{key:"validateArray",value:function(e){return!(!e||!/^(([-]?([0-9]{1,3})([,][ ]*)){0,15})([-]?([0-9]{1,3}))$/.test(e))||(this.props.dispatch({type:A.INVALID_ARRAY_ERROR}),!1)}},{key:"render",value:function(){var e=this,t=this.props,n=t.show,a=t.handleClose;return o.a.createElement(T.a,{show:n,onHide:a},o.a.createElement(T.a.Header,{className:"modal-header",closeButton:!0},o.a.createElement(T.a.Title,null,"Introduzca un arreglo de enteros")),o.a.createElement(T.a.Body,null,o.a.createElement("p",null,"Debe estar representado por maximo 16 numeros separados por coma"),o.a.createElement("p",null,"Cada numero debe estar entre -999 y 999"),o.a.createElement("input",{type:"text",ref:this.setStepInputRef,value:this.state.text,onChange:function(t){return e.handleChange(t)}})),o.a.createElement(T.a.Footer,null,o.a.createElement(C.a,{variant:"secondary",onClick:this.handleCancel},"Cancelar"),o.a.createElement(C.a,{variant:"primary",onClick:this.handleAccept},"Aceptar")))}}]),t}(o.a.Component),Ve=Pe()(He),Ke=n(14),ze=n(25),Ye=n(11).connect,We=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(c.a)(t).call(this,e)))._isMounted=!1,n._mediaRecorder=new L,n.cy=ze(),n.state={show:!1,values:[1,4,8,1,4,3,6,9,10,-1]},n.layout={run:function(){},stop:function(){}},n.nodeStyle=Ke.NODE,n.options=void 0,n.addNode=function(e,t){n.cy.add({group:"nodes",data:{id:e,value:t},position:{x:n.cy.width()/2-17.5*(n.state.values.length-1)+35*parseInt(e),y:n.cy.height()/4}})},n.executeAnimation=function(e){n.cy.nodes().style({"background-color":"white",color:"black"}),n.props.dispatch({type:A.STARTING_BUBBLESORT_INFO});!function(){var t=0;!function a(){if(n.props.animation){if(t===e.length)return n.cy.nodes().style(n.nodeStyle),n.props.dispatch({type:A.ARRAY_SORTED_SUCCESS}),void n.refreshLayout();var o=e[t++],i=o.eles,r=o.style,s=o.duration,d=o.data,l=o.lines;i&&(i.forEach(function(e,t){r&&n.cy.getElementById(e).style(r[t])}),i.forEach(function(e,t){void 0!==d&&n.cy.getElementById(e).data(d[t])})),n._isMounted&&null!=l&&n.props.dispatch({type:A.CHANGE_LINE,payload:{lines:l}}),n.refreshLayout(),setTimeout(a,(void 0===s?1e3/n.props.speed:s)/n.props.speed)}else n.cy.nodes().style(n.nodeStyle)}()}()},n.runButton=function(){if(n.props.animation)return n.props.dispatch({type:A.ANIMATION_END}),void n.initialize();new Promise(function(e,t){n.props.dispatch({type:A.ANIMATION_START}),e(Fe(n.state.values))}).then(function(e){setTimeout(n.executeAnimation,1e3/n.props.speed,e)})},n.handleClose=function(){n.setState({show:!1})},n.changeArray=function(e){n.setState({values:e})},n._mediaRecorder=new L(e.dispatch),n.options=[{name:"Ordenar",run:n.runButton},{name:"Cambiar arreglo",run:function(){return n.setState({show:!0})}}],n}return Object(u.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this.cy=ze({container:document.getElementById("canvas"),elements:[],style:[{selector:"node",style:Object(f.a)({},Ke.NODE,{shape:"square"})}],layout:{name:"preset"},headless:!1,styleEnabled:!0,hideEdgesOnViewport:!1,hideLabelsOnViewport:!1,userPanningEnabled:!1,zoomingEnabled:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.2,wheelSensitivity:1,pixelRatio:"1.0",autoungrabify:!0}),this.cy.autopanOnDrag({enabled:!0,speed:.01}),this.layout=this.cy.elements().makeLayout({name:"preset"}),this.layout.run(),this.props.dispatch({type:this.props.action,payload:{photo:function(){return e._mediaRecorder.takePicture(e.cy)},gif:function(){return e._mediaRecorder.takeGif(e.cy)},options:this.options}}),this.initialize()}},{key:"componentDidUpdate",value:function(e,t){t.values!==this.state.values&&this.initialize(),e.animation&&!this.props.animation?this.props.dispatch({type:A.CHANGE_OPTIONS,payload:{options:this.options}}):!e.animation&&this.props.animation&&this.props.dispatch({type:A.CHANGE_OPTIONS,payload:{options:[{name:"Volver a edicion",run:this.runButton}]}})}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:A.ANIMATION_END}),this._isMounted=!1,this.cy.nodes().forEach(function(e){var t=e.id(),n=document.getElementById(t+"popper");n&&document.body.removeChild(n)})}},{key:"refreshLayout",value:function(){this.layout.stop(),this.layout=this.cy.elements().makeLayout({name:"preset"}),this.layout.run()}},{key:"initialize",value:function(){var e=this;this.cy.nodes().forEach(function(t){return e.cy.remove(t)});for(var t=0;t<this.state.values.length;t++)this.addNode(t.toString(),this.state.values[t]),this.refreshLayout()}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ve,{show:this.state.show,handleClose:this.handleClose,changeArray:this.changeArray,currentValues:this.state.values}),o.a.createElement("div",{id:"canvas",className:"standard-struct"}))}}]),t}(o.a.Component),qe=Ye(function(e){return{animation:e.animation,speed:e.speed}})(We),Je=function(e,t,n){var a=[],o=t/2;return function e(t,n,o,i,r){var s=Object(K.a)(t),d=s.length,l=[],c=[],u=[],p=[],h=[],E=[],y={nodes:[],duration:1e3,style:[]},m=(o+i)/2;if(s.forEach(function(e,t){l.push({id:(n+t).toString()}),p.push({x:m-17.5*(d-1)+35*t,y:r}),c.push({"border-width":"3"}),u.push({"border-width":"1"}),h.push({id:(n+t).toString()+"-"+r.toString(),value:"+",position:{x:m-17.5*(d-1)+35*t,y:r}}),E.push({id:(n+t).toString()+"-"+r.toString(),value:"-"})}),a.push({nodes:l,style:c,positions:p}),a.push({shadows:h,duration:10}),1===d)return a.push({nodes:[],lines:[1,2],shadows:[{id:n+"-"+r,value:"-"}]}),s;var f=Math.floor((d+1)/2);a.push({nodes:[],lines:[3]}),a.push({nodes:l,style:u,duration:10});var g=e(s.slice(0,f),n,o,(o+i)/2,r+50);a.push({nodes:l,style:c,duration:10}),a.push({nodes:[],lines:[4]}),a.push({nodes:l,style:u,duration:10});var v=e(s.slice(f),n+f,(o+i)/2,i,r+50);a.push({nodes:l,style:c,duration:10});var _=0,N=0;a.push({nodes:[],lines:[5]},{nodes:[],lines:[8,9]});for(var S=0;S<d;S++){var I=m-17.5*(d-1)+35*S;y={nodes:[],duration:1e3},N==v.length||_<g.length&&g[_].value<=v[N].value?(y.nodes=[{id:g[_].id}],y.lines=[11,12],y.positions=[{x:I,y:r}],s[S]=g[_++]):(y.nodes=[{id:v[N].id}],y.positions=[{x:I,y:r}],s[S]=v[N++],y.lines=[13,14]),a.push(y)}return a.push({nodes:[],lines:[15]}),a.push({nodes:[],lines:[5]}),a.push({nodes:l,style:u,shadows:E}),s}(e=e.map(function(e,t){return{value:e,id:t.toString()}}),0,o-35*e.length,o+35*e.length,n/4),a},Qe=n(14),Xe=n(25),$e=n(11).connect,Ze={name:"preset",positions:{},padding:30,animate:!0,animationDuration:500},et=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(c.a)(t).call(this,e)))._isMounted=!1,n._mediaRecorder=new L,n.cy=Xe(),n.state={show:!1,values:[1,4,8,1,4,3,6,9,10,-10]},n.layout={run:function(){},stop:function(){}},n.nodeStyle=Object(f.a)({},Qe.NODE,{shape:"square",zIndex:2}),n.options=void 0,n.addNode=function(e,t){n.cy.add({group:"nodes",data:{id:e,value:t},position:{x:n.cy.width()/2-17.5*(n.state.values.length-1)+35*parseInt(e),y:n.cy.height()/4}}),Ze.positions[e]={x:n.cy.width()/2-17.5*(n.state.values.length-1)+35*parseInt(e),y:n.cy.height()/4}},n.addShadow=function(e,t){n.cy.add({group:"nodes",data:{id:e},style:{"z-index":1},position:t}),Ze.positions[e]=t},n.executeAnimation=function(e){n.cy.nodes().style({"background-color":"white",color:"black"}),n.props.dispatch({type:A.STARTING_MERGESORT_INFO});!function(){var t=0;!function a(){if(n.props.animation){if(t===e.length)return n.props.dispatch({type:A.ARRAY_SORTED_SUCCESS}),void n.refreshLayout();var o=e[t++],i=o.nodes,r=o.duration,s=o.lines,d=o.style,l=o.positions,c=o.shadows;i&&i.forEach(function(e,t){var a=n.cy.getElementById(e.id);a.style({visibility:"visible"}),d&&a.style(d[t]),l&&(Ze.positions[e.id]=l[t])}),c&&c.forEach(function(e){"+"===e.value?n.addShadow(e.id,e.position):n.cy.remove('node[id="'+e.id+'"]')}),n._isMounted&&null!=s&&n.props.dispatch({type:A.CHANGE_LINE,payload:{lines:s}}),n.refreshLayout(),console.log(n.cy.nodes()),setTimeout(a,(void 0===r?1e3/n.props.speed:r)/n.props.speed)}else n.cy.nodes().style(n.nodeStyle)}()}()},n.runButton=function(){if(n.props.animation)return n.props.dispatch({type:A.ANIMATION_END}),void n.initialize();new Promise(function(e,t){n.props.dispatch({type:A.ANIMATION_START}),e(Je(n.state.values,n.cy.width(),n.cy.height()))}).then(function(e){setTimeout(n.executeAnimation,1e3/n.props.speed,e)})},n.handleClose=function(){n.setState({show:!1})},n.changeArray=function(e){n.setState({values:e})},n._mediaRecorder=new L(e.dispatch),n.options=[{name:"Ordenar",run:n.runButton},{name:"Cambiar arreglo",run:function(){return n.setState({show:!0})}}],n}return Object(u.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this.cy=Xe({container:document.getElementById("canvas"),elements:[],style:[{selector:"node",style:this.nodeStyle}],layout:{name:"preset"},headless:!1,styleEnabled:!0,hideEdgesOnViewport:!1,hideLabelsOnViewport:!1,userPanningEnabled:!1,zoomingEnabled:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.2,wheelSensitivity:1,pixelRatio:"1.0",autoungrabify:!0}),this.cy.autopanOnDrag({enabled:!0,speed:.01}),this.layout=this.cy.elements().makeLayout(Ze),this.layout.run(),this.props.dispatch({type:this.props.action,payload:{photo:function(){return e._mediaRecorder.takePicture(e.cy)},gif:function(){return e._mediaRecorder.takeGif(e.cy)},options:this.options}}),this.initialize()}},{key:"componentDidUpdate",value:function(e,t){Ze.animationDuration=500/this.props.speed,t.values!==this.state.values&&this.initialize(),e.animation&&!this.props.animation?this.props.dispatch({type:A.CHANGE_OPTIONS,payload:{options:this.options}}):!e.animation&&this.props.animation&&this.props.dispatch({type:A.CHANGE_OPTIONS,payload:{options:[{name:"Volver a edicion",run:this.runButton}]}})}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:A.ANIMATION_END}),this._isMounted=!1,this.cy.nodes().forEach(function(e){var t=e.id(),n=document.getElementById(t+"popper");n&&document.body.removeChild(n)})}},{key:"refreshLayout",value:function(){this.layout.stop(),this.layout=this.cy.elements().makeLayout(Ze),this.layout.run()}},{key:"initialize",value:function(){var e=this;this.cy.nodes().forEach(function(t){return e.cy.remove(t)});for(var t=0;t<this.state.values.length;t++)this.addNode(t.toString(),this.state.values[t])}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ve,{show:this.state.show,handleClose:this.handleClose,changeArray:this.changeArray,currentValues:this.state.values}),o.a.createElement("div",{id:"canvas",className:"standard-struct"}))}}]),t}(o.a.Component),tt=$e(function(e){return{animation:e.animation,speed:e.speed}})(et),nt=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);for(var a=t.length,o=0;o<a;o++){for(var i=!0,r=0;r<a-1;r++)if(t[r]>t[r+1]){i=!1;var s=[t[r+1],t[r]];t[r]=s[0],t[r+1]=s[1]}if(i)break}return t},at=function(e,t){for(var n=nt(e),a=n.length,o=Array(a).fill().map(function(e,t){return t.toString()}),i=Array(a).fill({"border-width":1,"z-index":0}),r=[],s=0,d=a-1,l=!1;s<=d;){r.push({eles:o,style:i,duration:0});for(var c={eles:[],style:[]},u=s;u<=d;u++)c.eles.push(u.toString()),c.style.push({"border-width":3,"z-index":1});r.push(c);var p=Math.floor((s+d)/2);if(r.push({eles:[p.toString()],style:[{"background-color":"gray","z-index":2}],lines:[3]}),r.push({lines:t<n[p]?[6,7]:n[p]<t?[8,9]:[4,5]}),n[p]===t){r.push({eles:[p.toString()],style:[{"background-color":"lightgreen"}],lines:[4,5]}),l=!0;break}r.push({eles:[p.toString()],style:[{"background-color":"white","z-index":1}],duration:10}),n[p]<t?s=p+1:d=p-1}return l||r.push({eles:[],style:[],lines:[10]}),r},ot=n(14),it=n(25),rt=n(11).connect,st=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(c.a)(t).call(this,e)))._isMounted=!1,n._mediaRecorder=new L,n.cy=it(),n.state={show:!1,showInputModal:!1,values:[1,2,3,4,5,6,7,8]},n.layout={run:function(){},stop:function(){}},n.nodeStyle=ot.NODE,n.options=void 0,n.addNode=function(e,t){n.cy.add({group:"nodes",data:{id:e,value:t},position:{x:n.cy.width()/2-17.5*(n.state.values.length-1)+35*parseInt(e),y:n.cy.height()/4}})},n.executeAnimation=function(e,t){n.cy.nodes().style({"background-color":"white",color:"black"}),n.props.dispatch({type:A.STARTING_BINARY_SEARCH_INFO});!function(){var a=0;!function o(){if(n.props.animation){if(a===e.length)return n.props.dispatch({type:t?A.BINARY_SEARCH_FOUND_SUCCESS:A.BINARY_SEARCH_NOT_FOUND_INFO}),void n.refreshLayout();var i=e[a++],r=i.eles,s=i.style,d=i.duration,l=i.data,c=i.lines;r&&(r.forEach(function(e,t){s&&n.cy.getElementById(e).style(s[t])}),r.forEach(function(e,t){void 0!==l&&n.cy.getElementById(e).data(l[t])})),n._isMounted&&null!=c&&n.props.dispatch({type:A.CHANGE_LINE,payload:{lines:c}}),n.refreshLayout(),setTimeout(o,(void 0===d?1e3/n.props.speed:d)/n.props.speed)}else n.cy.nodes().style(n.nodeStyle)}()}()},n.runButton=function(e){if(n.props.animation)return n.props.dispatch({type:A.ANIMATION_END}),void n.initialize();new Promise(function(t,a){n.props.dispatch({type:A.ANIMATION_START}),t({commands:at(n.state.values,e),found:n.cy.nodes("[value = "+e+"]").length>0})}).then(function(e){setTimeout(n.executeAnimation,1e3/n.props.speed,e.commands,e.found)})},n.handleClose=function(){n.setState({show:!1})},n.changeArray=function(e){var t=nt(e);n.setState({values:t})},n._mediaRecorder=new L(e.dispatch),n.options=[{name:"Buscar",run:function(){return n.setState({showInputModal:!0})}},{name:"Cambiar arreglo",run:function(){return n.setState({show:!0})}}],n}return Object(u.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this.cy=it({container:document.getElementById("canvas"),elements:[],style:[{selector:"node",style:Object(f.a)({},ot.NODE,{shape:"square"})}],layout:{name:"preset"},headless:!1,styleEnabled:!0,hideEdgesOnViewport:!1,hideLabelsOnViewport:!1,userPanningEnabled:!1,zoomingEnabled:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.2,wheelSensitivity:1,pixelRatio:"1.0",autoungrabify:!0}),this.cy.autopanOnDrag({enabled:!0,speed:.01}),this.layout=this.cy.elements().makeLayout({name:"preset"}),this.cy.center(),this.layout.run(),this.props.dispatch({type:this.props.action,payload:{photo:function(){return e._mediaRecorder.takePicture(e.cy)},gif:function(){return e._mediaRecorder.takeGif(e.cy)},options:this.options}}),this.initialize()}},{key:"componentDidUpdate",value:function(e,t){t.values!==this.state.values&&this.initialize(),e.animation&&!this.props.animation?this.props.dispatch({type:A.CHANGE_OPTIONS,payload:{options:this.options}}):!e.animation&&this.props.animation&&this.props.dispatch({type:A.CHANGE_OPTIONS,payload:{options:[{name:"Volver a edicion",run:this.runButton}]}})}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:A.ANIMATION_END}),this._isMounted=!1,this.cy.nodes().forEach(function(e){var t=e.id(),n=document.getElementById(t+"popper");n&&document.body.removeChild(n)})}},{key:"refreshLayout",value:function(){this.layout.stop(),this.layout=this.cy.elements().makeLayout({name:"preset"}),this.layout.run()}},{key:"initialize",value:function(){var e=this,t=this.state.values;this.cy.nodes().forEach(function(t){return e.cy.remove(t)});for(var n=0;n<t.length;n++)this.addNode(n.toString(),t[n]),this.refreshLayout()}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement(M,{show:this.state.showInputModal,handleClose:function(){return e.setState({showInputModal:!1})},callback:function(t){return e.runButton(t)},currentValue:0}),o.a.createElement(Ve,{show:this.state.show,handleClose:this.handleClose,changeArray:this.changeArray,currentValues:this.state.values}),o.a.createElement("div",{id:"canvas",className:"standard-struct"}))}}]),t}(o.a.Component),dt=rt(function(e){return{animation:e.animation,speed:e.speed}})(st),lt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";Object(s.a)(this,e),this._data=[],this._data=Object(K.a)(t),this.type=n}return Object(d.a)(e,[{key:"length",value:function(){return this._data.length}},{key:"push_back",value:function(e,t){var n,a=e.id,o=e.value,i=void 0,r=[];if(0===this.length()?r.push({lines:[2,3]}):this.type===A.SELECT_QUEUE?n=[4,5,6]:this.type===A.SELECT_DOUBLE_LINKED_LIST&&(n=[4,5,6,7]),t)for(var s=0;s<this.length();s++){var d=this._data[s].id;r.push({eles:[d],style:[{"background-color":"black",color:"white"}],lines:[6,7]},{eles:[d],style:[{"background-color":"white",color:"black"}],duration:10})}return this.length()&&(i=this._data[this.length()-1].id),this.type===A.SELECT_SINGLE_LINKED_LIST&&(n=[8]),r.push({eles:[],style:[],inst:[{name:"push_back",data:{id:a,value:o,source:i}}],lines:n}),console.log(r),r}},{key:"pop_back",value:function(e){if(0===this.length())return[];var t=[];if(e)for(var n=0;n<this.length();n++){var a=this._data[n].id,o=void 0;o=1===this.length()?[2,3,4,5]:[7,8,9],t.push({eles:[a],style:[{"background-color":"black",color:"white"}],lines:o},{eles:[a],style:[{"background-color":"white",color:"black"}],duration:10})}var i,r=this._data[this.length()-1].id;return this.type===A.SELECT_SINGLE_LINKED_LIST&&this.length()>1?i=[10,11]:this.type===A.SELECT_DOUBLE_LINKED_LIST&&(t.push({eles:[r],style:[{"background-color":"black",color:"white"}],lines:[2,3]}),i=1===this.length()?[4,5]:[6,7]),t.push({eles:[],style:[],inst:[{name:"pop_back",data:{id:r,value:this.length()-1}}],lines:i}),t}},{key:"push_front",value:function(e){var t,n=e.id,a=e.value,o=void 0;return this.length()&&(o=this._data[0].id),0===this.length()?t=[2,3]:this.type===A.SELECT_SINGLE_LINKED_LIST?t=[4,5,6]:this.type===A.SELECT_DOUBLE_LINKED_LIST?t=[4,5,6,7]:this.type===A.SELECT_STACK&&(t=[4,5,6]),[{eles:[],style:[],inst:[{name:"push_front",data:{id:n,value:a,target:o}}],lines:t}]}},{key:"pop_front",value:function(){if(0===this.length())return[{eles:[],style:[]}];var e,t=this._data[0].id,n=[];return this.type===A.SELECT_SINGLE_LINKED_LIST||this.type===A.SELECT_STACK?e=[2,3,4]:this.type===A.SELECT_DOUBLE_LINKED_LIST?(n.push({eles:[t],style:[{"background-color":"black",color:"white"}],lines:[2,3]}),e=1===this.length()?[4,5]:[6,7]):e=1===this.length()?[3,4]:[5,6],n.push({eles:[],style:[],inst:[{name:"pop_front",data:{id:t}}],lines:e}),n}},{key:"search",value:function(e){for(var t=this.length(),n=[],a=0;a<t;a++){var o=this._data[a].id;if(n.push({eles:[o],style:[{"background-color":"black",color:"white"}]}),this._data[a].value===e)return n.push({eles:[o],style:[{"background-color":"lightgreen",color:"black"}]}),!0;n.push({eles:[o],style:[{"background-color":"white",color:"black"}],duration:10})}return n}},{key:"insert_before",value:function(e,t,n){var a,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this.length(),r=[];for(a=0;a<i;a++){var s=this._data[a].id;if(e===s)break;o&&r.push({eles:[s],style:[{"background-color":"black",color:"white"}],lines:[7,8]},{eles:[s],style:[{"background-color":"white",color:"black"}],duration:10})}if(a===i)return r;var d,l=a,c="",u=e;return d=this.type===A.SELECT_SINGLE_LINKED_LIST?0===l?[2,3,4]:[9,10]:0===l?[5,6]:[7,8],l-1>=0&&(c=this._data[l-1].id,r.push({inst:[{name:"remove_edge",data:{source:c,target:u}}],lines:this.type===A.SELECT_DOUBLE_LINKED_LIST?[2,3,4]:void 0,duration:500})),r.push({inst:[{name:"add_node_before",data:{id:t,value:n,pos:l}},{name:"add_edge",data:{source:c,target:t}},{name:"add_edge",data:{source:t,target:u}}],lines:d}),r}},{key:"insert_after",value:function(e,t,n){var a,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this.length(),r=[];for(a=0;a<i;a++){var s=this._data[a].id;if(o&&r.push({eles:[s],style:[{"background-color":"black",color:"white"}],duration:500},{eles:[s],style:[{"background-color":"white",color:"black"}],duration:10}),e===s)break}if(a===i)return r;var d,l=a,c=e,u="";return l+1<this.length()&&(u=this._data[l+1].id),l+1<this.length()&&r.push({inst:[{name:"remove_edge",data:{source:c,target:u},duration:500}],lines:this.type===A.SELECT_DOUBLE_LINKED_LIST?[2,3,4]:[2,3]}),d=this.type===A.SELECT_DOUBLE_LINKED_LIST?l===this.length()-1?[5,6]:[7,8]:[4],r.push({inst:[{name:"add_node",data:{id:t,value:n,pos:l}},{name:"add_edge",data:{source:c,target:t}},{name:"add_edge",data:{source:t,target:u}}],lines:d,duration:500}),r}},{key:"delete_position",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.length(),o=[];for(t=0;t<a;t++){var i=this._data[t].id;if(n){var r=void 0;r=e===i&&0===t?[1,2]:[6,7,8],o.push({eles:[i],style:[{"background-color":"black",color:"white"}],duration:500,lines:r},{eles:[i],style:[{"background-color":"white",color:"black"}],duration:10})}if(e===i)break}if(t===a)return o;var s,d,l,c=t;if(c>0&&c+1<this.length()&&(s=this._data[c-1].id,d=this._data[c+1].id),this.type===A.SELECT_SINGLE_LINKED_LIST)l=0===c?[3]:[9,10];else if(this.type===A.SELECT_DOUBLE_LINKED_LIST){var u;u=1===this.length()?[2,3]:0===c?[4,5]:c===this.length()-1?[6,7]:[8,9],o.push({eles:[e],style:[{"background-color":"black",color:"white"}],lines:u}),l=[10]}return o.push({inst:[{name:"remove",data:{id:e,value:c,source:s,target:d}}],lines:l,duration:500}),o}}]),e}(),ct=n(25),ut=n(14),pt=n(11).connect,ht={name:"preset",positions:{},padding:30,animate:!0,animationDuration:500},Et=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o))))._mediaRecorder=new L(n.props.dispatch),n._isMounted=!1,n.list=new lt,n.undo=[],n.redo=[],n.layout={run:function(){},stop:function(){}},n.doublyLinked=!1,n.state={showDeleteModal:!1,showPushBeforeModal:!1,showPushBackModal:!1,showPushFrontModal:!1,showPushAfterModal:!1},n.cy=ct(),n.nodeStyle=Object(f.a)({},ut.NODE,{shape:"square"}),n.edgeStyle={},n.handleClickOnNode=function(e){if(!0!==n.props.animation){var t=e.id(),a=n.props.selection;if(a&&"node"===a.type)if(n.cy.getElementById(a.id).style(n.nodeStyle),a.id===t)return void n.props.dispatch({type:A.NO_SELECTION});e.style(ut.NODE_SELECTED),n.props.dispatch({type:A.SELECTION,payload:{selection:{id:t,type:"node"}}})}},n.handleUndo=function(){if(0!==n.undo.length)if(n.props.animation)n.props.dispatch({type:A.ANIMATION_RUNNING_ERROR});else{n.props.dispatch({type:A.NO_SELECTION});var e=n.exportGraph(),t=n.undo.pop();void 0!==t&&(n.redo.push({list:Object(K.a)(n.list._data),elements:e}),n.initialize(t))}},n.handleRedo=function(){if(0!==n.redo.length)if(n.props.animation)n.props.dispatch({type:A.ANIMATION_RUNNING_ERROR});else{n.props.dispatch({type:A.NO_SELECTION});var e=n.exportGraph(),t=n.redo.pop();void 0!==t&&(n.undo.push({list:Object(K.a)(n.list._data),elements:e}),n.initialize(t))}},n.executeAnimation=function(e){n.cy.nodes().style({"background-color":"white",color:"black"});!function(){var t=0;!function a(){if(n._isMounted)if(t!==e.length){if(!n.props.animation)return n.cy.nodes().style(n.nodeStyle),n.cy.edges().style(n.edgeStyle),void n.props.dispatch({type:A.ANIMATION_END});var o=e[t++],i=o.eles,r=o.style,s=o.duration,d=o.inst,l=o.lines;i&&i.forEach(function(e,t){r&&n.cy.getElementById(e).style(r[t])}),d&&d.forEach(function(e){if(null!=e.data){var t=e.data,a=t.id,o=t.value,i=t.source,r=t.target;if("remove"===e.name)void 0!==a&&n.removeNode(a),null!=i&&null!=r&&n.addEdge(i,r),void 0!==o&&n.list._data.splice(o,1);else if("add"===e.name)void 0!==a&&void 0!==o&&(n.addNode(a,o),n.list._data.push({id:a,value:o}),void 0!==i&&n.addEdge(i,a),void 0!==r&&n.addEdge(a,r));else if("push_back"===e.name){if(null!=a&&null!=o){var s=n.list.length();n.addNode(a,o,{x:n.cy.width()/2+35*s,y:n.cy.height()/4-70}),n.list._data.push({id:a,value:o}),null!=i&&n.addEdge(i,a)}}else if("push_front"===e.name)null!=a&&null!=o&&(n.addNode(a,o,{x:n.cy.width()/2-35*n.list.length(),y:n.cy.height()/4-70}),n.list._data.unshift({id:a,value:o}),null!=r&&n.addEdge(a,r));else if("pop_front"===e.name)null!=a&&(n.removeNode(a),n.list._data.shift());else if("pop_back"===e.name)null!=a&&(n.removeNode(a),n.list._data.pop());else if("add_node_before"===e.name){var d=e.data,l=d.id,c=d.value,u=d.pos;if(null!=l&&null!=c&&null!=u){var p=n.cy.width()/2-35*(n.list.length()-1)+70*u;if(n.addNode(l,c,{x:p,y:n.cy.height()/4-70}),0===u)n.list._data.unshift({id:l,value:c});else{var h,E=n.list._data.splice(u);n.list._data.push({id:l,value:c}),n.list._data=(h=n.list._data).concat.apply(h,Object(K.a)(E))}}}else if("add_node"===e.name){var y=e.data,m=y.id,f=y.value,g=y.pos;if(null!=m&&null!=f&&null!=g){var v=n.cy.width()/2-35*(n.list.length()-1)+70*g;if(n.addNode(m,f,{x:v,y:n.cy.height()/4-70}),++g===n.list.length())n.list._data.push({id:m,value:f});else{var _,N=n.list._data.splice(g);n.list._data.push({id:m,value:f}),n.list._data=(_=n.list._data).concat.apply(_,Object(K.a)(N))}}}else if("add_edge"===e.name){var S=e.data,I=S.source,O=S.target;I&&O&&(console.log("ADD",I,O),n.addEdge(I,O))}else if("remove_edge"===e.name){var A=e.data,b=A.source,R=A.target;b&&R&&(n.removeEdge(b+"-"+R),n.doublyLinked&&n.removeEdge(R+"-"+b))}}}),null!=l&&n._isMounted&&n.props.dispatch({type:A.CHANGE_LINE,payload:{lines:l}}),n.refreshLayout(),setTimeout(a,(void 0===s?500:s)/n.props.speed)}else n.props.dispatch({type:A.ANIMATION_END})}()}()},n.removeNode=function(e){n.cy.remove('node[id="'+e+'"]')},n.removeEdge=function(e){n.cy.remove('edge[id="'+e+'"]')},n}return Object(u.a)(t,e),Object(d.a)(t,[{key:"initialize",value:function(e){var t=this;this.edgeStyle=Object(f.a)({},ut.EDGE,ut.EDGE_DIRECTED),this.doublyLinked&&(this.edgeStyle=Object(f.a)({},this.edgeStyle,ut.EDGE_DOUBLE));var n=e.list,a=e.elements;this.cy=ct({container:document.getElementById("canvas"),elements:a,style:[{selector:"node",style:Object(f.a)({},ut.NODE,{shape:"square"})},{selector:"edge",style:this.edgeStyle}],layout:{name:"preset"},headless:!1,styleEnabled:!0,hideEdgesOnViewport:!1,hideLabelsOnViewport:!1,userPanningEnabled:!1,zoomingEnabled:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.2,wheelSensitivity:1,pixelRatio:"1.0",autoungrabify:!0}),this.list._data=n,this.cy.on("click","node",function(e){return t.handleClickOnNode(e.target)}),this.cy.on("resize",function(){return t.refreshLayout(!1)}),this.layout=this.cy.elements().makeLayout(ht),this.layout.run(),this.refreshLayout(!1)}},{key:"componentDidUpdate",value:function(){ht.animationDuration=500/this.props.speed}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this.doublyLinked=this.props.type===A.SELECT_DOUBLE_LINKED_LIST,this.list.type=this.props.type,this.initialize({list:[],elements:[]});var t=[];this.props.type===A.SELECT_SINGLE_LINKED_LIST||this.props.type===A.SELECT_DOUBLE_LINKED_LIST?t=[{name:"Insertar al frente",run:function(){return e.props.animation?e.props.dispatch({type:A.ANIMATION_RUNNING_ERROR}):e.setState({showPushFrontModal:!0})}},{name:"Insertar al final",run:function(){return e.props.animation?e.props.dispatch({type:A.ANIMATION_RUNNING_ERROR}):e.setState({showPushBackModal:!0})}},{name:"Extraer frente",run:function(){return e.popFront()}},{name:"Extraer final",run:function(){return e.popBack(!e.doublyLinked)}},{name:"Insertar antes de",run:function(){return e.props.selection?e.setState({showPushBeforeModal:!0}):e.props.dispatch({type:A.NO_NODE_SELECTED_ERROR})}},{name:"Insertar despues de",run:function(){return e.props.selection?e.setState({showPushAfterModal:!0}):e.props.dispatch({type:A.NO_NODE_SELECTED_ERROR})}},{name:"Eliminar nodo",run:function(){return e.remove(!e.doublyLinked)}}]:this.props.type===A.SELECT_STACK?t=[{name:"Apilar",run:function(){return e.props.animation?e.props.dispatch({type:A.ANIMATION_RUNNING_ERROR}):e.setState({showPushFrontModal:!0})}},{name:"Desapilar",run:function(){return e.popFront()}}]:this.props.type===A.SELECT_QUEUE&&(t=[{name:"Encolar",run:function(){return e.props.animation?e.props.dispatch({type:A.ANIMATION_RUNNING_ERROR}):e.setState({showPushBackModal:!0})}},{name:"Desencolar",run:function(){return e.popFront()}}]),this.props.dispatch({type:this.props.action,payload:{photo:function(){return e._mediaRecorder.takePicture(e.cy)},gif:function(){return e._mediaRecorder.takeGif(e.cy)},undo:this.handleUndo,redo:this.handleRedo,options:t,type:this.props.type}})}},{key:"layoutProcessing",value:function(){var e=this.list.length();if(0!==e)for(var t=this.cy.width()/2,n=0;n<e;n++){var a=this.list._data[n].id;ht.positions[a]={x:t-35*(e-1)+70*n,y:this.cy.height()/4}}}},{key:"refreshLayout",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.layout.stop(),this.layoutProcessing(),this.layout=this.cy.elements().makeLayout(Object(f.a)({},ht,{animate:e})),this.layout.run()}},{key:"pushState",value:function(){this.redo=[],this.undo.push({list:Object(K.a)(this.list._data),elements:this.exportGraph()})}},{key:"exportGraph",value:function(){var e=[];return this.cy.nodes().forEach(function(t){e.push({group:"nodes",data:{id:t.id(),value:t.data("value")},position:{x:t.position().x,y:t.position().y}})}),this.cy.edges().forEach(function(t){e.push({group:"edges",data:{id:t.id(),source:t.source().id(),target:t.target().id(),weight:t.data("weight")}})}),e}},{key:"addNode",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0};this.cy.add({group:"nodes",data:{id:e,value:t},position:{x:n.x,y:n.y}}),ht.positions[e]=n}},{key:"addEdge",value:function(e,t){this.cy.add({group:"edges",data:{id:e+"-"+t,source:e,target:t,weight:"sig"}})}},{key:"pushBack",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.props.animation)this.props.dispatch({type:A.ANIMATION_RUNNING_ERROR});else{this.props.dispatch({type:A.CHANGE_PSEUDO,payload:{pseudo:this.props.pseudoset.pushBack}}),this.pushState();for(var a=0;this.cy.getElementById(a.toString()).length>0;)a++;new Promise(function(o,i){e.props.dispatch({type:A.ANIMATION_START}),o(e.list.push_back({id:a.toString(),value:t},n))}).then(function(t){e.executeAnimation(t)})}}},{key:"pushFront",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.props.animation)this.props.dispatch({type:A.ANIMATION_RUNNING_ERROR});else{this.pushState(),this.props.dispatch({type:A.CHANGE_PSEUDO,payload:{pseudo:this.props.pseudoset.pushFront}});for(var n=0;this.cy.getElementById(n.toString()).length>0;)n++;new Promise(function(a,o){e.props.dispatch({type:A.ANIMATION_START}),a(e.list.push_front({id:n.toString(),value:t}))}).then(function(t){e.executeAnimation(t)})}}},{key:"popFront",value:function(){var e=this;this.props.animation?this.props.dispatch({type:A.ANIMATION_RUNNING_ERROR}):0!==this.list.length()?(this.props.dispatch({type:A.CHANGE_PSEUDO,payload:{pseudo:this.props.pseudoset.popFront}}),this.pushState(),new Promise(function(t,n){e.props.dispatch({type:A.ANIMATION_START}),t(e.list.pop_front())}).then(function(t){e.executeAnimation(t)})):this.props.dispatch({type:A.EMPTY_LIST_WARNING})}},{key:"popBack",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.props.animation?this.props.dispatch({type:A.ANIMATION_RUNNING_ERROR}):0!==this.list.length()?(this.props.dispatch({type:A.CHANGE_PSEUDO,payload:{pseudo:this.props.pseudoset.popBack}}),this.pushState(),new Promise(function(n,a){e.props.dispatch({type:A.ANIMATION_START}),n(e.list.pop_back(t))}).then(function(t){e.executeAnimation(t)})):this.props.dispatch({type:A.EMPTY_LIST_WARNING})}},{key:"remove",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.props.animation)this.props.dispatch({type:A.ANIMATION_RUNNING_ERROR});else{var n=this.props.selection;if(n){if(!this.props.animation){this.props.dispatch({type:A.CHANGE_PSEUDO,payload:{pseudo:this.props.pseudoset.remove}}),this.pushState();var a=n.id;new Promise(function(n,o){e.props.dispatch({type:A.ANIMATION_START}),n(e.list.delete_position(a,t))}).then(function(t){e.executeAnimation(t)})}}else this.props.dispatch({type:A.NO_NODE_SELECTED_ERROR})}}},{key:"insert",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.props.animation)this.props.dispatch({type:A.ANIMATION_RUNNING_ERROR});else{var o=this.props.selection;if(o){this.props.dispatch({type:A.CHANGE_PSEUDO,payload:{pseudo:"before"===n?this.props.pseudoset.insertBefore:this.props.pseudoset.insertAfter}}),this.pushState();for(var i=o.id,r=0;this.cy.getElementById(r.toString()).length>0;)r++;new Promise(function(o,s){e.props.dispatch({type:A.ANIMATION_START}),o("before"===n?e.list.insert_before(i,r.toString(),t,a):e.list.insert_after(i,r.toString(),t,a))}).then(function(t){e.executeAnimation(t)})}else this.props.dispatch({type:A.NO_NODE_SELECTED_ERROR})}}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement(M,{show:this.state.showPushFrontModal,handleClose:function(){return e.setState({showPushFrontModal:!1})},callback:function(t){return e.pushFront(t)}}),o.a.createElement(M,{show:this.state.showPushBackModal,handleClose:function(){return e.setState({showPushBackModal:!1})},callback:function(t){return e.pushBack(t,e.props.type===A.SELECT_SINGLE_LINKED_LIST)}}),o.a.createElement(M,{show:this.state.showPushBeforeModal,handleClose:function(){return e.setState({showPushBeforeModal:!1})},callback:function(t){return e.insert(t,"before",e.props.type===A.SELECT_SINGLE_LINKED_LIST)}}),o.a.createElement(M,{show:this.state.showPushAfterModal,handleClose:function(){return e.setState({showPushAfterModal:!1})},callback:function(t){return e.insert(t,"after")}}),o.a.createElement("div",{id:"canvas",className:"standard-struct"}))}}]),t}(o.a.Component),yt=pt(function(e){return{animation:e.animation,speed:e.speed,selection:e.selection}})(Et),mt=n(43),ft=mt.HashRouter,gt=mt.Route,vt=function(e){function t(e){return Object(s.a)(this,t),Object(l.a)(this,Object(c.a)(t).call(this,e))}return Object(u.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement(y.a,null,o.a.createElement(m.a,null,o.a.createElement(ft,null,o.a.createElement(gt,{path:"/BFS",render:function(){return o.a.createElement(V,Ue.BFS)}}),o.a.createElement(gt,{path:"/DFS",render:function(){return o.a.createElement(V,Ue.DFS)}}),o.a.createElement(gt,{path:"/Dijkstra",render:function(){return o.a.createElement(V,Ue.Dijkstra)}}),o.a.createElement(gt,{path:"/Prim",render:function(){return o.a.createElement(V,Ue.Prim)}}),o.a.createElement(gt,{path:"/Kruskal",render:function(){return o.a.createElement(V,Ue.Kruskal)}}),o.a.createElement(gt,{path:"/Heap",render:function(){return o.a.createElement(oe,Ue.Heap)}}),o.a.createElement(gt,{path:"/AVL",render:function(){return o.a.createElement(Ae,Ue.AVL)}}),o.a.createElement(gt,{path:"/BubbleSort",render:function(){return o.a.createElement(qe,Ue.BubbleSort)}}),o.a.createElement(gt,{path:"/MergeSort",render:function(){return o.a.createElement(tt,Ue.MergeSort)}}),o.a.createElement(gt,{path:"/binarysearch",render:function(){return o.a.createElement(dt,Ue.BinarySearch)}}),o.a.createElement(gt,{path:"/SingleLinkedList",render:function(){return o.a.createElement(yt,Ue.SingleLinkedList)}}),o.a.createElement(gt,{path:"/DoubleLinkedList",render:function(){return o.a.createElement(yt,Ue.DoubleLinkedList)}}),o.a.createElement(gt,{path:"/Queue",render:function(){return o.a.createElement(yt,Ue.Queue)}}),o.a.createElement(gt,{path:"/Stack",render:function(){return o.a.createElement(yt,Ue.Stack)}}))))}}]),t}(o.a.Component),_t=n(43),Nt=_t.NavLink,St=_t.HashRouter,It=((0,n(11).connect)(function(e){return{algorithm:e.algorithm}})(function(e){for(var t=[{name:"BFS"},{name:"DFS"},{name:"Dijkstra"},{name:"Prim"},{name:"Kruskal"},{name:"Heap"},{name:"AVL"},{name:"BubbleSort"},{name:"MergeSort"}],n=[],a=0;a<t.length;a++)n.push(o.a.createElement(Nt,{to:"/"+t[a].name},o.a.createElement("li",{className:t[a].name===e.algorithm?"active":"normal"},t[a].name)));return o.a.createElement(St,null,o.a.createElement("ul",null,n))}),[{text:"BFS(Grafo G(V,E), nodo inicio):",ind:0},{text:"Para cada nodo u \u2208 V:",ind:1},{text:"color[u]=Blanco",ind:2},{text:"color[inicio]=Gris:",ind:1},{text:"encolar(cola, inicio)",ind:1},{text:"Mientras no vacio(cola):",ind:1},{text:"u=extraer(cola)",ind:2},{text:"color[u]=Negro",ind:2},{text:"Para cada v adyacente a u:",ind:2},{text:"Si color[v] es Blanco:",ind:3},{text:"color[v]=Gris",ind:4},{text:"encolar(cola, v)",ind:4}]),Ot=function(e){var t=e.op,n=Array();return t.forEach(function(e){var t=e.name,a=e.run;n.push(o.a.createElement("button",{onClick:a},t))}),o.a.createElement(o.a.Fragment,null,n)},At=(0,n(11).connect)(function(e){return{speed:e.speed}})(function(e){return o.a.createElement(y.a,null,o.a.createElement(m.a,{xs:12},o.a.createElement("input",{type:"range",min:"0.25",max:"5",value:e.speed,id:"myRange",step:"0.05",onChange:function(t){e.dispatch({type:A.CHANGE_SPEED,payload:{speed:t.currentTarget.value}})}})))}),bt=n(11).connect,Rt={BFS:"BFS",DFS:"DFS",Dijkstra:"Dijkstra",Prim:"Prim",Kruskal:"Kruskal",Heap:"Min Heap",AVL:"Arbol AVL",BubbleSort:"Bubble Sort",MergeSort:"Merge Sort",BinarySearch:"Busqueda Binaria",SingleLinkedList:"Lista enlazada",DoubleLinkedList:"Lista doble",Queue:"Cola",Stack:"Pila"},Lt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).state={showActions:!0},n}return Object(u.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props.algorithm),o.a.createElement("div",{className:"footer"},"none"!==this.props.algorithm&&o.a.createElement(y.a,null,o.a.createElement(m.a,{md:2},o.a.createElement("div",{className:"dropup"},o.a.createElement("button",{className:"dropdown-button",onClick:function(){return e.setState({showActions:!e.state.showActions})}},Rt[this.props.algorithm]),this.state.showActions&&o.a.createElement("div",{className:"actions-menu"},o.a.createElement(Ot,{op:this.props.options})))),o.a.createElement(m.a,{md:2},o.a.createElement("span",null,"Velocidad"),o.a.createElement(At,null)),o.a.createElement(m.a,{md:1},o.a.createElement("button",{className:"dropdown-button",onClick:this.props.undo},"Deshacer")),o.a.createElement(m.a,{md:1},o.a.createElement("button",{className:"dropdown-button",onClick:this.props.redo},"Rehacer")),o.a.createElement(m.a,{md:{span:2,offset:4}},o.a.createElement("button",{className:"dropdown-button",onClick:function(){return e.props.dispatch({type:A.TOGGLE_PSEUDO})}},"Pseudocodigo"))))}}]),t}(o.a.Component),xt=bt(function(e){return{algorithm:e.algorithm,run:e.run,options:e.options,undo:e.undo,redo:e.redo}})(Lt),Tt=n(11).connect,Ct=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).handleClick=function(){n.props.dispatch({type:A.PHOTO_SUCCESS}),n.props.callback()},n}return Object(u.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("button",{className:"dropdown-button",onClick:this.handleClick},"Foto")}}]),t}(o.a.Component),Dt=Tt()(Ct),kt=n(11).connect,Gt=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(d.a)(t,[{key:"handleClick",value:function(){this.props.callback()}},{key:"render",value:function(){var e=this,t=this.props.timeEllapsed,n=Math.floor(t/10).toString(),a=(t%10).toString();return 1===n.length&&(n="0"+n),o.a.createElement("button",{className:"dropdown-button",onClick:function(){return e.handleClick()}},"GIF 0:",n,":",a)}}]),t}(o.a.Component),wt=kt(function(e){return{timeEllapsed:e.gifLength}})(Gt),Bt=n(11).connect,Mt=n(43),jt=Mt.NavLink,Ut=Mt.HashRouter,Ft=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=[o.a.createElement(jt,{to:"/BFS"},o.a.createElement("button",{className:"dropdown-button"},"BFS")),o.a.createElement(jt,{to:"/DFS"},o.a.createElement("button",{className:"dropdown-button"},"DFS")),o.a.createElement(jt,{to:"/Dijkstra"},o.a.createElement("button",{className:"dropdown-button"},"Dijkstra"))],t=[o.a.createElement(jt,{to:"/Kruskal"},o.a.createElement("button",{className:"dropdown-button"},"Kruskal")),o.a.createElement(jt,{to:"/Prim"},o.a.createElement("button",{className:"dropdown-button"},"Prim"))],n=[o.a.createElement(jt,{to:"/bubblesort"},o.a.createElement("button",{className:"dropdown-button"},"Bubble Sort")),o.a.createElement(jt,{to:"/mergesort"},o.a.createElement("button",{className:"dropdown-button"},"Merge Sort")),o.a.createElement(jt,{to:"/binarysearch"},o.a.createElement("button",{className:"dropdown-button"},"Busqueda Binaria"))],a=[o.a.createElement(jt,{to:"/SingleLinkedList"},o.a.createElement("button",{className:"dropdown-button"},"Lista enlazada")),o.a.createElement(jt,{to:"/Queue"},o.a.createElement("button",{className:"dropdown-button"},"Cola")),o.a.createElement(jt,{to:"/Stack"},o.a.createElement("button",{className:"dropdown-button"},"Pila")),o.a.createElement(jt,{to:"/DoublelinkedList"},o.a.createElement("button",{className:"dropdown-button"},"Lista doble")),o.a.createElement(jt,{to:"/heap"},o.a.createElement("button",{className:"dropdown-button"},"Min Heap")),o.a.createElement(jt,{to:"/AVL"},o.a.createElement("button",{className:"dropdown-button"},"Arbol AVL"))];return o.a.createElement("div",{className:"top-bar"},o.a.createElement(y.a,null,o.a.createElement(m.a,{md:2},o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"dropdown-button"},"Algoritmos"),o.a.createElement(Ut,null,o.a.createElement("div",{className:"dropdown-menu"},o.a.createElement("div",{className:"dropright"},o.a.createElement("button",{className:"dropdown-button"},"Algoritmos de Busqueda"),o.a.createElement("div",{className:"right-menu"},e)),o.a.createElement("div",{className:"dropright"},o.a.createElement("button",{className:"dropdown-button"},"Arbol Recubridor Minimo"),o.a.createElement("div",{className:"right-menu"},t)),o.a.createElement("div",{className:"dropright"},o.a.createElement("button",{className:"dropdown-button"},"Arreglos"),o.a.createElement("div",{className:"right-menu"},n)),o.a.createElement("div",{className:"dropright"},o.a.createElement("button",{className:"dropdown-button"},"Estructuras de Datos"),o.a.createElement("div",{className:"right-menu"},a)))))),o.a.createElement(m.a,{md:1},o.a.createElement(Dt,{callback:this.props.photo})),o.a.createElement(m.a,{md:1},o.a.createElement(wt,{callback:this.props.gif}))))}}]),t}(o.a.Component),Pt=Bt(function(e){return Object(f.a)({},e)})(Ft),Ht=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("body",null,o.a.createElement("div",null,o.a.createElement(E.a,null,o.a.createElement(h.a,null),o.a.createElement(S,null),o.a.createElement(Pt,null),o.a.createElement(y.a,null,o.a.createElement(m.a,null,o.a.createElement(vt,{algorithm:this.props.algorithm}))),o.a.createElement(xt,null))))}}]),t}(o.a.Component);n(120),n(121),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Vt=n(36),Kt=n(11),zt=[{text:"DFS_visitar(nodo u):",ind:0},{text:"color[u]=Gris",ind:1},{text:"Para cada v adyacente a u:",ind:1},{text:"Si color[v] es blanco:",ind:2},{text:"DFS_visitar(v)",ind:3},{text:"color[u]=Negro",ind:1},{text:"\u2063",ind:0},{text:"DFS(Grafo G(V,E), Nodo inicio):",ind:0},{text:"Para cada u \u2208 V",ind:1},{text:"color[u]=blanco:",ind:2},{text:"DFS_visitar(u)",ind:1}],Yt=[{text:"Dijkstra(Grafo G(V,E), nodo inicio):",ind:0},{text:"Para cada u \u2208 V:",ind:1},{text:"distancia[u]=\u221e",ind:2},{text:"encolar(cola, <inicio,0>)",ind:1},{text:"Mientras no vacio(cola):",ind:1},{text:"u=extraer_minimo(cola)",ind:2},{text:"Para cada v adyacente a u:",ind:2},{text:"Si distancia[u]+peso(u,v)<distancia[v]:",ind:3},{text:"distancia[v]=distancia[u]+peso(u,v)",ind:4},{text:"actualizar(cola, <v,distancia[v]>)",ind:4}],Wt=[{text:"Kruskal(Grafo G(V,E)):",ind:0},{text:"F=Vacio",ind:1},{text:"ordenar_por_peso(E)",ind:1},{text:"Para cada arista (u, v) \u2208 E:",ind:1},{text:"Si no_camino(u,v):",ind:2},{text:"A\xf1adir (u, v) a F",ind:3},{text:"Retornar F",ind:1}],qt=[{text:"OrdenamientoBurbuja(Arreglo A):",ind:0},{text:"Repetir:",ind:1},{text:"Ordenado=Verdad",ind:2},{text:"Para i=1 hasta longitud(A)-1:",ind:2},{text:"Si A[i-1] > A[i]:",ind:3},{text:"Intercambiar(A[i-1], A[i])",ind:4},{text:"Ordenado=Falso",ind:4},{text:"Hasta Ordenado",ind:1}],Jt=[{text:"mergeSort(Arrego A[n]):",ind:0},{text:"Si n==1:",ind:1},{text:"Retornar A",ind:2},{text:"Arreglo L=mergeSort(A[0..n/2))",ind:1},{text:"Arreglo R=mergeSort(A[n/2..n))",ind:1},{text:"retornar merge(L,R)",ind:1},{text:"\u2063",ind:0},{text:"merge(Arreglo L[n], Arreglo R[m]):",ind:0},{text:"Arreglo M[n+m]",ind:1},{text:"p=0, i=0, j=0",ind:1},{text:"Mientras i<n o j<m :",ind:1},{text:"Si j==m o (i<n y L[i]\u2264R[j]):",ind:2},{text:"M[p]=L[i], p=p+1, i=i+1",ind:3},{text:"Sino:",ind:2},{text:"M[p]=R[j], p=p+1, j=j+1",ind:3},{text:"Retornar M",ind:1}],Qt=[{text:"Prim(Grafo G(V,E)):",ind:0},{text:"F=Vacio",ind:1},{text:"Para cada u \u2208 V",ind:1},{text:"distancia[u]=\u221e",ind:2},{text:"padre[u]=u",ind:2},{text:"encolar(cola,<u,\u221e>)",ind:2},{text:"Mientras no vacio(cola):",ind:1},{text:"u=extraer_minimo(cola)",ind:2},{text:"A\xf1adir u a F",ind:2},{text:"Si padre[u]!=u:",ind:2},{text:"A\xf1adir (padre[u], u) a F",ind:3},{text:"Para cada v adyacente a u:",ind:2},{text:"Si v \u2209 F y peso(u,v)<distancia[v]:",ind:3},{text:"Actualizar(cola,<v,peso(u,v)>)",ind:4},{text:"distancia[v]=peso(u,v)",ind:4},{text:"retornar F",ind:1}],Xt=[{text:"BusquedaBinaria(Arreglo A[0..n), entero v):",ind:0},{text:"inf=0, sup=n-1",ind:1},{text:"Mientras inf \u2264 sup:",ind:1},{text:"medio=(inf+sup)/2",ind:2},{text:"Si v == A[medio]:",ind:2},{text:"Retornar Verdadero",ind:3},{text:"Si v < A[medio]:",ind:2},{text:"sup=medio-1",ind:3},{text:"Sino",ind:2},{text:"inf=medio+1",ind:3},{text:"Retornar falso",ind:1}],$t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A.SELECT_BFS:return Object(f.a)({},e,{algorithm:"BFS",selection:null,pseudo:It,run:t.payload.run,options:t.payload.options,photo:t.payload.photo,gif:t.payload.gif,undo:t.payload.undo,redo:t.payload.redo});case A.SELECT_DFS:return Object(f.a)({},e,{algorithm:"DFS",selection:null,pseudo:zt,run:t.payload.run,options:t.payload.options,photo:t.payload.photo,gif:t.payload.gif,undo:t.payload.undo,redo:t.payload.redo});case A.SELECT_DIJKSTRA:return Object(f.a)({},e,{algorithm:"Dijkstra",selection:null,pseudo:Yt,run:t.payload.run,options:t.payload.options,photo:t.payload.photo,gif:t.payload.gif,undo:t.payload.undo,redo:t.payload.redo});case A.SELECT_KRUSKAL:return Object(f.a)({},e,{algorithm:"Kruskal",selection:null,pseudo:Wt,run:t.payload.run,options:t.payload.options,photo:t.payload.photo,gif:t.payload.gif,undo:t.payload.undo,redo:t.payload.redo});case A.SELECT_PRIM:return Object(f.a)({},e,{algorithm:"Prim",selection:null,pseudo:Qt,run:t.payload.run,options:t.payload.options,photo:t.payload.photo,gif:t.payload.gif,undo:t.payload.undo,redo:t.payload.redo});case A.SELECT_HEAP:return Object(f.a)({},e,{algorithm:"Heap",selection:null,options:t.payload.options,pseudo:$,photo:t.payload.photo,gif:t.payload.gif,undo:t.payload.undo,redo:t.payload.redo});case A.SELECT_AVL:return Object(f.a)({},e,{algorithm:"AVL",selection:null,pseudo:ve,options:t.payload.options,photo:t.payload.photo,gif:t.payload.gif,undo:t.payload.undo,redo:t.payload.redo});case A.SELECT_BUBBLESORT:return Object(f.a)({},e,{algorithm:"BubbleSort",selection:null,pseudo:qt,options:t.payload.options,photo:t.payload.photo,gif:t.payload.gif,undo:function(){},redo:function(){}});case A.SELECT_MERGESORT:return Object(f.a)({},e,{algorithm:"MergeSort",selection:null,pseudo:Jt,options:t.payload.options,photo:t.payload.photo,gif:t.payload.gif,undo:function(){},redo:function(){}});case A.SELECT_BINARY_SEARCH:return Object(f.a)({},e,{algorithm:"BinarySearch",selection:null,pseudo:Xt,options:t.payload.options,photo:t.payload.photo,gif:t.payload.gif,undo:function(){},redo:function(){}});case A.SELECT_LINKED_LIST:var n=Object(f.a)({},e,{selection:null,options:t.payload.options,photo:t.payload.photo,gif:t.payload.gif,undo:t.payload.undo,redo:t.payload.redo});switch(t.payload.type){case A.SELECT_SINGLE_LINKED_LIST:return Object(f.a)({},n,{algorithm:"SingleLinkedList",pseudo:je.singlySet.main});case A.SELECT_DOUBLE_LINKED_LIST:return Object(f.a)({},n,{algorithm:"DoubleLinkedList",pseudo:je.doublySet.main});case A.SELECT_QUEUE:return Object(f.a)({},n,{algorithm:"Queue",pseudo:je.queueSet.main});case A.SELECT_STACK:return Object(f.a)({},n,{algorithm:"Stack",pseudo:je.stackSet.main})}default:return e}},Zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A.ANIMATION_START:return Object(f.a)({},e,{selection:null,animation:!0});case A.ANIMATION_END:return Object(f.a)({},e,{animation:!1,lines:null});case A.DEC_SPEED:return Object(f.a)({},e,{speed:Math.min(e.speed+.1,2)});case A.INC_SPEED:return Object(f.a)({},e,{speed:Math.max(e.speed-.1,0)});case A.CHANGE_SPEED:return Object(f.a)({},e,{speed:t.payload.speed});case A.CHANGE_PSEUDO:return Object(f.a)({},e,{pseudo:t.payload.pseudo});case A.SHOW_PSEUDO:return Object(f.a)({},e,{showPseudo:!0});case A.TOGGLE_PSEUDO:return Object(f.a)({},e,{showPseudo:!e.showPseudo});case A.CHANGE_LINE:return Object(f.a)({},e,{lines:t.payload.lines});case A.CHANGE_OPTIONS:return Object(f.a)({},e,{options:t.payload.options});default:return e}},en=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A.CLEAR_GRAPH:return Object(f.a)({},e,{selection:null,animation:!1});case A.LOAD_GRAPH:return Object(f.a)({},e,{loadingGraph:!0,animation:!1,data:t.payload.data});case A.FINISHED_LOAD:return Object(f.a)({},e,{loadingGraph:!1,data:null});case A.INC_GIF_LENGTH:return Object(f.a)({},e,{gifLength:e.gifLength+1});case A.RESET_GIF_LENGTH:return Object(f.a)({},e,{gifLength:0});default:return e}},tn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A.NO_SELECTION:return Object(f.a)({},e,{selection:null});case A.SELECTION:return Object(f.a)({},e,{selection:t.payload.selection});default:return e}},nn=function(e,t,n){p.store.addNotification({title:e,message:t,type:n,insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:5e3,onscreen:!0,showIcon:!0}})},an=function(e){switch(e.type){case A.NO_NODE_SELECTED_ERROR:nn("Error","Seleccione un nodo para ejecutar el algoritmo","danger");break;case A.NO_EDGE_SELECTED_ERROR:nn("Error","Seleccione una arista para cambiar su peso","danger");break;case A.NO_ELEMENT_SELECTED_ERROR:nn("Error","Debe seleccionar un elemento para eliminarlo","danger");break;case A.INVALID_INTEGER_ERROR:nn("Error","Debe ingresar un numero entero entre -999 y 999","danger");break;case A.INVALID_ARRAY_ERROR:nn("Arreglo invalido","Verifique que el arreglo cumpla con los requerimientos","danger");break;case A.INVALID_GRAPH_ERROR:nn("Error","Existe un error con el archivo, intente de nuevo con otro archivo","danger");break;case A.INVALID_HEAP_ERROR:nn("Error","El archivo proporcionado no representa un Heap valido. Intente con otro archivo","danger");break;case A.INVALID_AVL_ERROR:nn("Error","El archivo proporcionado no representa un AVL valido. Intente con otro archivo","danger");break;case A.ANIMATION_RUNNING_ERROR:nn("Error","No se pueden hacer modificaciones mientras se ejecuta el algoritmo","warning");break;case A.EMPTY_LIST_WARNING:nn("La lista se encuentra vacia","No se pudo realizar la accion","warning");break;case A.EMPTY_HEAP_WARNING:nn("Heap vacio","No se puede extraer el minimo elemento de un heap vacio","warning");break;case A.DIJKSTRA_NEGATIVE_WEIGHT_WARNING:nn("Cuidado con las aristas con peso negativo","El algoritmo de Dijkstra puede no obtener el camino minimo si hay aristas negativas","warning");break;case A.AVL_NOT_FOUND_INFO:nn("El elemento no fue encontrado en el arbol AVL","Debe volver a la edicion para modificar el arreglo","info");break;case A.AVL_ELEMENT_ALREADY_INFO:nn("Elemento en el arbol","El elemento ya se encuentra en el arbol AVL","info");break;case A.STARTING_BFS_INFO:nn("","Realizando BFS desde el nodo seleccionado","info");break;case A.STARTING_DFS_INFO:nn("","Realizando DFS desde el nodo seleccionado","info");break;case A.STARTING_DIJKSTRA_INFO:nn("","Calculando caminos de peso minimo desde el nodo seleccionado mediante Dijkstra","info");break;case A.STARTING_KRUSKAL_INFO:nn("","Obteniendo arbol recubridor minimo mediante el algoritmo de Kruskal","info");break;case A.STARTING_PRIM_INFO:nn("","Obteniendo arbol recubridor minimo mediante el algoritmo de Prim","info");break;case A.STARTING_BUBBLESORT_INFO:nn("","Ordenando el arreglo mediante ordenamiento burbuja","info");break;case A.STARTING_MERGESORT_INFO:nn("","Ordenando el arreglo mediante ordenamiento por mezcla","info");break;case A.STARTING_BINARYSEARCH_INFO:nn("","Realizando busqueda binaria sobre el arreglo","info");break;case A.STARTING_GIF_RECORDING_INFO:nn("Creacion de GIF iniciada","La grabacion tendra una duracion maxima de 30 segundos","info");break;case A.FINISHED_GIF_RECORDING_INFO:nn("Grabacion de GIF terminada","Procesando GIF para descargar","info");break;case A.SORTING_BINARY_SEARCH_INFO:nn("Solo arreglos ordenados","Los arreglos se ordenaran para realizar la busqueda binaria","info");break;case A.BINARY_SEARCH_NOT_FOUND_INFO:nn("El elemento no se encuentra en el arreglo","Debe volver a la edicion para modificar el arreglo","info");break;case A.FINISHED_GIF_SUCCESS:nn("Creacion de GIF terminada","El archivo GIF sera descargado a su dispositivo","success");break;case A.LOAD_GRAPH_SUCCESS:nn("Grafo cargado con exito"," ","success");break;case A.PHOTO_SUCCESS:nn("Captura realizada","La captura sera descargada a su dispositivo","success");break;case A.FINISHED_ALGORITHM_SUCCESS:nn("Ejecucion terminada exitosamente","Debe volver a la edicion para modificar el grafo","success");break;case A.AVL_FOUND_SUCCESS:nn("Busqueda terminada","El elemento fue encontrado en el arbol AVL","success");break;case A.ARRAY_SORTED_SUCCESS:nn("El arreglo fue ordenado exitosamente","Debe volver a la edicion para modificar el arreglo","success");break;case A.BINARY_SEARCH_FOUND_SUCCESS:nn("El elemento fue encontrado en el arreglo","Debe volver a la edicion para modificar el arreglo","success")}},on={algorithm:"none",selection:null,animation:!1,speed:.75,loadingGraph:!1,data:null,pseudo:null,lines:null,run:function(){},options:[],photo:function(){},gif:function(){},gifLength:0,showPseudo:!0,undo:function(){},redo:function(){}},rn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on,t=arguments.length>1?arguments[1]:void 0,n=e;return n=$t(n,t),n=Zt(n,t),n=en(n,t),n=tn(n,t),an(t),n},sn=Object(Vt.b)(rn);r.a.render(o.a.createElement(Kt.Provider,{store:sn},o.a.createElement(Ht,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},14:function(e,t,n){"use strict";n.r(t),n.d(t,"NODE",function(){return a}),n.d(t,"NODE_GRAY",function(){return o}),n.d(t,"NODE_RED",function(){return i}),n.d(t,"NODE_BLACK",function(){return r}),n.d(t,"NODE_CORRECT",function(){return s}),n.d(t,"NODE_WRONG",function(){return d}),n.d(t,"NODE_SELECTED",function(){return l}),n.d(t,"EDGE",function(){return c}),n.d(t,"EDGE_VISITED",function(){return u}),n.d(t,"EDGE_TRAVERSE",function(){return p}),n.d(t,"EDGE_NO_MST",function(){return h}),n.d(t,"EDGE_MST",function(){return E}),n.d(t,"EDGE_DIRECTED",function(){return y}),n.d(t,"EDGE_DOUBLE",function(){return m}),n.d(t,"EDGE_WEIGHTED",function(){return f}),n.d(t,"EDGE_SELECTED",function(){return g}),n.d(t,"LINE_STD",function(){return v}),n.d(t,"LINE_FOCUS",function(){return _});var a={"background-color":"white",color:"black","border-style":"solid",width:"35",height:"35","border-width":"1","border-opacity":"1","border-color":"black",label:"data(value)","text-valign":"center","text-halign":"center","z-index":1},o={"background-color":"gray",color:"black"},i={"background-color":"red",color:"black"},r={"background-color":"black",color:"white"},s={"background-color":"Chartreuse",color:"black"},d={"background-color":"#FF9494",color:"black"},l={"background-color":"#2B3B6B",color:"white"},c={width:2,"line-color":"#ccc","curve-style":"bezier","line-style":"solid"},u={"line-color":"#2B3B6B","target-arrow-color":"#2B3B6B"},p={"line-color":"green","target-arrow-color":"green"},h={"line-style":"dashed","line-color":"#eee"},E={"line-style":"solid","line-color":"black"},y={"target-arrow-color":"#ccc","line-color":"#ccc","target-arrow-shape":"triangle"},m={"source-arrow-color":"#ccc","source-arrow-shape":"triangle"},f={label:"data(weight)","text-margin-y":"-10.0","text-rotation":"autorotate"},g={"line-color":"black","target-arrow-color":"black"},v={color:"#CECFE6"},_={"background-color":"#4C5090",color:"#CECFE6"}},63:function(e,t,n){e.exports=n(122)},70:function(e,t,n){},71:function(e,t,n){}},[[63,1,2]]]);
//# sourceMappingURL=main.16a56d50.chunk.js.map