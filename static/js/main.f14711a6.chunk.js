(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{122:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(17),r=a.n(i),l=(a(72),a(3)),s=a(4),c=a(7),u=a(6),d=a(8),h=(a(73),a(74),a(125)),p=a(126),y=a(127),m=a(14).connect,g=function(e){var t=e.line,a=e.current;return o.a.createElement("span",{style:{backgroundColor:a?"lightgray":"white",display:"block",paddingLeft:(5*t.ind).toString()+"%"}},t.text)},f=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.code,a=e.current,n=[];if(t)for(var i=0;i<t.length;i++)n.push(o.a.createElement(g,{line:t[i],current:i===a}));return o.a.createElement("div",{className:"codeblock"},n)}}]),t}(o.a.Component),v=m(function(e){return{code:e.pseudo,current:e.line}})(f),E=a(14).connect,b=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(h.a,{style:{height:"100%",backgroundColor:"#ccc"}},o.a.createElement(p.a,{style:{height:"40%"}},o.a.createElement(y.a,null,o.a.createElement("div",{className:"algorithm-description"},o.a.createElement("div",{className:"header"},o.a.createElement("h4",null,null!=this.props.algorithm?this.props.algorithm:"Nombre del algoritmo")),o.a.createElement("div",{className:"content"},"Descripcion del algoritmo")))),o.a.createElement(p.a,{style:{height:"50%"}},o.a.createElement(y.a,null,o.a.createElement("div",{className:"algorithm-description"},o.a.createElement("div",{className:"header"},o.a.createElement("h4",null,"Pseudocodigo")),o.a.createElement("div",{className:"content"},o.a.createElement(v,null))))))}}]),t}(o.a.Component),k=E(function(e){return{algorithm:e.algorithm}})(b),S=a(5),O={SELECT_BFS:"SELECT_BFS",SELECT_DFS:"SELECT_DFS",SELECT_DIJKSTRA:"SELECT_DIJKSTRA",SELECT_KRUSKAL:"SELECT_KRUSKAL",SELECT_PRIM:"SELECT_PRIM",SELECT_HEAP:"SELECT_HEAP",SELECT_AVL:"SELECT_AVL",SELECT_BUBBLESORT:"SELECT_BUBBLESORT",SELECT_MERGESORT:"SELECT_MERGESORT",SELECTION:"SELECTION",NO_SELECTION:"NO_SELECTION",ANIMATION_START:"ANIMATION_START",ANIMATION_END:"ANIMATION_END",CLEAR_GRAPH:"CLEAR_GRAPH",INC_SPEED:"INC_SPEED",DEC_SPEED:"DEC_SPEED",CHANGE_SPEED:"CHANGE_SPEED",CHANGE_LINE:"CHANGE_LINE",LOAD_GRAPH:"LOAD_GRAPH",FINISHED_LOAD:"FINISHED_LOAD"},_=a(34),A=a(31),I=(0,a(14).connect)(function(e){return{speed:e.speed}})(function(e){return o.a.createElement(p.a,null,o.a.createElement(y.a,{xs:12},o.a.createElement("input",{type:"range",min:"0.05",max:"5",value:e.speed,id:"myRange",step:"0.05",onChange:function(t){e.dispatch({type:O.CHANGE_SPEED,payload:{speed:t.currentTarget.value}})}})))}),N=a(14).connect,C=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.props.dispatch({type:O.CHANGE_SPEED,payload:{speed:e.target.value}})},a.state={algorithm:"",selection:{},weight:"",animation:!1,speed:0},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e){console.log(this.props.selection),this.props.selection&&"edge"===this.props.selection.type&&(e.selection&&e.selection.id===this.props.selection.id||this.setState({weight:this.props.selection.weight}))}},{key:"validateWeight",value:function(e){e&&/^[0-9]*/.test(e)?this.props.changeWeight(parseInt(e,10)):console.error("No number")}},{key:"handleWeightChange",value:function(e){this.setState({weight:e.currentTarget.value})}},{key:"render",value:function(){var e=this,t=this.props.selection,a=null;return t&&"edge"===t.type&&this.props.weighted&&(a=o.a.createElement(p.a,null,o.a.createElement(y.a,{xs:6},o.a.createElement("input",{type:"number",min:"0",placeholder:"peso",value:this.state.weight,style:{width:"100%"},onChange:function(t){return e.handleWeightChange(t)}})),o.a.createElement(y.a,{xs:6},o.a.createElement("button",{onClick:function(){return e.validateWeight(e.state.weight)}},"Cambiar")))),o.a.createElement(h.a,{fluid:!0,className:"ControlBar"},o.a.createElement(p.a,{className:"vertical-align"},o.a.createElement(y.a,{xs:1},o.a.createElement("button",{onClick:this.props.clearGraph,title:"Limpiar grafo"},o.a.createElement(_.a,{icon:A.d}))),o.a.createElement(y.a,{xs:1},o.a.createElement("button",{onClick:this.props.remove,title:"Eliminar elemento"},o.a.createElement(_.a,{icon:A.c}))),o.a.createElement(y.a,{xs:6,style:{textAlign:"center"}},o.a.createElement("button",{onClick:this.props.run,title:"Reproducir"},o.a.createElement(_.a,{icon:this.props.animation?A.b:A.a}))),o.a.createElement(y.a,{xs:2}," ",a),o.a.createElement(y.a,{xs:2},o.a.createElement(I,null))))}}]),t}(o.a.Component),w=N(function(e){return{algorithm:e.algorithm,selection:e.selection,animation:e.animation,speed:e.speed}})(C),T=function(e){return o.a.createElement("td",{style:{borderStyle:"solid",borderWidth:"2px",textAlign:"center",width:"3.125%",height:"30px"},className:e.class},e.value)},x=function(e){for(var t=new Array(32).fill(o.a.createElement(T,{value:null})),a=e.array,n=0;n<a.length;n++)a[n]&&(t[n]=o.a.createElement(T,{value:a[n].value,class:a[n].class}));return console.log(a),o.a.createElement(p.a,null,o.a.createElement(y.a,{xs:12},o.a.createElement("table",{style:{width:"100%"}},o.a.createElement("tbody",null,o.a.createElement("tr",{style:{width:"100%"}},t)))))};var L=function(e){for(var t=atob(e.split(",")[1]),a=e.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(t.length),o=new Uint8Array(n),i=0;i<t.length;i++)o[i]=t.charCodeAt(i);var r=new DataView(n);return new Blob([r],{type:a})},j=a(81),D=function(){function e(){Object(l.a)(this,e),this._gifBuffer=[],this._takingGif=!1,this._interval=0,this.downloadGif=function(e,t,a){j.createGIF({images:e,gifWidth:t,gifHeight:a,frameDuration:1},function(e){if(e.error)console.log(e.error);else{var t=L(e.image),a=document.createElement("a");a.setAttribute("href",window.URL.createObjectURL(t)),a.setAttribute("download","test.gif"),a.setAttribute("target","_blank"),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}})}}return Object(s.a)(e,[{key:"takePicture",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];console.log("Taking picture");var n=e.jpg();if(a){var o=document.createElement("a");o.setAttribute("href",n),o.setAttribute("download","test.jpg"),o.setAttribute("target","_blank"),o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o)}else t._gifBuffer.length<600&&t._gifBuffer.push(n)}},{key:"takeGif",value:function(e){this._takingGif?(clearInterval(this._interval),console.log(this._gifBuffer.length),this.downloadGif(this._gifBuffer,e.width(),e.height()),this._takingGif=!1,this._gifBuffer=[]):(this._takingGif=!0,this._interval=setInterval(this.takePicture,100,e,this,!1))}},{key:"takeJson",value:function(e){var t=e.json(),a=JSON.stringify({elements:t.elements}),n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(a)),n.setAttribute("download","graph.json"),n.setAttribute("target","_blank"),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}},{key:"readJson",value:function(e){var t=document.createElement("input");t.setAttribute("type","file"),t.setAttribute("id","myFile"),t.setAttribute("style","position: absolute"),document.body.appendChild(t),t.click(),console.log(t.value)}}]),e}(),B=a(10),R=a.n(B),M=a(128),G=a(14).connect,P=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).uploadGraph=function(){var e=document.getElementById("graphUploadInput");if(e.files){var t=e.files[0],n=new FileReader;n.onload=function(){var e=n.result;a.props.dispatch({type:O.LOAD_GRAPH,payload:{data:e}})},n.readAsText(t),a.props.handleClose()}},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.show,n=t.handleClose;return o.a.createElement(o.a.Fragment,null,o.a.createElement(R.a,{show:a,onHide:n},o.a.createElement(R.a.Header,{closeButton:!0},o.a.createElement(R.a.Title,null,"Modal heading")),o.a.createElement(R.a.Body,null,o.a.createElement("input",{type:"file",id:"graphUploadInput"})),o.a.createElement(R.a.Footer,null,o.a.createElement(M.a,{variant:"secondary",onClick:n},"Cancelar"),o.a.createElement(M.a,{variant:"primary",onClick:function(){return e.uploadGraph()}},"Subir grafo"))))}}]),t}(o.a.Component),F=G()(P),V=a(26),H=a(61),U=a(27),W=a(14).connect;a(118)(U),U.use(H);var z=function(e){return"node-"+e},K=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e)))._isMounted=!1,a._mediaRecorder=new D,a.state={values:new Array,showModal:!1},a.layout={run:function(){},stop:function(){}},a.nodeStyle=V.NODE,a.edgeStyle=V.EDGE,a.cy=U(),a.clearGraph=function(){if(!0!==a.props.animation){a.props.dispatch({type:O.CLEAR_GRAPH});for(var e=a.cy.nodes(),t=0;t<e.length;t++)a.removeNode(e[t].id())}},a.removeNode=function(e){a.cy.remove('node[id="'+e+'"]'),a.removeNodePopper(e)},a.removeEdge=function(e){a.cy.remove('edge[id="'+e+'"]')},a.executeAnimation=function(e){a.cy.nodes().style({"background-color":"white",color:"black"});!function(){var t=0;!function n(){if(t!==e.length){if(!a.props.animation)return a.cy.nodes().style(a.nodeStyle),a.cy.edges().style(a.edgeStyle),a.props.dispatch({type:O.ANIMATION_END}),a._isMounted&&a.setState({values:Array()}),void a.cy.autolock(!1);var o=e[t++],i=o.eles,r=o.distance,l=o.style,s=o.duration,c=o.inst,u=o.line;if(l&&i.forEach(function(e,t){a.cy.getElementById(e).style(l[t])}),i&&i.forEach(function(e,t){var a=document.getElementById(e+"popper");a&&void 0!==r&&(a.innerHTML=r[t])}),c){var d=a.state.values;c.forEach(function(e){if("push"===e.name){var t=e.data;console.log(t),d.push(t)}else if("shift"===e.name)d.shift();else if("pop"===e.name)d.pop();else if("change_element"===e.name){var a=e.position;null!=a&&(d[a]=e.data)}else"fill"===e.name&&d.fill(e.data)}),a._isMounted&&a.setState({values:d})}null!=u&&a._isMounted&&a.props.dispatch({type:O.CHANGE_LINE,payload:{line:u}}),a.refreshLayout(),setTimeout(n,(void 0===s?1e3:s)/a.props.speed)}}()}()},a.runButton=function(){if(!0===a.props.animation)return a.setState({values:Array()}),a.props.dispatch({type:O.ANIMATION_END}),a.cy.nodes().style(a.nodeStyle),a.cy.edges().style(a.edgeStyle),void a.cy.autolock(!1);var e=a.props.selection;"Kruskal"===a.props.algorithm||"Prim"===a.props.algorithm||(console.log(a.props.algorithm),e&&"node"===e.type)?new Promise(function(e,t){a.props.dispatch({type:O.ANIMATION_START}),e(a.props.execute({cy:a.cy,selection:a.props.selection}))}).then(function(e){a.cy.autolock(!0),a.executeAnimation(e)}):console.error("No node selected")},a.removeButton=function(){if(console.log(a.props),!0!==a.props.animation){var e=a.props.selection;e?("node"===e.type?a.removeNode(e.id):"edge"===e.type&&a.removeEdge(e.id),a.props.dispatch({type:O.NO_SELECTION})):console.error("No element selected")}},a.handleClickOnNode=function(e){if(!0!==a.props.animation){var t=e.id(),n=a.props.selection;if(n&&"node"===n.type){if("node"===n.type){var o=n.id;if(o===t)e.style(V.NODE),a.props.dispatch({type:O.NO_SELECTION});else{var i=a.cy.getElementById(o);o&&((a.props.directed&&!i.outgoers().contains(e)||!a.props.directed&&!i.neighborhood().contains(e))&&a.createEdge(o,t),a.props.dispatch({type:O.NO_SELECTION,payload:{selection:null}})),i.style(V.NODE)}}}else e.style(V.NODE_SELECTED),n&&"edge"===n.type&&a.cy.getElementById(n.id).style(a.edgeStyle),a.props.dispatch({type:O.SELECTION,payload:{selection:{id:t,type:"node"}}})}},a.handleClickOnEdge=function(e){if(!0!==a.props.animation){var t=e.id(),n=a.props.selection,o=null;if(n){o=n.id;var i=a.cy.getElementById(o);"edge"===n.type?i.style(a.edgeStyle):"node"===n.type&&i.style(a.nodeStyle)}if(o===t)a.props.dispatch({type:O.NO_SELECTION,payload:{selection:null}}),a.cy.getElementById(o).style(a.edgeStyle);else a.props.dispatch({type:O.SELECTION,payload:{selection:{type:"edge",id:t,weight:a.cy.getElementById(t).data("weight")}}}),e.style(V.EDGE_SELECTED)}},a.changeWeight=function(e){var t=a.props.selection;if("edge"===t.type){var n=t.id;a.cy.getElementById(n).data("weight",e),a.props.dispatch({type:O.SELECTION,payload:{selection:{type:"edge",weight:e,id:n}}})}},a.handleClickViewport=function(e){if(!0!==a.props.animation){var t=a.props.selection;if(e.target===a.cy)if(t){var n=a.cy.getElementById(t.id);"node"===t.type?n.style("background-color","white"):"edge"===t.type&&n.style(a.edgeStyle),a.props.dispatch({type:O.NO_SELECTION})}else{var o=e.position,i=o.x,r=o.y;a.createNode(i,r),a.refreshLayout()}}},a.showDialog=function(){a.setState({showModal:!a.state.showModal})},a.props.weighted&&(a.edgeStyle=Object(S.a)({},a.edgeStyle,V.EDGE_WEIGHTED)),a.props.directed&&(a.edgeStyle=Object(S.a)({},a.edgeStyle,V.EDGE_DIRECTED)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"initialize",value:function(e){var t=this,a=V.EDGE;this.props.weighted&&(a=Object(S.a)({},a,V.EDGE_WEIGHTED)),this.props.directed&&(a=Object(S.a)({},a,V.EDGE_DIRECTED)),this.cy=U({container:document.getElementById("canvas"),elements:e,style:[{selector:"node",style:V.NODE},{selector:"edge",style:a}],layout:{name:"preset"},headless:!1,styleEnabled:!0,hideEdgesOnViewport:!1,hideLabelsOnViewport:!1,userPanningEnabled:!1,zoomingEnabled:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.2,wheelSensitivity:1,pixelRatio:"1.0"}),this.cy.on("click",function(e){return t.handleClickViewport(e)}),this.cy.on("click","node",function(e){return t.handleClickOnNode(e.target)}),this.cy.on("click","edge",function(e){return t.handleClickOnEdge(e.target)}),this.cy.autopanOnDrag({enabled:!0,speed:.01}),this.layout=this.cy.elements().makeLayout({name:"preset"}),this.layout.run()}},{key:"componentDidMount",value:function(){this._isMounted=!0,this.initialize([]),this.props.dispatch({type:this.props.action})}},{key:"componentDidUpdate",value:function(e){!e.loadingGraph&&this.props.loadingGraph&&(JSON.parse(this.props.data).elements&&this.initialize(JSON.parse(this.props.data).elements),this.props.dispatch({type:O.FINISHED_LOAD}))}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:O.ANIMATION_END}),this._isMounted=!1,this.cy.nodes().forEach(function(e){var t=e.id(),a=document.getElementById(t+"popper");a&&document.body.removeChild(a)})}},{key:"refreshLayout",value:function(){this.layout.stop(),this.layout=this.cy.elements().makeLayout({name:"preset"}),this.layout.run()}},{key:"removeNodePopper",value:function(e){var t=document.getElementById(e+"popper");t&&document.body.removeChild(t)}},{key:"createNode",value:function(e,t){for(var a=1;this.cy.getElementById(z(a.toString())).length>0;)a++;var n=z(a.toString());this.cy.add({group:"nodes",data:{id:n,value:a},position:{x:e,y:t}});var o=this.cy.getElementById(n),i=o.popper({content:function(){var e=document.createElement("div");return e.setAttribute("id",n+"popper"),document.body.appendChild(e),e}});o.on("position",function(){i.scheduleUpdate()})}},{key:"createEdge",value:function(e,t){this.cy.add({group:"edges",data:{id:e+"-"+t,weight:Math.floor(15*Math.random()),source:e,target:t}})}},{key:"render",value:function(){var e=this,t=null,a=this.props.selection;if(a&&"edge"===a.type){var n=a.id;t=this.cy.getElementById(n).data("weight")}return o.a.createElement(o.a.Fragment,null,o.a.createElement(F,{show:this.state.showModal,handleClose:this.showDialog}),o.a.createElement(h.a,{fluid:!0},o.a.createElement(p.a,{id:"canvas"}),o.a.createElement(x,{array:this.state.values}),o.a.createElement(w,{run:this.runButton,remove:this.removeButton,clearGraph:this.clearGraph,changeWeight:this.changeWeight,weighted:this.props.weighted,edgeWeight:t}),o.a.createElement("button",{onClick:function(){return e._mediaRecorder.takePicture(e.cy)}},"Test picture"),o.a.createElement("button",{onClick:function(){return e._mediaRecorder.takeGif(e.cy)}},"Test gif"),o.a.createElement("button",{onClick:function(){return e._mediaRecorder.takeJson(e.cy)}},"Test json"),o.a.createElement("button",{onClick:function(){return e.setState({showModal:!0})}},"Test input")))}}]),t}(o.a.Component),J=W(function(e){return{selection:e.selection,algorithm:e.algorithm,animation:e.animation,speed:e.speed,loadingGraph:e.loadingGraph,data:e.data}})(K),X=a(14).connect,q=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={algorithm:"",selection:{},value:"",animation:!1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"validateValue",value:function(e){e&&/^-?[0-9]*/.test(e)?this.props.insert(parseInt(e,10)):console.error("No number")}},{key:"handleValueChange",value:function(e){this.setState({value:e.target.value})}},{key:"render",value:function(){var e=this;return o.a.createElement(h.a,{fluid:!0,className:"ControlBar"},o.a.createElement(p.a,{className:"vertical-align"},o.a.createElement(y.a,{xs:3},o.a.createElement("input",{type:"number",placeholder:"valor",value:this.state.value,style:{width:"100%"},onChange:function(t){return e.handleValueChange(t)}})),o.a.createElement(y.a,{xs:3},o.a.createElement("button",{onClick:function(){return e.validateValue(e.state.value)}},"Insertar")),o.a.createElement(y.a,{xs:3},o.a.createElement("button",{onClick:function(){return e.props.remove()}},"Eliminar")),o.a.createElement(y.a,{xs:3},o.a.createElement(I,null))))}}]),t}(o.a.Component),$=X(function(e){return{algorithm:e.algorithm,selection:e.selection,animation:e.animation}})(q),Q=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e,t){return e>=t},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return e===t};Object(l.a)(this,e),this._data=[0],this._comp=null,this._eq=null,this._comp=t,this._eq=a}return Object(s.a)(e,[{key:"isEmpty",value:function(){return 1===this._data.length}},{key:"top",value:function(){return this.isEmpty()?null:this._data[1]}},{key:"push",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=[];this._data.push(e);var n=this._data.length-1;for(t&&a.push({eles:[n.toString()],style:[{"background-color":"black",color:"white"}],classes:["heap-focus"]});n>1;){var o=Math.floor(n/2);if(this._comp(this._data[o],this._data[n])){t&&a.push({eles:[o.toString()],style:[{"background-color":"Chartreuse",color:"black"}],classes:["heap-correct"]});break}t&&a.push({eles:[o.toString()],style:[{"background-color":"#FF9494",color:"black"}],classes:["heap-wrong"]},{eles:[o.toString(),n.toString()],style:[{"background-color":"black",color:"white"},{"background-color":"white",color:"black"}],data:[{value:this._data[n]},{value:this._data[o]}],classes:["heap-focus","heap-default"]});var i=[this._data[n],this._data[o]];this._data[o]=i[0],this._data[n]=i[1],n=o}return a}},{key:"pop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[];if(!this.isEmpty()){var a=this._data[this._data.length-1];if(this._data.pop(),this.isEmpty())return t;var n=1;for(this._data[1]=a,e&&t.push({eles:[n.toString()],style:[{"background-color":"black",color:"white"}],classes:["heap-focus"]});2*n<this._data.length;){var o=this._data[2*n],i=2*n+1<this._data.length?this._data[2*n+1]:null;if(a=this._data[n],null==i){if(!this._comp(o,a))break;e&&t.push({eles:[(2*n).toString()],style:[{"background-color":"#FF9494",color:"black"}],classes:["heap-wrong"]},{eles:[n.toString(),(2*n).toString()],style:[{"background-color":"white",color:"black"},{"background-color":"black",color:"white"}],data:[{value:this._data[2*n]},{value:this._data[n]}],classes:["heap-default","heap-focus"]});var r=[this._data[n],this._data[2*n]];this._data[2*n]=r[0],this._data[n]=r[1],n*=2}else if(this._comp(o,i)&&this._comp(o,a)){e&&t.push({eles:[(2*n).toString()],style:[{"background-color":"#FF9494",color:"black"}],classes:["heap-wrong"]},{eles:[n.toString(),(2*n).toString()],style:[{"background-color":"white",color:"black"},{"background-color":"black",color:"white"}],data:[{value:this._data[2*n]},{value:this._data[n]}],classes:["heap-default","heap-focus"]});var l=[this._data[n],this._data[2*n]];this._data[2*n]=l[0],this._data[n]=l[1],n*=2}else{if(this._comp(o,i)||!this._comp(i,a))break;e&&t.push({eles:[(2*n+1).toString()],style:[{"background-color":"#FF9494",color:"black"}],classes:["heap-wrong"]},{eles:[n.toString(),(2*n+1).toString()],style:[{"background-color":"white",color:"black"},{"background-color":"black",color:"white"}],data:[{value:this._data[2*n+1]},{value:this._data[n]}],classes:["heap-default","heap-focus"]});var s=[this._data[n],this._data[2*n+1]];this._data[2*n+1]=s[0],this._data[n]=s[1],n=2*n+1}}}return t}},{key:"clear",value:function(){for(;!this.isEmpty();)this.pop()}}]),e}(),Y=function(e){return o.a.createElement("td",{style:{borderStyle:"solid",borderWidth:"2px",textAlign:"center",width:"3.125%"},className:e.class},e.value)},Z=function(e){for(var t=new Array(32).fill(o.a.createElement(Y,{value:null})),a=new Array(32).fill(0).map(function(e,t){return o.a.createElement("th",{style:{textAlign:"center"}},t)}),n=e.array,i=0;i<n.length;i++)t[i]=o.a.createElement(Y,{value:n[i].value,class:n[i].class});return console.log(t),o.a.createElement(p.a,null,o.a.createElement(y.a,{xs:12},o.a.createElement("table",{style:{width:"100%"}},o.a.createElement("tbody",null,o.a.createElement("tr",{style:{width:"100%"}},t),o.a.createElement("tr",null,a)))))};var ee=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).input=void 0,a.setStepInputRef=void 0,a.uploadGraph=function(){var e=document.getElementById("HeapUploadInput");if(e.files){var t=e.files[0],n=new FileReader;n.onload=function(){if(console.log(n.result),"string"===typeof n.result){var e=n.result;a.validateArray(e)}},n.readAsText(t)}},a.handleChange=function(e){a.setState({text:e.currentTarget.value})},a.handleCancel=function(){a.props.handleClose()},a.input=null,a.setStepInputRef=function(e){a.input=e},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"validateArray",value:function(e){if(console.log(e),!e||!/^(([-]?([0-9]{1,3})[,]){0,15})([-]?([0-9]{1,3}))$/.test(e))return console.error("No number"),!1;var t=e.split(",").map(function(e){return parseInt(e)});console.log(t),function(e){var t=e.length;console.log(e);for(var a=1;2*a<t;a++){var n=e[2*a],o=2*a+1===t?1/0:e[2*a+1];if(n<e[a]||o<e[a])return!1}return!0}(t)&&(this.props.changeArray(t),this.props.handleClose())}},{key:"render",value:function(){var e=this.props,t=e.show,a=e.handleClose;return o.a.createElement(R.a,{show:t,onHide:a},o.a.createElement(R.a.Header,{closeButton:!0},o.a.createElement(R.a.Title,null,"Modal heading")),o.a.createElement(R.a.Body,null,o.a.createElement("input",{type:"file",id:"HeapUploadInput"})),o.a.createElement(R.a.Footer,null,o.a.createElement(M.a,{variant:"secondary",onClick:this.handleCancel},"Cancelar"),o.a.createElement(M.a,{variant:"primary",onClick:this.uploadGraph},"Aceptar")))}}]),t}(o.a.Component),te=a(26),ae=a(27),ne=a(14).connect,oe={name:"preset",positions:{},padding:30,animate:!0,animationDuration:500},ie=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o))))._isMounted=!1,a._mediaRecorder=new D,a.state={values:[{value:0,class:"heap-default"}],show:!1},a.layout={run:function(){},stop:function(){}},a.nodeStyle=te.NODE,a.edgeStyle=te.EDGE,a.cy=ae(),a.heap=new Q(function(e,t){return e<=t}),a.removeNode=function(e){a.cy.remove('node[id="'+e+'"]')},a.executeAnimation=function(e){a.cy.nodes().style({"background-color":"white",color:"black"});!function(){var t=0;!function n(){if(t===e.length||!a.props.animation){a.cy.nodes().style(a.nodeStyle),a.cy.edges().style(a.edgeStyle);var o=a.state.values;return o=o.map(function(e){return Object(S.a)({},e,{class:"heap-default"})}),a._isMounted&&a.setState({values:o}),a.props.dispatch({type:O.ANIMATION_END}),void a.refreshLayout()}var i=e[t++],r=i.eles,l=i.style,s=i.duration,c=i.data,u=i.classes;l&&r.forEach(function(e,t){a.cy.getElementById(e).style(l[t])});var d=a.state.values;r.forEach(function(e,t){if(void 0!==c){a.cy.getElementById(e).data(c[t]);var n=parseInt(e,10),o=a.state.values;o[n].value=c[t].value,a._isMounted&&a.setState({values:o})}if(void 0!==u){var i=parseInt(e,10);d[i].class=u[t]}}),a._isMounted&&a.setState({values:d}),a.refreshLayout(),setTimeout(n,(void 0===s?1e3/a.props.speed:s)/a.props.speed)}()}()},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0;var e=te.EDGE;this.cy=ae({container:document.getElementById("canvas"),elements:[],style:[{selector:"node",style:te.NODE},{selector:"edge",style:e}],headless:!1,styleEnabled:!0,hideEdgesOnViewport:!1,hideLabelsOnViewport:!1,userPanningEnabled:!1,zoomingEnabled:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.2,wheelSensitivity:1,pixelRatio:"1.0"}),this.layout=this.cy.elements().makeLayout(oe),this.layout.run(),this.props.dispatch({type:this.props.action})}},{key:"componentDidUpdate",value:function(){oe.animationDuration=500/this.props.speed}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:O.ANIMATION_END}),this._isMounted=!1,this.cy.nodes().forEach(function(e){var t=e.id(),a=document.getElementById(t+"popper");a&&document.body.removeChild(a)})}},{key:"refreshLayout",value:function(){this.layoutProcessing(),this.layout.stop(),this.layout=this.cy.elements().makeLayout(oe),this.layout.run()}},{key:"layoutProcessing",value:function(){var e=5*(1<<function e(t){for(var a=t.outgoers("node"),n=0,o=0;o<a.length;o++)n=Math.max(n,e(a[o]));return n+1}(this.cy.getElementById("1"))),t=this.cy.width(),a=this.cy.height();return function e(t,a,n,o){oe.positions[t.id()]={x:a,y:n},t.outgoers("node").length&&e(t.outgoers("node")[0],a-o,n+50,o/2),2===t.outgoers("node").length&&e(t.outgoers("node")[1],a+o,n+50,o/2)}(this.cy.getElementById("1"),t/2,a/4,e),!0}},{key:"insert",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!this.props.animation){var a=[];if(31!==this.cy.nodes().length){if(0===this.cy.nodes().length)this.cy.add({group:"nodes",data:{id:"1",value:t},grabbable:!1,pannable:!1}),a=this.heap.push(t,!0);else{var n=this.cy.nodes().length+1;console.log(n);var o=this.cy.getElementById(Math.floor(n/2).toString());this.cy.add({group:"nodes",data:{id:n.toString(),value:t},grabbable:!1,pannable:!1}),this.cy.add({group:"edges",data:{id:o.id()+"-"+n.toString(),source:o.id(),target:n.toString()}}),a=this.heap.push(t,!0)}var i=this.state.values;i.push({value:t,class:"heap-default"}),this._isMounted&&this.setState({values:i}),this.refreshLayout(),new Promise(function(t,n){e.props.dispatch({type:O.ANIMATION_START}),t(a)}).then(function(t){setTimeout(e.executeAnimation,1e3/e.props.speed,t)})}}}},{key:"remove",value:function(){var e=this;if(!this.props.animation){var t=this.cy.nodes().length;if(0!==t){var a=this.cy.getElementById("1").outgoers("node");this.removeNode("1");var n,o=this.state.values,i=o[t];if(o.pop(),t>0&&(o[1]=i),this._isMounted&&this.setState({values:o}),1!==t){var r=this.cy.getElementById(t.toString()).position(),l=this.cy.getElementById(t.toString()).data("value");this.removeNode(t.toString()),this.cy.add({group:"nodes",data:{id:"1",value:l},position:r});for(var s=0;s<a.length;s++)0!==this.cy.getElementById(a[s].id()).length&&this.cy.add({group:"edges",data:{id:"1-"+a[s].id(),source:"1",target:a[s].id()}});n=this.heap.pop(!0),console.log(n),this.refreshLayout(),new Promise(function(t,a){e.props.dispatch({type:O.ANIMATION_START}),t(n)}).then(function(t){setTimeout(e.executeAnimation,1e3/e.props.speed,t)})}}}}},{key:"changeArray",value:function(e){var t=this;this.cy.nodes().forEach(function(e){t.cy.remove(e)}),this.heap.clear();for(var a=1;a<e.length;a++)this.heap.push(e[a]),this.cy.add({group:"nodes",data:{id:a.toString(),value:e[a]},grabbable:!1,pannable:!1});for(var n=1;2*n<e.length;n++){var o=2*n,i=2*n+1;this.cy.add({group:"edges",data:{id:n.toString()+"-"+o.toString(),source:n.toString(),target:o.toString()}}),i<e.length&&this.cy.add({group:"edges",data:{id:n.toString()+"-"+i.toString(),source:n.toString(),target:i.toString()}})}var r=Array(e.length);e.forEach(function(e,t){r[t]={value:e,class:"heap-default"}}),this.setState({values:r}),this.refreshLayout()}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ee,{show:this.state.show,changeArray:function(t){return e.changeArray(t)},handleClose:function(){return e.setState({show:!1})}}),o.a.createElement(h.a,{fluid:!0},o.a.createElement(p.a,{id:"canvas"}),o.a.createElement(Z,{array:this.state.values}),o.a.createElement($,{insert:function(t){return e.insert(t)},remove:function(){return e.remove()}}),o.a.createElement("button",{onClick:function(){return e._mediaRecorder.takePicture(e.cy)}},"Test picture"),o.a.createElement("button",{onClick:function(){return e._mediaRecorder.takeGif(e.cy)}},"Test gif"),o.a.createElement("button",{onClick:function(){return e.setState({show:!0})}},"Test input heap"),o.a.createElement("button",{onClick:function(){return function(e){var t=e.map(function(e){return e.value}).toString(),a=document.createElement("a");a.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),a.setAttribute("download","avl.txt"),a.setAttribute("target","_blank"),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}(e.state.values)}},"Test output heap")))}}]),t}(o.a.Component),re=ne(function(e){return{animation:e.animation,speed:e.speed}})(ie),le=a(44),se=a.n(le),ce=a(64),ue=a(16);function de(e){return 0===e.outgoers("node").length}function he(e){var t=null,a=null,n=e.outgoers("node");if(n.length>=1&&(t=n[0]),2===n.length&&(a=n[1]),null!=t&&null!=a&&t.data("value")>a.data("value")){var o=[a,t];t=o[0],a=o[1]}else if(null!=t&&t.data("value")>e.data("value")){var i=[a,t];t=i[0],a=i[1]}else if(null!=a&&a.data("value")<e.data("value")){var r=[a,t];t=r[0],a=r[1]}return[t,a]}function pe(e,t,a){for(;t.id()!==a.id();)t.data("depth")<a.data("depth")?a=e.getElementById(a.data("prev")):t.data("depth")>a.data("depth")?t=e.getElementById(t.data("prev")):(t=e.getElementById(t.data("prev")),a=e.getElementById(a.data("prev")));return t}function ye(e){return e?e.data("height"):0}var me=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={text:""},a.uploadGraph=function(){var e=document.getElementById("AVLUploadInput");if(e.files){var t=e.files[0],n=new FileReader;n.onload=function(){if(console.log(n.result),"string"===typeof n.result){var e=n.result;a.validateArray(e)}},n.readAsText(t)}},a.handleChange=function(e){a.setState({text:e.currentTarget.value})},a.handleCancel=function(){a.props.handleClose()},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"validateArray",value:function(e){var t=this.props,a=t.addNode,n=t.addEdge,o=t.clearGraph;if(e&&/^([^0-9().-]|([0-9]{4,})|([.]{2,}))/.test(e))return console.error("Invalid AVL format"),!1;(function(e,t,a,n){var o=0,i=e.length,r=0,l=[],s=[];return!(!function t(a,n){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if("."===e[o])return o++,{correct:!0,height:0,balance:0};var u=1;if("-"===e[o]&&(u=-1,o++),o===i||e[o]<"0"||e[o]>"9")return{correct:!1};for(var d=0;o<i&&e[o]>="0"&&e[o]<="9";)d=10*d+parseInt(e[o++]);if((d*=u)<=a||d>=n)return{correct:!1};var h=r++;if(o===i||"("!==e[o])return{correct:!1};o++;var p=t(a,d,h);if(!p.correct||o===i||")"!==e[o])return{correct:!1};if(++o===i||"("!==e[o])return{correct:!1};o++;var y=t(d,n,h);if(!y.correct||o===i||")"!==e[o])return{correct:!1};o++;var m=Math.max(p.height,y.height)+1,g=y.height-p.height;return Math.abs(g)>1?{correct:!1}:(l.push({id:h.toString(),value:d,height:m,balance:g}),-1!==c&&s.push({source:c.toString(),target:h.toString()}),{correct:!0,height:m,balance:g})}(-1/0,1/0)||o!==i)&&(n(),l.forEach(function(e){t(e.id,e.value,e.height,e.balance)}),s.forEach(function(e){a(e.source,e.target)}),!0)})(e,a,n,o)&&this.props.handleClose(!0)}},{key:"render",value:function(){var e=this.props,t=e.show,a=e.handleClose;return o.a.createElement(R.a,{show:t,onHide:a},o.a.createElement(R.a.Header,{closeButton:!0},o.a.createElement(R.a.Title,null,"Modal heading")),o.a.createElement(R.a.Body,null,o.a.createElement("input",{type:"file",id:"AVLUploadInput"})),o.a.createElement(R.a.Footer,null,o.a.createElement(M.a,{variant:"secondary",onClick:this.handleCancel},"Cancelar"),o.a.createElement(M.a,{variant:"primary",onClick:this.uploadGraph},"Aceptar")))}}]),t}(o.a.Component);function ge(e,t){return e+"-"+t}var fe=a(26),ve=a(27),Ee=a(14).connect,be=(a(61),{name:"preset",positions:{},padding:30,animate:!0,animationDuration:1e3}),ke=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o))))._isMounted=!1,a._mediaRecorder=new D,a.layout={run:function(){},stop:function(){}},a.treeRoot="",a.state={show:!1},a.nodeStyle=fe.NODE,a.edgeStyle=fe.EDGE,a.cy=ve(),a.heap=new Q(function(e,t){return e<=t}),a.removeNode=function(e){var t=e.id();a.cy.remove(e),a.removeNodePopper(t)},a.removeEdge=function(e,t){a.cy.remove('edge[id="'+ge(e,t)+'"]')},a.addNode=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;console.log("INSERTAR "+t+" "+o),a.cy.add({group:"nodes",data:{id:e,value:t,height:n,balance:o}})},a.addEdge=function(e,t){console.log(e,t),a.cy.add({group:"edges",data:{id:ge(e,t),source:e,target:t}}),a.cy.getElementById(t).data("prev",e)},a.handleClickOnNode=function(e){if(!0!==a.props.animation){var t=e.id(),n=a.props.selection;if(n&&"node"===n.type){var o=n.id;if(a.cy.getElementById(o).style(fe.NODE),o===t)return void a.props.dispatch({type:O.NO_SELECTION})}e.style(fe.NODE_SELECTED),a.props.dispatch({type:O.SELECTION,payload:{selection:{id:t,type:"node"}}})}},a.handleClose=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];a.setState({show:!1}),e&&(a.treeRoot="0",a.refreshLayout())},a.clearGraph=function(){a.cy.nodes().forEach(function(e){return a.cy.remove(e)})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0;var t=fe.EDGE;this.cy=ve({container:document.getElementById("canvas"),elements:[],style:[{selector:"node",style:fe.NODE},{selector:"edge",style:t}],headless:!1,styleEnabled:!0,hideEdgesOnViewport:!1,hideLabelsOnViewport:!1,userPanningEnabled:!1,zoomingEnabled:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.2,wheelSensitivity:1,pixelRatio:"1.0"}),this.cy.on("click","node",function(t){return e.handleClickOnNode(t.target)}),this.layout=this.cy.elements().makeLayout(be),this.layout.run(),this.props.dispatch({type:this.props.action})}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:O.ANIMATION_END}),this._isMounted=!1,this.cy.nodes().forEach(function(e){var t=e.id(),a=document.getElementById(t+"popper");a&&document.body.removeChild(a)})}},{key:"componentDidUpdate",value:function(){be.animationDuration=1e3/this.props.speed}},{key:"removeNodePopper",value:function(e){var t=document.getElementById(e+"popper");t&&document.body.removeChild(t)}},{key:"isLeaf",value:function(e){return 0===e.outgoers("node").length}},{key:"getChildren",value:function(e){var t=null,a=null,n=e.outgoers("node");if(n.length>=1&&(t=n[0]),2===n.length&&(a=n[1]),null!=t&&null!=a&&t.data("value")>a.data("value")){var o=[a,t];t=o[0],a=o[1]}else if(null!=t&&t.data("value")>e.data("value")){var i=[a,t];t=i[0],a=i[1]}else if(null!=a&&a.data("value")<e.data("value")){var r=[a,t];t=r[0],a=r[1]}return[t,a]}},{key:"refreshLayout",value:function(){this.layoutProcessing(),this.layout.stop(),this.layout=this.cy.elements().makeLayout(be),this.layout.run()}},{key:"propagate",value:function(e,t){if(null!=e){e.data("X",e.data("X")+t);var a=he(e),n=Object(ue.a)(a,2),o=n[0],i=n[1];o&&this.propagate(o,t),i&&this.propagate(i,t)}}},{key:"layoutProcessing",value:function(){for(var e={},t=function t(a,n,o){console.log(a.data("value")),a.data("depth",n),a.data("X",o),void 0===e[n]&&(e[n]=Array()),e[n].push(a.id());var i=he(a),r=Object(ue.a)(i,2),l=r[0],s=r[1],c=0,u=0;l&&(c=t(l,n+1,o-1)),s&&(u=t(s,n+1,o+1));var d=u-c,h=document.getElementById(a.id()+"popper");return h&&(h.innerHTML=d.toString()),Math.max(c,u)+1}(this.cy.getElementById(this.treeRoot),0,0),a=0;a++<1e3;){for(var n=!0,o=t-1;o>=0;o--)for(var i=e[o],r=0;r<i.length-1;r++){var l=this.cy.getElementById(i[r]),s=this.cy.getElementById(i[r+1]);if(l.data("X")+1>=s.data("X")){var c=he(pe(this.cy,l,s)),u=Object(ue.a)(c,2),d=u[0],h=u[1],p=Math.max(l.data("X")-s.data("X"),1);this.propagate(d,-p),this.propagate(h,p),n=!1;break}}if(n)break}1001===a&&console.error("ALERT, INFINITE LOOP AVOIDED");var y=this.cy.width(),m=this.cy.height();return function e(t,a,n){be.positions[t.id()]={x:24*t.data("X")+a,y:n};var o=he(t),i=Object(ue.a)(o,2),r=i[0],l=i[1];r&&e(r,a,n+50),l&&e(l,a,n+50)}(this.cy.getElementById(this.treeRoot),y/2,m/4),!0}},{key:"rotateLeft",value:function(e){var t=he(e),a=Object(ue.a)(t,2),n=a[0],o=a[1];if(null!=n){var i=he(n),r=Object(ue.a)(i,2),l=r[0],s=r[1];this.removeEdge(e.id(),n.id()),s&&(this.removeEdge(n.id(),s.id()),this.addEdge(e.id(),s.id()));var c=e.data("prev");this.addEdge(n.id(),e.id()),this.treeRoot!==e.id()?(this.removeEdge(c,e.id()),this.addEdge(c,n.id())):(this.treeRoot=n.id(),console.log(this.treeRoot)),e.data("height",Math.max(ye(s),ye(o))+1),n.data("height",Math.max(ye(l),ye(e))+1),e.data("balance",ye(o)-ye(s)),n.data("balance",ye(e)-ye(l)),this.refreshLayout()}}},{key:"rotateRight",value:function(e){var t=he(e),a=Object(ue.a)(t,2),n=a[0],o=a[1];if(null!=o){var i=he(o),r=Object(ue.a)(i,2),l=r[0],s=r[1];this.removeEdge(e.id(),o.id()),l&&(this.removeEdge(o.id(),l.id()),this.addEdge(e.id(),l.id()));var c=e.data("prev");this.addEdge(o.id(),e.id()),this.treeRoot!==e.id()?(this.removeEdge(c,e.id()),this.addEdge(c,o.id())):(this.treeRoot=o.id(),console.log(this.treeRoot)),e.data("height",Math.max(ye(n),ye(l))+1),o.data("height",Math.max(ye(e),ye(s))+1),e.data("balance",ye(l)-ye(n)),o.data("balance",ye(s)-ye(e)),this.refreshLayout()}}},{key:"balance",value:function(e){var t=this,a=e;return new Promise(function(e,n){a.style({"background-color":"red",color:"black"}),setTimeout(function n(){var o=he(a),i=Object(ue.a)(o,2),r=i[0],l=i[1],s=ye(r),c=ye(l);a.data("height",Math.max(s,c)+1);var u=c-s;a.data("balance",u),console.log("NODO "+a.id()+" BAL "+u),2===u?l.data("balance")>=0?t.rotateRight(a):(t.rotateLeft(l),t.rotateRight(a)):-2===u&&(r.data("balance")<=0?t.rotateLeft(a):(t.rotateRight(r),t.rotateLeft(a))),console.log(a.id()+" "+t.treeRoot),a.style({"background-color":"white",color:"black"}),a.id()!==t.treeRoot?((a=t.cy.getElementById(a.data("prev"))).style({"background-color":"red",color:"black"}),setTimeout(n,1e3/t.props.speed)):e()},1e3/t.props.speed)})}},{key:"insert",value:function(e){var t=this;if(!this.props.animation){for(var a=0;this.cy.getElementById(a.toString()).length>0;)a++;this.addNode(a.toString(),e);var n=this.cy.nodes().length,o=this.cy.getElementById(a.toString());new Promise(function(i,r){if(t.props.dispatch({type:O.ANIMATION_START}),n>1){!function a(n,r){if(console.log(n),r&&r.style({color:"black","background-color":"white"}),n){n.style({color:"white","background-color":"black"});var l=he(n),s=Object(ue.a)(l,2),c=s[0],u=s[1];if(e===n.data("value"))return void setTimeout(i,1e3/t.props.speed,n.id());e<n.data("value")?setTimeout(a,1e3/t.props.speed,c,n):setTimeout(a,1e3/t.props.speed,u,n)}else r&&t.addEdge(r.id(),o.id()),t.refreshLayout(),setTimeout(i,1e3/t.props.speed,null)}(t.cy.getElementById(t.treeRoot),null)}else t.treeRoot=a.toString(),t.refreshLayout(),i(null)}).then(function(e){e?(t.removeNode(o),t.cy.getElementById(e).style({"background-color":"white",color:"black"}),t.props.dispatch({type:O.ANIMATION_END})):t.balance(o).then(function(){t.props.dispatch({type:O.ANIMATION_END})})})}}},{key:"inorderSuccessor",value:function(){var e=Object(ce.a)(se.a.mark(function e(t){var a,n,o=this;return se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Promise(function(e,a){var n=he(t)[1];(function t(a,n){if(n&&n.style({"background-color":"white",color:"black"}),a){a.style({"background-color":"red",color:"black"});var i=he(a)[0];setTimeout(t,1e3/o.props.speed,i,a)}else n&&e(n)})(t=n,null)}),e.next=3,a;case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=this;if(!this.props.animation){var t=this.props.selection;if(t){var a=this.cy.getElementById(t.id),n=null;if(this.props.dispatch({type:O.ANIMATION_START}),de(a))a.id()!==this.treeRoot&&(n=a.data("prev")),this.removeNode(a),this.refreshLayout(),n?this.balance(this.cy.getElementById(n)).then(function(){e.props.dispatch({type:O.ANIMATION_END})}):this.props.dispatch({type:O.ANIMATION_END});else if(1===a.outgoers("node").length){if(a.id()===this.treeRoot)this.treeRoot=a.outgoers("node")[0].id(),n=this.treeRoot,this.removeNode(a),this.refreshLayout();else{var o=a.data("prev"),i=a.outgoers("node")[0];i.data({prev:o}),this.removeNode(a),this.addEdge(o,i.id()),n=i.id(),this.refreshLayout()}this.balance(this.cy.getElementById(n)).then(function(){e.props.dispatch({type:O.ANIMATION_END})})}else{this.inorderSuccessor(a).then(function(t){if(a.data("value",t.data("value")),!de(t)){var o=he(t)[1];o.data("prev",t.data("prev")),e.addEdge(t.data("prev"),o.id())}n=t.data("prev"),e.removeNode(t),e.refreshLayout(),e.balance(e.cy.getElementById(n)).then(function(){e.props.dispatch({type:O.ANIMATION_END})}),a.style(fe.NODE)})}this.props.dispatch({type:O.NO_SELECTION})}}}},{key:"testRotation",value:function(e){var t=this.props.selection;t&&(0===e?this.rotateLeft(this.cy.getElementById(t.id)):this.rotateRight(this.cy.getElementById(t.id)))}},{key:"render",value:function(){var e=this;return o.a.createElement(h.a,{fluid:!0},o.a.createElement(me,{show:this.state.show,handleClose:this.handleClose,addNode:this.addNode,addEdge:this.addEdge,clearGraph:this.clearGraph}),o.a.createElement(p.a,{id:"canvas"}),o.a.createElement($,{insert:function(t){return e.insert(t)},remove:function(){return e.remove()}}),o.a.createElement("button",{onClick:function(){return e.testRotation(0)}},"Test left rotation"),o.a.createElement("button",{onClick:function(){return e.testRotation(1)}},"Test right rotation"),o.a.createElement("button",{onClick:function(){return e._mediaRecorder.takePicture(e.cy)}},"Test picture"),o.a.createElement("button",{onClick:function(){return e._mediaRecorder.takeGif(e.cy)}},"Test gif"),o.a.createElement("button",{onClick:function(){return e.setState({show:!0})}},"Test AVL input"),o.a.createElement("button",{onClick:function(){return function(e){var t="";!function e(a){if(a){t+=a.data("value").toString();var n=he(a),o=Object(ue.a)(n,2),i=o[0],r=o[1];t+="(",e(i),t+=")",t+="(",e(r),t+=")"}else t+="."}(e);var a=document.createElement("a");return a.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),a.setAttribute("download","avl.txt"),a.setAttribute("target","_blank"),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a),t}(e.cy.getElementById(e.treeRoot))}},"Test AVL output"))}}]),t}(o.a.Component),Se=Ee(function(e){return{animation:e.animation,speed:e.speed,selection:e.selection}})(ke),Oe=function(){function e(){Object(l.a)(this,e),this._data=[]}return Object(s.a)(e,[{key:"isEmpty",value:function(){return 0===this._data.length}},{key:"front",value:function(){return this.isEmpty()?null:this._data[0]}},{key:"push",value:function(e){this._data.push(e)}},{key:"pop",value:function(){this.isEmpty()||this._data.shift()}}]),e}(),_e=function(e){var t=e.cy,a=e.selection.id,n={},o=new Oe,i=[{line:0,duration:250},{line:1,duration:250}];for(i.push({eles:[a],style:[{"background-color":"gray",color:"black"}],line:3}),o.push(a),i.push({inst:[{name:"push",data:{value:t.getElementById(a).data("value"),class:"heap-default"}}],line:4});!o.isEmpty();){i.push({line:5});var r=t.getElementById(o.front());o.pop(),"black"!==n[r]&&(n[r.id()]="black",i.push({line:6,inst:[{name:"shift"}]},{eles:[r.id()],style:[{"background-color":"black",color:"white"}],line:7}),r.outgoers("edge").forEach(function(e){var t=e.target();i.push({eles:[e.id()],style:[{"line-color":"green","target-arrow-color":"green"}],line:8},{line:9}),void 0===n[t.id()]?(n[t.id()]="gray",i.push({eles:[t.id()],style:[{"background-color":"gray",color:"black"}],line:10},{inst:[{name:"push",data:{value:t.data("value"),class:"heap-default"}}],line:11},{eles:[e.id()],style:[{"line-color":"#ccc","target-arrow-color":"#ccc"}],duration:10}),o.push(t.id())):i.push({eles:[e.id()],style:[{"line-color":"#ccc","target-arrow-color":"#ccc"}],duration:10})}))}return i},Ae=function(e){var t=e.cy,a=e.selection.id,n=[{line:7,duration:250},{line:8,duration:250},{line:9,duration:250},{line:10}];return function e(t,a,n,o){n.push({line:0}),o[a.id()]=!0,n.push({eles:[a.id()],style:[{"background-color":"gray",color:"black"}],inst:[{name:"push",data:{value:a.data("value"),class:"heap-default"}}],line:1}),a.outgoers("edge").forEach(function(a){var i=a.target();n.push({eles:[a.id()],style:[{"line-color":"green","target-arrow-color":"green"}],line:2},{line:3}),void 0===o[i.id()]?(n.push({line:4},{eles:[a.id()],style:[{"line-color":"#ccc","target-arrow-color":"#ccc"}],duration:10}),e(t,i,n,o)):n.push({eles:[a.id()],style:[{"line-color":"#ccc","target-arrow-color":"#ccc"}],duration:10})}),n.push({eles:[a.id()],style:[{"background-color":"black",color:"white"}],inst:[{name:"pop"}],line:5})}(t,t.getElementById(a),n,{}),n},Ie=function(e){var t=e.cy,a=e.selection.id,n=new Q(function(e,t){return e.distance<t.distance}),o={},i={},r=[];r.push({line:0,duration:250},{line:1,duration:250}),o[a]=0,n.push({distance:0,id:a}),r.push({eles:t.nodes().map(function(e){return e.id()}),distance:Array(t.nodes().length).fill("\u221e"),duration:1e3,inst:[{name:"fill",data:{value:"\u221e",class:"heap-default"}}],line:3});for(var l=function(){r.push({line:4});var e=n.top(),a=e.id,l=e.distance;if(n.pop(),i[a])return"continue";i[a]=!0;var s=t.getElementById(a);r.push({eles:[a],distance:[l.toString()],style:[{"background-color":"red",color:"black"}],duration:1e3,inst:[{name:"change_element",position:parseInt(s.data("value"),10)-1,data:{value:l.toString(),class:"heap-wrong"}}],line:5}),s.outgoers("edge").forEach(function(e){var t=e.target(),a=e.data("weight"),i=t.id();r.push({eles:[e.id()],style:[{"line-color":"green","target-arrow-color":"green"}],line:6,duration:1e3});var s=o[i];void 0===s&&(s="inf"),void 0===o[i]||l+a<o[i]?(o[i]=l+a,r.push({line:7}),n.push({distance:l+a,id:i}),"inf"!==s&&r.push({eles:[i],distance:[l+a+"\u2264"+s],duration:1e3,line:8}),r.push({eles:[i],distance:[l+a],duration:1e3,line:8,inst:[{name:"change_element",position:parseInt(t.data("value"),10)-1,data:{value:(l+a).toString(),class:"heap-default"}}]}),r.push({line:9})):r.push({eles:[i],distance:[s+"\u2264"+(l+a)],duration:1e3,line:8},{eles:[i],distance:[s],duration:1e3}),r.push({eles:[e.id()],style:[{"line-color":"#ccc","target-arrow-color":"#ccc"}],duration:10})}),r.push({eles:[a],distance:[l.toString()],style:[{"background-color":"black",color:"white"}],duration:1e3,inst:[{name:"change_element",position:parseInt(s.data("value"),10)-1,data:{value:l.toString(),class:"heap-default"}}]})};!n.isEmpty();)l();return r},Ne=function(e){var t=e.cy,a=t.nodes(),n=t.edges(),o={},i={},r=new Q(function(e,t){return e.weight<=t.weight}),l=[{line:0}];l.push({eles:n.map(function(e){return e.data("id")}),style:Array(t.edges().length).fill({"line-style":"dashed","line-color":"#eee"}),duration:1e3,line:1},{line:2,duration:1e3}),a.forEach(function(e){r.push({target:e.id(),edgeId:"NONE",weight:1/0})});for(var s=function(){var e=r.top();r.pop();var a=e.target,n=e.edgeId,s=e.weight;if(i[a])return"continue";s===1/0&&(o[a]=0),l.push({line:6,duration:1e3},{line:7,duration:1e3}),i[a]=!0,"NONE"!==n&&(l.push({eles:[n],style:[{"line-color":"green"}],duration:1e3}),i[n]=!0);var c=t.getElementById(a);l.push({eles:[a],style:[{"background-color":"red",color:"black"}],duration:1e3,line:8,inst:[{name:"change_element",position:parseInt(c.data("value"),10)-1,data:{value:o[a].toString(),class:"heap-wrong"}}]}),l.push({line:9}),"NONE"!==n&&l.push({eles:[n],style:[{"line-color":"black","line-style":"solid"}],line:10}),t.getElementById(a).connectedEdges().forEach(function(e){l.push({eles:[e.id()],style:[{"line-color":"green"}],line:11}),l.push({line:12});var n=e.target().id();n===a&&(n=e.source().id());var s,c=e.data("weight");(void 0===o[n]||o[n]>c)&&(l.push({line:13,inst:[{name:"change_element",position:parseInt(t.getElementById(n).data("value"),10)-1,data:{value:c.toString(),class:"heap-default"}}]}),o[n]=c,r.push({target:n,edgeId:e.id(),weight:c})),s=i[e.id()]?"black":"#ccc",l.push({eles:[e.id()],style:[{"line-color":s}],duration:10})}),l.push({inst:[{name:"change_element",position:parseInt(c.data("value"),10)-1,data:{value:void 0===o[a]?"0":o[a].toString(),class:"heap-default"}}]})};!r.isEmpty();)s();return l},Ce=function(){function e(t){var a=this;Object(l.a)(this,e),this._parent={},t.forEach(function(e){return a._parent[e.id()]=e.id()})}return Object(s.a)(e,[{key:"find",value:function(e){return this._parent[e]===e?e:(this._parent[e]=this.find(this._parent[e]),this._parent[e])}},{key:"join",value:function(e,t){this._parent[this.find(e)]=this.find(t)}},{key:"connected",value:function(e,t){return this.find(e)===this.find(t)}}]),e}(),we=function(e){var t=e.cy,a=t.nodes(),n=t.edges(),o=new Q(function(e,t){return e.data("weight")<=t.data("weight")});n.forEach(function(e){return o.push(e)});for(var i=[{eles:n.map(function(e){return e.data("id")}),style:Array(t.edges().length).fill({"line-style":"dashed","line-color":"#eee"}),duration:1e3,line:2},{line:3}],r=new Ce(a);!o.isEmpty();){var l=o.top();o.pop();var s=l.source().id(),c=l.target().id();if(i.push({eles:[l.id()],style:[{"line-color":"green"}],duration:1e3,line:4}),r.connected(s,c))i.push({eles:[l.id()],style:[{"line-color":"#ccc"}],duration:1e3,line:null});else{r.join(s,c),l.data("weight");var u=l.source(),d=l.target();i.push({eles:[l.id(),u.id(),d.id()],style:[{"line-style":"solid","line-color":"black"},{"background-color":"red"},{"background-color":"red"}],duration:1e3,line:6},{line:7})}}return i},Te={BFS:{execute:_e,directed:!0,action:O.SELECT_BFS},DFS:{execute:Ae,directed:!0,action:O.SELECT_DFS},Dijkstra:{execute:Ie,directed:!0,weighted:!0,action:O.SELECT_DIJKSTRA},Prim:{execute:Ne,directed:!1,weighted:!0,action:O.SELECT_PRIM},Kruskal:{execute:we,directed:!1,weighted:!0,action:O.SELECT_KRUSKAL},Heap:{action:O.SELECT_HEAP},AVL:{action:O.SELECT_AVL},BubbleSort:{action:O.SELECT_BUBBLESORT},MergeSort:{action:O.SELECT_MERGESORT}},xe=function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a]);for(var n=t.length,o=[{eles:[],style:[],line:0}],i=0;i<n;i++){for(var r=0;r<3;r++)o.push({eles:[],style:[],line:r+1});for(var l=!0,s=0;s<n-1;s++){var c=void 0,u=!1;if(t[s]>t[s+1]){l=!1,u=!0;var d=[t[s+1],t[s]];t[s]=d[0],t[s+1]=d[1],c="LightCoral"}else c="Chartreuse";o.push({eles:[s.toString(),(s+1).toString()],style:[{"background-color":c},{"background-color":c}],duration:1e3,line:4},{eles:[s.toString(),(s+1).toString()],style:[{"background-color":"white"},{"background-color":"white"}],data:[{value:t[s]},{value:t[s+1]}],duration:1e3,line:u?5:3}),u&&o.push({eles:[],style:[],line:3})}if(l){o.push({eles:[],style:[],line:7});break}}return o},Le=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).input=void 0,a.setStepInputRef=void 0,a.handleAccept=function(){if(a.input&&a.validateArray(a.input.value)){var e=a.input.value.split(",").map(function(e){return parseInt(e)});console.log(e),a.props.changeArray(e),a.props.handleClose()}},a.handleChange=function(e){a.setState({text:e.currentTarget.value})},a.handleCancel=function(){a.setState({text:a.props.currentValues.toString()}),a.props.handleClose()},a.input=null,a.state={text:a.props.currentValues.toString()},a.setStepInputRef=function(e){a.input=e},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"validateArray",value:function(e){return!(!e||!/^(([-]?([0-9]{1,3})[,]){0,15})([-]?([0-9]{1,3}))$/.test(e))||(console.error("No number"),!1)}},{key:"render",value:function(){var e=this,t=this.props,a=t.show,n=t.handleClose;return o.a.createElement(R.a,{show:a,onHide:n},o.a.createElement(R.a.Header,{closeButton:!0},o.a.createElement(R.a.Title,null,"Modal heading")),o.a.createElement(R.a.Body,null,o.a.createElement("input",{type:"text",ref:this.setStepInputRef,value:this.state.text,onChange:function(t){return e.handleChange(t)}})),o.a.createElement(R.a.Footer,null,o.a.createElement(M.a,{variant:"secondary",onClick:this.handleCancel},"Cancelar"),o.a.createElement(M.a,{variant:"primary",onClick:this.handleAccept},"Aceptar")))}}]),t}(o.a.Component),je=a(26),De=a(27),Be=a(14).connect,Re=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o))))._isMounted=!1,a._mediaRecorder=new D,a.cy=De(),a.state={show:!1,values:[1,4,8,1,4,3,6,9,10,-1]},a.layout={run:function(){},stop:function(){}},a.nodeStyle=je.NODE,a.addNode=function(e,t){a.cy.add({group:"nodes",data:{id:e,value:t},position:{x:35*parseInt(e,10),y:0}})},a.executeAnimation=function(e){a.cy.nodes().style({"background-color":"white",color:"black"});!function(){var t=0;!function n(){if(t===e.length||!a.props.animation)return a.cy.nodes().style(a.nodeStyle),a.props.dispatch({type:O.ANIMATION_END}),void a.refreshLayout();var o=e[t++],i=o.eles,r=o.style,l=o.duration,s=o.data,c=o.line;r&&i.forEach(function(e,t){a.cy.getElementById(e).style(r[t])}),i.forEach(function(e,t){void 0!==s&&a.cy.getElementById(e).data(s[t])}),a._isMounted&&null!=c&&a.props.dispatch({type:O.CHANGE_LINE,payload:{line:c}}),a.refreshLayout(),setTimeout(n,(void 0===l?1e3/a.props.speed:l)/a.props.speed)}()}()},a.runButton=function(){if(a.props.animation)return a.props.dispatch({type:O.ANIMATION_END}),void a.initialize();new Promise(function(e,t){a.props.dispatch({type:O.ANIMATION_START}),e(xe(a.state.values))}).then(function(e){setTimeout(a.executeAnimation,1e3/a.props.speed,e)})},a.handleClose=function(){a.setState({show:!1})},a.changeArray=function(e){a.setState({values:e})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.cy=De({container:document.getElementById("canvas"),elements:[],style:[{selector:"node",style:Object(S.a)({},je.NODE,{shape:"square"})}],layout:{name:"preset"},headless:!1,styleEnabled:!0,hideEdgesOnViewport:!1,hideLabelsOnViewport:!1,userPanningEnabled:!1,zoomingEnabled:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.2,wheelSensitivity:1,pixelRatio:"1.0"}),this.cy.autopanOnDrag({enabled:!0,speed:.01}),this.layout=this.cy.elements().makeLayout({name:"preset"}),this.cy.center(),this.layout.run(),this.props.dispatch({type:this.props.action}),this.initialize()}},{key:"componentDidUpdate",value:function(e,t){t.values!==this.state.values&&this.initialize()}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:O.ANIMATION_END}),this._isMounted=!1,this.cy.nodes().forEach(function(e){var t=e.id(),a=document.getElementById(t+"popper");a&&document.body.removeChild(a)})}},{key:"refreshLayout",value:function(){this.layout.stop(),this.layout=this.cy.elements().makeLayout({name:"preset"}),this.layout.run(),this.cy.center()}},{key:"initialize",value:function(){var e=this;this.cy.nodes().forEach(function(t){return e.cy.remove(t)});for(var t=0;t<this.state.values.length;t++)this.addNode(t.toString(),this.state.values[t]),this.refreshLayout()}},{key:"render",value:function(){var e=this;return o.a.createElement(h.a,{fluid:!0},o.a.createElement(Le,{show:this.state.show,handleClose:this.handleClose,changeArray:this.changeArray,currentValues:this.state.values}),o.a.createElement(p.a,{id:"canvas"}),o.a.createElement(w,{run:this.runButton}),o.a.createElement("button",{onClick:function(){return e._mediaRecorder.takePicture(e.cy)}},"Test picture"),o.a.createElement("button",{onClick:function(){return e._mediaRecorder.takeGif(e.cy)}},"Test gif"),o.a.createElement("button",{onClick:function(){return e.setState({show:!0})}},"Change array"))}}]),t}(o.a.Component),Me=Be(function(e){return{animation:e.animation,speed:e.speed}})(Re),Ge=a(66),Pe=function(e,t,a){var n=[];return function e(t,a,o,i,r){var l=Object(Ge.a)(t),s=l.length;0===a&&0===o&&console.log(r);var c={nodes:[],line:0,duration:1e3},u=(o+i)/2;if(l.forEach(function(e,t){c.nodes.push({id:(a+t).toString(),position:{x:u-17.5*(s-1)+35*t,y:r}})}),n.push(c),n.push({nodes:[],line:1}),1===s)return n.push({nodes:[],line:2}),l;var d=Math.floor((s+1)/2);n.push({nodes:[],line:3});var h=e(l.slice(0,d),a,o,(o+i)/2,r+50);n.push({nodes:[],line:4});var p=e(l.slice(d),a+d,(o+i)/2,i,r+50),y=0,m=0;n.push({nodes:[],line:5}),n.push({nodes:[],line:7});for(var g=0;g<s;g++){n.push({nodes:[],line:10});var f=u-17.5*(s-1)+35*g;c={nodes:[],duration:1e3},n.push({nodes:[],line:11}),m==p.length||y<h.length&&h[y].value<=p[m].value?(c.nodes=[{id:h[y].id,position:{x:f,y:r}}],c.line=12,l[g]=h[y++]):(n.push({nodes:[],line:13}),c.nodes=[{id:p[m].id,position:{x:f,y:r}}],l[g]=p[m++],c.line=14),n.push(c)}return n.push({nodes:[],line:15}),n.push({nodes:[],line:5}),l}(e=e.map(function(e,t){return{value:e,id:t.toString()}}),0,0,t,a/4),n},Fe=a(26),Ve=a(27),He=a(14).connect,Ue={name:"preset",positions:{},padding:30,animate:!0,animationDuration:500},We=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o))))._isMounted=!1,a._mediaRecorder=new D,a.cy=Ve(),a.state={show:!1,values:[1,4,8,1,4,3,6,9,10,-10]},a.layout={run:function(){},stop:function(){}},a.nodeStyle=Fe.NODE,a.addNode=function(e,t){a.cy.add({group:"nodes",data:{id:e,value:t},position:{x:a.cy.width()/2-17.5*(a.state.values.length-1)+35*parseInt(e),y:a.cy.height()/2}}),Ue.positions[e]={x:a.cy.width()/2-17.5*(a.state.values.length-1)+35*parseInt(e),y:a.cy.height()/2}},a.executeAnimation=function(e){a.cy.nodes().style({"background-color":"white",color:"black"});!function(){var t=0;!function n(){if(t===e.length||!a.props.animation)return a.cy.nodes().style(a.nodeStyle),a.props.dispatch({type:O.ANIMATION_END}),void a.refreshLayout();var o=e[t++],i=o.nodes,r=o.duration,l=o.line;i&&(console.log(i),i.forEach(function(e){a.cy.getElementById(e.id).style({visibility:"visible"}),Ue.positions[e.id]=e.position})),a._isMounted&&null!=l&&a.props.dispatch({type:O.CHANGE_LINE,payload:{line:l}}),a.refreshLayout(),console.log(a.cy.nodes()),setTimeout(n,(void 0===r?1e3/a.props.speed:r)/a.props.speed)}()}()},a.runButton=function(){if(a.props.animation)return a.props.dispatch({type:O.ANIMATION_END}),void a.initialize();new Promise(function(e,t){a.props.dispatch({type:O.ANIMATION_START}),e(Pe(a.state.values,a.cy.width(),a.cy.height()))}).then(function(e){setTimeout(a.executeAnimation,1e3/a.props.speed,e)})},a.handleClose=function(){a.setState({show:!1})},a.changeArray=function(e){a.setState({values:e})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.cy=Ve({container:document.getElementById("canvas"),elements:[],style:[{selector:"node",style:Object(S.a)({},Fe.NODE,{shape:"square"})}],layout:{name:"preset"},headless:!1,styleEnabled:!0,hideEdgesOnViewport:!1,hideLabelsOnViewport:!1,userPanningEnabled:!1,zoomingEnabled:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.2,wheelSensitivity:1,pixelRatio:"1.0"}),this.cy.autopanOnDrag({enabled:!0,speed:.01}),this.layout=this.cy.elements().makeLayout(Ue),this.layout.run(),this.props.dispatch({type:this.props.action}),this.initialize()}},{key:"componentDidUpdate",value:function(e,t){Ue.animationDuration=500/this.props.speed,t.values!==this.state.values&&this.initialize()}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:O.ANIMATION_END}),this._isMounted=!1,this.cy.nodes().forEach(function(e){var t=e.id(),a=document.getElementById(t+"popper");a&&document.body.removeChild(a)})}},{key:"refreshLayout",value:function(){this.layout.stop(),this.layout=this.cy.elements().makeLayout(Ue),this.layout.run()}},{key:"initialize",value:function(){var e=this;this.cy.nodes().forEach(function(t){return e.cy.remove(t)});for(var t=0;t<this.state.values.length;t++)this.addNode(t.toString(),this.state.values[t])}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Le,{show:this.state.show,handleClose:this.handleClose,changeArray:this.changeArray,currentValues:this.state.values}),o.a.createElement(h.a,{fluid:!0},o.a.createElement(p.a,{id:"canvas"}),o.a.createElement(w,{run:this.runButton}),o.a.createElement("button",{onClick:function(){return e._mediaRecorder.takePicture(e.cy)}},"Test picture"),o.a.createElement("button",{onClick:function(){return e._mediaRecorder.takeGif(e.cy)}},"Test gif"),o.a.createElement("button",{onClick:function(){return e.setState({show:!0})}},"Change array")))}}]),t}(o.a.Component),ze=He(function(e){return{animation:e.animation,speed:e.speed}})(We),Ke=a(62),Je=Ke.HashRouter,Xe=Ke.Route,qe=function(e){function t(e){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(p.a,null,o.a.createElement(y.a,null,o.a.createElement(Je,null,o.a.createElement(Xe,{path:"/BFS",render:function(){return o.a.createElement(J,Te.BFS)}}),o.a.createElement(Xe,{path:"/DFS",render:function(){return o.a.createElement(J,Te.DFS)}}),o.a.createElement(Xe,{path:"/Dijkstra",render:function(){return o.a.createElement(J,Te.Dijkstra)}}),o.a.createElement(Xe,{path:"/Prim",render:function(){return o.a.createElement(J,Te.Prim)}}),o.a.createElement(Xe,{path:"/Kruskal",render:function(){return o.a.createElement(J,Te.Kruskal)}}),o.a.createElement(Xe,{path:"/Heap",render:function(){return o.a.createElement(re,Te.Heap)}}),o.a.createElement(Xe,{path:"/AVL",render:function(){return o.a.createElement(Se,Te.AVL)}}),o.a.createElement(Xe,{path:"/BubbleSort",render:function(){return o.a.createElement(Me,Te.BubbleSort)}}),o.a.createElement(Xe,{path:"/MergeSort",render:function(){return o.a.createElement(ze,Te.MergeSort)}}))))}}]),t}(o.a.Component),$e=a(62),Qe=$e.NavLink,Ye=$e.HashRouter,Ze=(0,a(14).connect)(function(e){return{algorithm:e.algorithm}})(function(e){for(var t=[{name:"BFS"},{name:"DFS"},{name:"Dijkstra"},{name:"Prim"},{name:"Kruskal"},{name:"Heap"},{name:"AVL"},{name:"BubbleSort"},{name:"MergeSort"}],a=[],n=0;n<t.length;n++)a.push(o.a.createElement(Qe,{to:"/"+t[n].name},o.a.createElement("li",{className:t[n].name===e.algorithm?"active":"normal"},t[n].name)));return o.a.createElement(Ye,null,o.a.createElement("ul",null,a))}),et=a(14),tt=[{text:"BFS(Grafo G(V,E), nodo inicio):",ind:0},{text:"Para cada nodo u \u2208 V:",ind:1},{text:"color[u]=Blanco",ind:2},{text:"color[inicio]=Gris:",ind:1},{text:"encolar(cola, inicio)",ind:1},{text:"Mientras no vacio(cola):",ind:1},{text:"u=extraer(cola)",ind:2},{text:"color[u]=Negro",ind:2},{text:"Para cada v adyacente a u:",ind:2},{text:"Si color[v] es Blanco:",ind:3},{text:"color[v]=Gris",ind:4},{text:"encolar(cola, v)",ind:4}],at=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("body",null,o.a.createElement("div",{style:{display:"table",width:"100%"}},o.a.createElement(h.a,{fluid:!0},o.a.createElement(p.a,null,o.a.createElement(y.a,{xs:2,className:"sidebar"},o.a.createElement(Ze,null)),o.a.createElement(y.a,{xs:7},o.a.createElement(qe,{algorithm:this.props.algorithm})),o.a.createElement(y.a,{xs:3},o.a.createElement(k,{algorithm:this.props.algorithm}))))))}}]),t}(o.a.Component),nt=Object(et.connect)(function(e){return{algorithm:e.algorithm}})(at);a(121),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ot=a(33),it=[{text:"DFS_visitar(nodo u):",ind:0},{text:"color[u]=Gris",ind:1},{text:"Para cada v adyacente a u:",ind:1},{text:"Si color[v] es blanco:",ind:2},{text:"DFS_visitar(v)",ind:3},{text:"color[u]=Negro",ind:1},{text:"\u2063",ind:0},{text:"DFS(Grafo G(V,E), Nodo inicio):",ind:0},{text:"Para cada u \u2208 V",ind:1},{text:"color[u]=blanco:",ind:2},{text:"DFS_visitar(u)",ind:1}],rt=[{text:"Dijkstra(Grafo G(V,E), nodo inicio):",ind:0},{text:"Para cada u \u2208 V:",ind:1},{text:"distancia[u]=\u221e",ind:2},{text:"encolar(cola, <inicio,0>)",ind:2},{text:"Mientras no vacio(cola):",ind:1},{text:"u=extraer_minimo(cola)",ind:2},{text:"Para cada v adyacente a u:",ind:2},{text:"Si distancia[u]+peso(u,v)<distancia[v]:",ind:3},{text:"distancia[v]=distancia[u]+peso(u,v)",ind:4},{text:"actualizar(cola, <v,distancia[v]>)",ind:4}],lt=[{text:"Kruskal(Arreglo de aristas E):",ind:0},{text:"Peso=0",ind:1},{text:"Arbol T=Vacio",ind:1},{text:"Ordenar por peso E",ind:1},{text:"Para cada arista (u, v, w) en E:",ind:1},{text:"Si no hay camino de u a v en T:",ind:2},{text:"A\xf1adir (u, v, w) a T",ind:3},{text:"Peso=Peso+w",ind:3},{text:"Retornar (T,Peso)",ind:1}],st=[{text:"OrdenamientoBurbuja(Arreglo A):",ind:0},{text:"Repetir:",ind:1},{text:"Ordenado=Verdad",ind:2},{text:"Para i=1 hasta longitud(A)-1:",ind:2},{text:"Si A[i-1] > A[i]:",ind:3},{text:"Intercambiar(A[i-1], A[i])",ind:4},{text:"Ordenado=Falso",ind:4},{text:"Hasta Ordenado",ind:1}],ct=[{text:"mergeSort(Arrego A[n]):",ind:0},{text:"Si n==1:",ind:1},{text:"Retornar A",ind:2},{text:"Arreglo L=mergeSort(A[0..n/2))",ind:1},{text:"Arreglo R=mergeSort(A[n/2..n))",ind:1},{text:"retornar merge(L,R)",ind:1},{text:"\u2063",ind:0},{text:"merge(Arreglo L[n], Arreglo R[m]):",ind:0},{text:"Arreglo M[n+m]",ind:1},{text:"p=0, i=0, j=0",ind:1},{text:"Mientras i<n o j<m :",ind:1},{text:"Si j==m o (i<n y L[i]\u2264R[j]):",ind:2},{text:"M[p]=L[i], p=p+1, i=i+1",ind:3},{text:"Sino:",ind:2},{text:"M[p]=R[j], p=p+1, j=j+1",ind:3},{text:"Retornar M",ind:1}],ut=[{text:"Prim(Grafo G(V,E)):",ind:0},{text:"F=Vacio",ind:1},{text:"Para cada u \u2208 V",ind:1},{text:"distancia[u]=\u221e",ind:2},{text:"padre[u]=u",ind:2},{text:"encolar(cola,<u,\u221e>)",ind:2},{text:"Mientras no vacio(cola):",ind:1},{text:"u=extraer_minimo(cola)",ind:2},{text:"A\xf1adir u a F",ind:2},{text:"Si padre[u]!=u:",ind:2},{text:"A\xf1adir (padre[u], u) a F",ind:3},{text:"Para cada v adyacente a u:",ind:2},{text:"Si v \u2209 F y peso(u,v)<distancia[v]:",ind:3},{text:"Actualizar(cola,<v,peso(u,v)>)",ind:4},{text:"distancia[v]=peso(u,v)",ind:4},{text:"retornar F",ind:1}],dt={algorithm:"BFS",selection:null,animation:!1,speed:1,loadingGraph:!1,data:null,pseudo:null,line:null},ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.SELECT_BFS:return Object(S.a)({},e,{algorithm:"BFS",selection:null,speed:1,pseudo:tt});case O.SELECT_DFS:return Object(S.a)({},e,{algorithm:"DFS",selection:null,speed:1,pseudo:it});case O.SELECT_DIJKSTRA:return Object(S.a)({},e,{algorithm:"Dijkstra",selection:null,speed:1,pseudo:rt});case O.SELECT_KRUSKAL:return Object(S.a)({},e,{algorithm:"Kruskal",selection:null,speed:1,pseudo:lt});case O.SELECT_PRIM:return Object(S.a)({},e,{algorithm:"Prim",selection:null,speed:1,pseudo:ut});case O.SELECT_HEAP:return Object(S.a)({},e,{algorithm:"Heap",selection:null,speed:1});case O.SELECT_AVL:return Object(S.a)({},e,{algorithm:"AVL",selection:null,speed:1});case O.SELECT_BUBBLESORT:return Object(S.a)({},e,{algorithm:"BubbleSort",selection:null,speed:1,pseudo:st});case O.SELECT_MERGESORT:return Object(S.a)({},e,{algorithm:"MergeSort",selection:null,speed:1,pseudo:ct});case O.NO_SELECTION:return Object(S.a)({},e,{selection:null});case O.SELECTION:return Object(S.a)({},e,{selection:t.payload.selection});case O.ANIMATION_START:return Object(S.a)({},e,{selection:null,animation:!0});case O.ANIMATION_END:return Object(S.a)({},e,{animation:!1,line:null});case O.CLEAR_GRAPH:return Object(S.a)({},e,{selection:null,animation:!1});case O.DEC_SPEED:return Object(S.a)({},e,{speed:Math.min(e.speed+.1,2)});case O.INC_SPEED:return Object(S.a)({},e,{speed:Math.max(e.speed-.1,0)});case O.CHANGE_SPEED:return Object(S.a)({},e,{speed:t.payload.speed});case O.CHANGE_LINE:return Object(S.a)({},e,{line:t.payload.line});case O.LOAD_GRAPH:return Object(S.a)({},e,{loadingGraph:!0,data:t.payload.data});case O.FINISHED_LOAD:return Object(S.a)({},e,{loadingGraph:!1,data:null});default:return e}},pt=Object(ot.b)(ht);r.a.render(o.a.createElement(et.Provider,{store:pt},o.a.createElement(nt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},26:function(e,t,a){"use strict";a.r(t),a.d(t,"NODE",function(){return n}),a.d(t,"NODE_SELECTED",function(){return o}),a.d(t,"EDGE",function(){return i}),a.d(t,"EDGE_DIRECTED",function(){return r}),a.d(t,"EDGE_WEIGHTED",function(){return l}),a.d(t,"EDGE_SELECTED",function(){return s});var n={"background-color":"white",color:"black","border-style":"solid",width:"35",height:"35","border-width":"1","border-opacity":"1","border-color":"black",label:"data(value)","text-valign":"center","text-halign":"center"},o={"background-color":"#00FFFF"},i={width:2,"line-color":"#ccc","curve-style":"bezier","line-style":"solid"},r={"target-arrow-color":"#ccc","target-arrow-shape":"triangle"},l={label:"data(weight)","text-margin-y":"-10.0","text-rotation":"autorotate"},s={"line-color":"black","target-arrow-color":"black"}},67:function(e,t,a){e.exports=a(122)},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){}},[[67,1,2]]]);
//# sourceMappingURL=main.f14711a6.chunk.js.map